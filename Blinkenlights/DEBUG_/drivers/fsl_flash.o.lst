   1              		.cpu cortex-m0plus
   2              		.eabi_attribute 20, 1
   3              		.eabi_attribute 21, 1
   4              		.eabi_attribute 23, 3
   5              		.eabi_attribute 24, 1
   6              		.eabi_attribute 25, 1
   7              		.eabi_attribute 26, 1
   8              		.eabi_attribute 30, 6
   9              		.eabi_attribute 34, 0
  10              		.eabi_attribute 18, 4
  11              		.file	"fsl_flash.c"
  12              		.text
  13              	.Ltext0:
  14              		.cfi_sections	.debug_frame
  15              		.global	kFCCOBx
  16              		.section	.rodata.kFCCOBx,"a"
  17              		.align	2
  20              	kFCCOBx:
  21 0000 04000240 		.word	1073872900
  22              		.global	kFPROTL
  23              		.section	.rodata.kFPROTL,"a"
  24              		.align	2
  27              	kFPROTL:
  28 0000 10000240 		.word	1073872912
  29              		.section	.bss.callFlashRunCommand,"aw",%nobits
  30              		.align	2
  33              	callFlashRunCommand:
  34 0000 00000000 		.space	4
  35              		.section	.bss.callFlashCommonBitOperation,"aw",%nobits
  36              		.align	2
  39              	callFlashCommonBitOperation:
  40 0000 00000000 		.space	4
  41              		.section	.rodata.s_flashRunCommandFunctionCode,"a"
  42              		.align	2
  45              	s_flashRunCommandFunctionCode:
  46 0000 8021     		.short	8576
  47 0002 0170     		.short	28673
  48 0004 0278     		.short	30722
  49 0006 0A42     		.short	16906
  50 0008 FCD0     		.short	-12036
  51 000a 7047     		.short	18288
  52              		.section	.rodata.s_flashCommonBitOperationFunctionCode,"a"
  53              		.align	2
  56              	s_flashCommonBitOperationFunctionCode:
  57 0000 10B5     		.short	-19184
  58 0002 0029     		.short	10496
  59 0004 05D0     		.short	-12283
  60 0006 0468     		.short	26628
  61 0008 8C43     		.short	17292
  62 000a 9340     		.short	16531
  63 000c 1940     		.short	16409
  64 000e 2143     		.short	17185
  65 0010 0160     		.short	24577
  66 0012 BFF3     		.short	-3137
  67 0014 6F8F     		.short	-28817
  68 0016 BFF3     		.short	-3137
  69 0018 4F8F     		.short	-28849
  70 001a 10BD     		.short	-17136
  71              		.section	.bss.s_flashRunCommand,"aw",%nobits
  72              		.align	2
  75              	s_flashRunCommand:
  76 0000 00000000 		.space	64
  76      00000000 
  76      00000000 
  76      00000000 
  76      00000000 
  77              		.section	.bss.s_flashCommonBitOperation,"aw",%nobits
  78              		.align	2
  81              	s_flashCommonBitOperation:
  82 0000 00000000 		.space	64
  82      00000000 
  82      00000000 
  82      00000000 
  82      00000000 
  83              		.section	.bss.s_flashExecuteInRamFunctionInfo,"aw",%nobits
  84              		.align	2
  87              	s_flashExecuteInRamFunctionInfo:
  88 0000 00000000 		.space	12
  88      00000000 
  88      00000000 
  89              		.global	kPFlashDensities
  90              		.section	.rodata.kPFlashDensities,"a"
  91              		.align	2
  94              	kPFlashDensities:
  95 0000 0800     		.short	8
  96 0002 1000     		.short	16
  97 0004 1800     		.short	24
  98 0006 2000     		.short	32
  99 0008 3000     		.short	48
 100 000a 4000     		.short	64
 101 000c 6000     		.short	96
 102 000e 8000     		.short	128
 103 0010 C000     		.short	192
 104 0012 0001     		.short	256
 105 0014 8001     		.short	384
 106 0016 0002     		.short	512
 107 0018 0003     		.short	768
 108 001a 0004     		.short	1024
 109 001c 0006     		.short	1536
 110              		.section	.text.FLASH_Init,"ax",%progbits
 111              		.align	1
 112              		.global	FLASH_Init
 113              		.arch armv6s-m
 114              		.syntax unified
 115              		.code	16
 116              		.thumb_func
 117              		.fpu softvfp
 119              	FLASH_Init:
 120              	.LFB56:
 121              		.file 1 "../drivers/fsl_flash.c"
   1:../drivers/fsl_flash.c **** /*
   2:../drivers/fsl_flash.c ****  * Copyright (c) 2015-2016, Freescale Semiconductor, Inc.
   3:../drivers/fsl_flash.c ****  * Copyright 2016-2017 NXP
   4:../drivers/fsl_flash.c ****  *
   5:../drivers/fsl_flash.c ****  * Redistribution and use in source and binary forms, with or without modification,
   6:../drivers/fsl_flash.c ****  * are permitted provided that the following conditions are met:
   7:../drivers/fsl_flash.c ****  *
   8:../drivers/fsl_flash.c ****  * o Redistributions of source code must retain the above copyright notice, this list
   9:../drivers/fsl_flash.c ****  *   of conditions and the following disclaimer.
  10:../drivers/fsl_flash.c ****  *
  11:../drivers/fsl_flash.c ****  * o Redistributions in binary form must reproduce the above copyright notice, this
  12:../drivers/fsl_flash.c ****  *   list of conditions and the following disclaimer in the documentation and/or
  13:../drivers/fsl_flash.c ****  *   other materials provided with the distribution.
  14:../drivers/fsl_flash.c ****  *
  15:../drivers/fsl_flash.c ****  * o Neither the name of the copyright holder nor the names of its
  16:../drivers/fsl_flash.c ****  *   contributors may be used to endorse or promote products derived from this
  17:../drivers/fsl_flash.c ****  *   software without specific prior written permission.
  18:../drivers/fsl_flash.c ****  *
  19:../drivers/fsl_flash.c ****  * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
  20:../drivers/fsl_flash.c ****  * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
  21:../drivers/fsl_flash.c ****  * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
  22:../drivers/fsl_flash.c ****  * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR
  23:../drivers/fsl_flash.c ****  * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
  24:../drivers/fsl_flash.c ****  * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
  25:../drivers/fsl_flash.c ****  * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON
  26:../drivers/fsl_flash.c ****  * ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
  27:../drivers/fsl_flash.c ****  * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  28:../drivers/fsl_flash.c ****  * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
  29:../drivers/fsl_flash.c ****  */
  30:../drivers/fsl_flash.c **** 
  31:../drivers/fsl_flash.c **** #include "fsl_flash.h"
  32:../drivers/fsl_flash.c **** 
  33:../drivers/fsl_flash.c **** /*******************************************************************************
  34:../drivers/fsl_flash.c ****  * Definitions
  35:../drivers/fsl_flash.c ****  ******************************************************************************/
  36:../drivers/fsl_flash.c **** 
  37:../drivers/fsl_flash.c **** /*!
  38:../drivers/fsl_flash.c ****  * @name Misc utility defines
  39:../drivers/fsl_flash.c ****  * @{
  40:../drivers/fsl_flash.c ****  */
  41:../drivers/fsl_flash.c **** /*! @brief Alignment utility. */
  42:../drivers/fsl_flash.c **** #ifndef ALIGN_DOWN
  43:../drivers/fsl_flash.c **** #define ALIGN_DOWN(x, a) ((x) & (uint32_t)(-((int32_t)(a))))
  44:../drivers/fsl_flash.c **** #endif
  45:../drivers/fsl_flash.c **** #ifndef ALIGN_UP
  46:../drivers/fsl_flash.c **** #define ALIGN_UP(x, a) (-((int32_t)((uint32_t)(-((int32_t)(x))) & (uint32_t)(-((int32_t)(a))))))
  47:../drivers/fsl_flash.c **** #endif
  48:../drivers/fsl_flash.c **** 
  49:../drivers/fsl_flash.c **** /*! @brief Join bytes to word utility. */
  50:../drivers/fsl_flash.c **** #define B1P4(b) (((uint32_t)(b)&0xFFU) << 24)
  51:../drivers/fsl_flash.c **** #define B1P3(b) (((uint32_t)(b)&0xFFU) << 16)
  52:../drivers/fsl_flash.c **** #define B1P2(b) (((uint32_t)(b)&0xFFU) << 8)
  53:../drivers/fsl_flash.c **** #define B1P1(b) ((uint32_t)(b)&0xFFU)
  54:../drivers/fsl_flash.c **** #define B2P3(b) (((uint32_t)(b)&0xFFFFU) << 16)
  55:../drivers/fsl_flash.c **** #define B2P2(b) (((uint32_t)(b)&0xFFFFU) << 8)
  56:../drivers/fsl_flash.c **** #define B2P1(b) ((uint32_t)(b)&0xFFFFU)
  57:../drivers/fsl_flash.c **** #define B3P2(b) (((uint32_t)(b)&0xFFFFFFU) << 8)
  58:../drivers/fsl_flash.c **** #define B3P1(b) ((uint32_t)(b)&0xFFFFFFU)
  59:../drivers/fsl_flash.c **** #define BYTES_JOIN_TO_WORD_1_3(x, y) (B1P4(x) | B3P1(y))
  60:../drivers/fsl_flash.c **** #define BYTES_JOIN_TO_WORD_2_2(x, y) (B2P3(x) | B2P1(y))
  61:../drivers/fsl_flash.c **** #define BYTES_JOIN_TO_WORD_3_1(x, y) (B3P2(x) | B1P1(y))
  62:../drivers/fsl_flash.c **** #define BYTES_JOIN_TO_WORD_1_1_2(x, y, z) (B1P4(x) | B1P3(y) | B2P1(z))
  63:../drivers/fsl_flash.c **** #define BYTES_JOIN_TO_WORD_1_2_1(x, y, z) (B1P4(x) | B2P2(y) | B1P1(z))
  64:../drivers/fsl_flash.c **** #define BYTES_JOIN_TO_WORD_2_1_1(x, y, z) (B2P3(x) | B1P2(y) | B1P1(z))
  65:../drivers/fsl_flash.c **** #define BYTES_JOIN_TO_WORD_1_1_1_1(x, y, z, w) (B1P4(x) | B1P3(y) | B1P2(z) | B1P1(w))
  66:../drivers/fsl_flash.c **** /*@}*/
  67:../drivers/fsl_flash.c **** 
  68:../drivers/fsl_flash.c **** /*!
  69:../drivers/fsl_flash.c ****  * @name Secondary flash configuration
  70:../drivers/fsl_flash.c ****  * @{
  71:../drivers/fsl_flash.c ****  */
  72:../drivers/fsl_flash.c **** /*! @brief Indicates whether the secondary flash has its own protection register in flash module. *
  73:../drivers/fsl_flash.c **** #if defined(FSL_FEATURE_FLASH_HAS_MULTIPLE_FLASH) && defined(FTFE_FPROTS_PROTS_MASK)
  74:../drivers/fsl_flash.c **** #define FLASH_SSD_SECONDARY_FLASH_HAS_ITS_OWN_PROTECTION_REGISTER (1)
  75:../drivers/fsl_flash.c **** #else
  76:../drivers/fsl_flash.c **** #define FLASH_SSD_SECONDARY_FLASH_HAS_ITS_OWN_PROTECTION_REGISTER (0)
  77:../drivers/fsl_flash.c **** #endif
  78:../drivers/fsl_flash.c **** 
  79:../drivers/fsl_flash.c **** /*! @brief Indicates whether the secondary flash has its own Execute-Only access register in flash 
  80:../drivers/fsl_flash.c **** #if defined(FSL_FEATURE_FLASH_HAS_MULTIPLE_FLASH) && defined(FTFE_FACSSS_SGSIZE_S_MASK)
  81:../drivers/fsl_flash.c **** #define FLASH_SSD_SECONDARY_FLASH_HAS_ITS_OWN_ACCESS_REGISTER (1)
  82:../drivers/fsl_flash.c **** #else
  83:../drivers/fsl_flash.c **** #define FLASH_SSD_SECONDARY_FLASH_HAS_ITS_OWN_ACCESS_REGISTER (0)
  84:../drivers/fsl_flash.c **** #endif
  85:../drivers/fsl_flash.c **** /*@}*/
  86:../drivers/fsl_flash.c **** 
  87:../drivers/fsl_flash.c **** /*!
  88:../drivers/fsl_flash.c ****  * @name Flash cache ands speculation control defines
  89:../drivers/fsl_flash.c ****  * @{
  90:../drivers/fsl_flash.c ****  */
  91:../drivers/fsl_flash.c **** #if defined(MCM_PLACR_CFCC_MASK) || defined(MCM_CPCR2_CCBC_MASK)
  92:../drivers/fsl_flash.c **** #define FLASH_CACHE_IS_CONTROLLED_BY_MCM (1)
  93:../drivers/fsl_flash.c **** #else
  94:../drivers/fsl_flash.c **** #define FLASH_CACHE_IS_CONTROLLED_BY_MCM (0)
  95:../drivers/fsl_flash.c **** #endif
  96:../drivers/fsl_flash.c **** #if defined(FMC_PFB0CR_CINV_WAY_MASK) || defined(FMC_PFB01CR_CINV_WAY_MASK)
  97:../drivers/fsl_flash.c **** #define FLASH_CACHE_IS_CONTROLLED_BY_FMC (1)
  98:../drivers/fsl_flash.c **** #else
  99:../drivers/fsl_flash.c **** #define FLASH_CACHE_IS_CONTROLLED_BY_FMC (0)
 100:../drivers/fsl_flash.c **** #endif
 101:../drivers/fsl_flash.c **** #if defined(MCM_PLACR_DFCS_MASK)
 102:../drivers/fsl_flash.c **** #define FLASH_PREFETCH_SPECULATION_IS_CONTROLLED_BY_MCM (1)
 103:../drivers/fsl_flash.c **** #else
 104:../drivers/fsl_flash.c **** #define FLASH_PREFETCH_SPECULATION_IS_CONTROLLED_BY_MCM (0)
 105:../drivers/fsl_flash.c **** #endif
 106:../drivers/fsl_flash.c **** #if defined(MSCM_OCMDR_OCM1_MASK) || defined(MSCM_OCMDR_OCMC1_MASK)
 107:../drivers/fsl_flash.c **** #define FLASH_PREFETCH_SPECULATION_IS_CONTROLLED_BY_MSCM (1)
 108:../drivers/fsl_flash.c **** #else
 109:../drivers/fsl_flash.c **** #define FLASH_PREFETCH_SPECULATION_IS_CONTROLLED_BY_MSCM (0)
 110:../drivers/fsl_flash.c **** #endif
 111:../drivers/fsl_flash.c **** #if defined(FMC_PFB0CR_S_INV_MASK) || defined(FMC_PFB0CR_S_B_INV_MASK) || defined(FMC_PFB01CR_S_INV
 112:../drivers/fsl_flash.c ****     defined(FMC_PFB01CR_S_B_INV_MASK)
 113:../drivers/fsl_flash.c **** #define FLASH_PREFETCH_SPECULATION_IS_CONTROLLED_BY_FMC (1)
 114:../drivers/fsl_flash.c **** #else
 115:../drivers/fsl_flash.c **** #define FLASH_PREFETCH_SPECULATION_IS_CONTROLLED_BY_FMC (0)
 116:../drivers/fsl_flash.c **** #endif
 117:../drivers/fsl_flash.c **** /*@}*/
 118:../drivers/fsl_flash.c **** 
 119:../drivers/fsl_flash.c **** /*! @brief Data flash IFR map Field*/
 120:../drivers/fsl_flash.c **** #if defined(FSL_FEATURE_FLASH_IS_FTFE) && FSL_FEATURE_FLASH_IS_FTFE
 121:../drivers/fsl_flash.c **** #define DFLASH_IFR_READRESOURCE_START_ADDRESS 0x8003F8U
 122:../drivers/fsl_flash.c **** #else /* FSL_FEATURE_FLASH_IS_FTFL == 1 or FSL_FEATURE_FLASH_IS_FTFA = =1 */
 123:../drivers/fsl_flash.c **** #define DFLASH_IFR_READRESOURCE_START_ADDRESS 0x8000F8U
 124:../drivers/fsl_flash.c **** #endif
 125:../drivers/fsl_flash.c **** 
 126:../drivers/fsl_flash.c **** /*!
 127:../drivers/fsl_flash.c ****  * @name Reserved FlexNVM size (For a variety of purposes) defines
 128:../drivers/fsl_flash.c ****  * @{
 129:../drivers/fsl_flash.c ****  */
 130:../drivers/fsl_flash.c **** #define FLEX_NVM_DFLASH_SIZE_FOR_DEPART_RESERVED 0xFFFFFFFFU
 131:../drivers/fsl_flash.c **** #define FLEX_NVM_EEPROM_SIZE_FOR_EEESIZE_RESERVED 0xFFFFU
 132:../drivers/fsl_flash.c **** /*@}*/
 133:../drivers/fsl_flash.c **** 
 134:../drivers/fsl_flash.c **** /*!
 135:../drivers/fsl_flash.c ****  * @name Flash Program Once Field defines
 136:../drivers/fsl_flash.c ****  * @{
 137:../drivers/fsl_flash.c ****  */
 138:../drivers/fsl_flash.c **** #if defined(FSL_FEATURE_FLASH_IS_FTFA) && FSL_FEATURE_FLASH_IS_FTFA
 139:../drivers/fsl_flash.c **** /* FTFA parts(eg. K80, KL80, L5K) support both 4-bytes and 8-bytes unit size */
 140:../drivers/fsl_flash.c **** #define FLASH_PROGRAM_ONCE_MIN_ID_8BYTES \
 141:../drivers/fsl_flash.c ****     0x10U /* Minimum Index indcating one of Progam Once Fields which is accessed in 8-byte records 
 142:../drivers/fsl_flash.c **** #define FLASH_PROGRAM_ONCE_MAX_ID_8BYTES \
 143:../drivers/fsl_flash.c ****     0x13U /* Maximum Index indcating one of Progam Once Fields which is accessed in 8-byte records 
 144:../drivers/fsl_flash.c **** #define FLASH_PROGRAM_ONCE_IS_4BYTES_UNIT_SUPPORT 1
 145:../drivers/fsl_flash.c **** #define FLASH_PROGRAM_ONCE_IS_8BYTES_UNIT_SUPPORT 1
 146:../drivers/fsl_flash.c **** #elif defined(FSL_FEATURE_FLASH_IS_FTFE) && FSL_FEATURE_FLASH_IS_FTFE
 147:../drivers/fsl_flash.c **** /* FTFE parts(eg. K65, KE18) only support 8-bytes unit size */
 148:../drivers/fsl_flash.c **** #define FLASH_PROGRAM_ONCE_IS_4BYTES_UNIT_SUPPORT 0
 149:../drivers/fsl_flash.c **** #define FLASH_PROGRAM_ONCE_IS_8BYTES_UNIT_SUPPORT 1
 150:../drivers/fsl_flash.c **** #elif defined(FSL_FEATURE_FLASH_IS_FTFL) && FSL_FEATURE_FLASH_IS_FTFL
 151:../drivers/fsl_flash.c **** /* FTFL parts(eg. K20) only support 4-bytes unit size */
 152:../drivers/fsl_flash.c **** #define FLASH_PROGRAM_ONCE_IS_4BYTES_UNIT_SUPPORT 1
 153:../drivers/fsl_flash.c **** #define FLASH_PROGRAM_ONCE_IS_8BYTES_UNIT_SUPPORT 0
 154:../drivers/fsl_flash.c **** #endif
 155:../drivers/fsl_flash.c **** /*@}*/
 156:../drivers/fsl_flash.c **** 
 157:../drivers/fsl_flash.c **** /*!
 158:../drivers/fsl_flash.c ****  * @name Flash security status defines
 159:../drivers/fsl_flash.c ****  * @{
 160:../drivers/fsl_flash.c ****  */
 161:../drivers/fsl_flash.c **** #define FLASH_SECURITY_STATE_KEYEN 0x80U
 162:../drivers/fsl_flash.c **** #define FLASH_SECURITY_STATE_UNSECURED 0x02U
 163:../drivers/fsl_flash.c **** #define FLASH_NOT_SECURE 0x01U
 164:../drivers/fsl_flash.c **** #define FLASH_SECURE_BACKDOOR_ENABLED 0x02U
 165:../drivers/fsl_flash.c **** #define FLASH_SECURE_BACKDOOR_DISABLED 0x04U
 166:../drivers/fsl_flash.c **** /*@}*/
 167:../drivers/fsl_flash.c **** 
 168:../drivers/fsl_flash.c **** /*!
 169:../drivers/fsl_flash.c ****  * @name Flash controller command numbers
 170:../drivers/fsl_flash.c ****  * @{
 171:../drivers/fsl_flash.c ****  */
 172:../drivers/fsl_flash.c **** #define FTFx_VERIFY_BLOCK 0x00U                    /*!< RD1BLK*/
 173:../drivers/fsl_flash.c **** #define FTFx_VERIFY_SECTION 0x01U                  /*!< RD1SEC*/
 174:../drivers/fsl_flash.c **** #define FTFx_PROGRAM_CHECK 0x02U                   /*!< PGMCHK*/
 175:../drivers/fsl_flash.c **** #define FTFx_READ_RESOURCE 0x03U                   /*!< RDRSRC*/
 176:../drivers/fsl_flash.c **** #define FTFx_PROGRAM_LONGWORD 0x06U                /*!< PGM4*/
 177:../drivers/fsl_flash.c **** #define FTFx_PROGRAM_PHRASE 0x07U                  /*!< PGM8*/
 178:../drivers/fsl_flash.c **** #define FTFx_ERASE_BLOCK 0x08U                     /*!< ERSBLK*/
 179:../drivers/fsl_flash.c **** #define FTFx_ERASE_SECTOR 0x09U                    /*!< ERSSCR*/
 180:../drivers/fsl_flash.c **** #define FTFx_PROGRAM_SECTION 0x0BU                 /*!< PGMSEC*/
 181:../drivers/fsl_flash.c **** #define FTFx_GENERATE_CRC 0x0CU                    /*!< CRCGEN*/
 182:../drivers/fsl_flash.c **** #define FTFx_VERIFY_ALL_BLOCK 0x40U                /*!< RD1ALL*/
 183:../drivers/fsl_flash.c **** #define FTFx_READ_ONCE 0x41U                       /*!< RDONCE or RDINDEX*/
 184:../drivers/fsl_flash.c **** #define FTFx_PROGRAM_ONCE 0x43U                    /*!< PGMONCE or PGMINDEX*/
 185:../drivers/fsl_flash.c **** #define FTFx_ERASE_ALL_BLOCK 0x44U                 /*!< ERSALL*/
 186:../drivers/fsl_flash.c **** #define FTFx_SECURITY_BY_PASS 0x45U                /*!< VFYKEY*/
 187:../drivers/fsl_flash.c **** #define FTFx_SWAP_CONTROL 0x46U                    /*!< SWAP*/
 188:../drivers/fsl_flash.c **** #define FTFx_ERASE_ALL_BLOCK_UNSECURE 0x49U        /*!< ERSALLU*/
 189:../drivers/fsl_flash.c **** #define FTFx_VERIFY_ALL_EXECUTE_ONLY_SEGMENT 0x4AU /*!< RD1XA*/
 190:../drivers/fsl_flash.c **** #define FTFx_ERASE_ALL_EXECUTE_ONLY_SEGMENT 0x4BU  /*!< ERSXA*/
 191:../drivers/fsl_flash.c **** #define FTFx_PROGRAM_PARTITION 0x80U               /*!< PGMPART)*/
 192:../drivers/fsl_flash.c **** #define FTFx_SET_FLEXRAM_FUNCTION 0x81U            /*!< SETRAM*/
 193:../drivers/fsl_flash.c ****                                                    /*@}*/
 194:../drivers/fsl_flash.c **** 
 195:../drivers/fsl_flash.c **** /*!
 196:../drivers/fsl_flash.c ****  * @name Common flash register info defines
 197:../drivers/fsl_flash.c ****  * @{
 198:../drivers/fsl_flash.c ****  */
 199:../drivers/fsl_flash.c **** #if defined(FTFA)
 200:../drivers/fsl_flash.c **** #define FTFx FTFA
 201:../drivers/fsl_flash.c **** #define FTFx_BASE FTFA_BASE
 202:../drivers/fsl_flash.c **** #define FTFx_FSTAT_CCIF_MASK FTFA_FSTAT_CCIF_MASK
 203:../drivers/fsl_flash.c **** #define FTFx_FSTAT_RDCOLERR_MASK FTFA_FSTAT_RDCOLERR_MASK
 204:../drivers/fsl_flash.c **** #define FTFx_FSTAT_ACCERR_MASK FTFA_FSTAT_ACCERR_MASK
 205:../drivers/fsl_flash.c **** #define FTFx_FSTAT_FPVIOL_MASK FTFA_FSTAT_FPVIOL_MASK
 206:../drivers/fsl_flash.c **** #define FTFx_FSTAT_MGSTAT0_MASK FTFA_FSTAT_MGSTAT0_MASK
 207:../drivers/fsl_flash.c **** #define FTFx_FSEC_SEC_MASK FTFA_FSEC_SEC_MASK
 208:../drivers/fsl_flash.c **** #define FTFx_FSEC_KEYEN_MASK FTFA_FSEC_KEYEN_MASK
 209:../drivers/fsl_flash.c **** #if defined(FSL_FEATURE_FLASH_HAS_FLEX_RAM) && FSL_FEATURE_FLASH_HAS_FLEX_RAM
 210:../drivers/fsl_flash.c **** #define FTFx_FCNFG_RAMRDY_MASK FTFA_FCNFG_RAMRDY_MASK
 211:../drivers/fsl_flash.c **** #endif /* FSL_FEATURE_FLASH_HAS_FLEX_RAM */
 212:../drivers/fsl_flash.c **** #if defined(FSL_FEATURE_FLASH_HAS_FLEX_NVM) && FSL_FEATURE_FLASH_HAS_FLEX_NVM
 213:../drivers/fsl_flash.c **** #define FTFx_FCNFG_EEERDY_MASK FTFA_FCNFG_EEERDY_MASK
 214:../drivers/fsl_flash.c **** #endif /* FSL_FEATURE_FLASH_HAS_FLEX_NVM */
 215:../drivers/fsl_flash.c **** #elif defined(FTFE)
 216:../drivers/fsl_flash.c **** #define FTFx FTFE
 217:../drivers/fsl_flash.c **** #define FTFx_BASE FTFE_BASE
 218:../drivers/fsl_flash.c **** #define FTFx_FSTAT_CCIF_MASK FTFE_FSTAT_CCIF_MASK
 219:../drivers/fsl_flash.c **** #define FTFx_FSTAT_RDCOLERR_MASK FTFE_FSTAT_RDCOLERR_MASK
 220:../drivers/fsl_flash.c **** #define FTFx_FSTAT_ACCERR_MASK FTFE_FSTAT_ACCERR_MASK
 221:../drivers/fsl_flash.c **** #define FTFx_FSTAT_FPVIOL_MASK FTFE_FSTAT_FPVIOL_MASK
 222:../drivers/fsl_flash.c **** #define FTFx_FSTAT_MGSTAT0_MASK FTFE_FSTAT_MGSTAT0_MASK
 223:../drivers/fsl_flash.c **** #define FTFx_FSEC_SEC_MASK FTFE_FSEC_SEC_MASK
 224:../drivers/fsl_flash.c **** #define FTFx_FSEC_KEYEN_MASK FTFE_FSEC_KEYEN_MASK
 225:../drivers/fsl_flash.c **** #if defined(FSL_FEATURE_FLASH_HAS_FLEX_RAM) && FSL_FEATURE_FLASH_HAS_FLEX_RAM
 226:../drivers/fsl_flash.c **** #define FTFx_FCNFG_RAMRDY_MASK FTFE_FCNFG_RAMRDY_MASK
 227:../drivers/fsl_flash.c **** #endif /* FSL_FEATURE_FLASH_HAS_FLEX_RAM */
 228:../drivers/fsl_flash.c **** #if defined(FSL_FEATURE_FLASH_HAS_FLEX_NVM) && FSL_FEATURE_FLASH_HAS_FLEX_NVM
 229:../drivers/fsl_flash.c **** #define FTFx_FCNFG_EEERDY_MASK FTFE_FCNFG_EEERDY_MASK
 230:../drivers/fsl_flash.c **** #endif /* FSL_FEATURE_FLASH_HAS_FLEX_NVM */
 231:../drivers/fsl_flash.c **** #elif defined(FTFL)
 232:../drivers/fsl_flash.c **** #define FTFx FTFL
 233:../drivers/fsl_flash.c **** #define FTFx_BASE FTFL_BASE
 234:../drivers/fsl_flash.c **** #define FTFx_FSTAT_CCIF_MASK FTFL_FSTAT_CCIF_MASK
 235:../drivers/fsl_flash.c **** #define FTFx_FSTAT_RDCOLERR_MASK FTFL_FSTAT_RDCOLERR_MASK
 236:../drivers/fsl_flash.c **** #define FTFx_FSTAT_ACCERR_MASK FTFL_FSTAT_ACCERR_MASK
 237:../drivers/fsl_flash.c **** #define FTFx_FSTAT_FPVIOL_MASK FTFL_FSTAT_FPVIOL_MASK
 238:../drivers/fsl_flash.c **** #define FTFx_FSTAT_MGSTAT0_MASK FTFL_FSTAT_MGSTAT0_MASK
 239:../drivers/fsl_flash.c **** #define FTFx_FSEC_SEC_MASK FTFL_FSEC_SEC_MASK
 240:../drivers/fsl_flash.c **** #define FTFx_FSEC_KEYEN_MASK FTFL_FSEC_KEYEN_MASK
 241:../drivers/fsl_flash.c **** #if defined(FSL_FEATURE_FLASH_HAS_FLEX_RAM) && FSL_FEATURE_FLASH_HAS_FLEX_RAM
 242:../drivers/fsl_flash.c **** #define FTFx_FCNFG_RAMRDY_MASK FTFL_FCNFG_RAMRDY_MASK
 243:../drivers/fsl_flash.c **** #endif /* FSL_FEATURE_FLASH_HAS_FLEX_RAM */
 244:../drivers/fsl_flash.c **** #if defined(FSL_FEATURE_FLASH_HAS_FLEX_NVM) && FSL_FEATURE_FLASH_HAS_FLEX_NVM
 245:../drivers/fsl_flash.c **** #define FTFx_FCNFG_EEERDY_MASK FTFL_FCNFG_EEERDY_MASK
 246:../drivers/fsl_flash.c **** #endif /* FSL_FEATURE_FLASH_HAS_FLEX_NVM */
 247:../drivers/fsl_flash.c **** #else
 248:../drivers/fsl_flash.c **** #error "Unknown flash controller"
 249:../drivers/fsl_flash.c **** #endif
 250:../drivers/fsl_flash.c **** /*@}*/
 251:../drivers/fsl_flash.c **** 
 252:../drivers/fsl_flash.c **** /*!
 253:../drivers/fsl_flash.c ****  * @name Common flash register access info defines
 254:../drivers/fsl_flash.c ****  * @{
 255:../drivers/fsl_flash.c ****  */
 256:../drivers/fsl_flash.c **** #define FTFx_FCCOB3_REG (FTFx->FCCOB3)
 257:../drivers/fsl_flash.c **** #define FTFx_FCCOB5_REG (FTFx->FCCOB5)
 258:../drivers/fsl_flash.c **** #define FTFx_FCCOB6_REG (FTFx->FCCOB6)
 259:../drivers/fsl_flash.c **** #define FTFx_FCCOB7_REG (FTFx->FCCOB7)
 260:../drivers/fsl_flash.c **** 
 261:../drivers/fsl_flash.c **** #if defined(FTFA_FPROTH0_PROT_MASK) || defined(FTFE_FPROTH0_PROT_MASK) || defined(FTFL_FPROTH0_PROT
 262:../drivers/fsl_flash.c **** #define FTFx_FPROT_HIGH_REG (FTFx->FPROTH3)
 263:../drivers/fsl_flash.c **** #define FTFx_FPROTH3_REG (FTFx->FPROTH3)
 264:../drivers/fsl_flash.c **** #define FTFx_FPROTH2_REG (FTFx->FPROTH2)
 265:../drivers/fsl_flash.c **** #define FTFx_FPROTH1_REG (FTFx->FPROTH1)
 266:../drivers/fsl_flash.c **** #define FTFx_FPROTH0_REG (FTFx->FPROTH0)
 267:../drivers/fsl_flash.c **** #endif
 268:../drivers/fsl_flash.c **** 
 269:../drivers/fsl_flash.c **** #if defined(FTFA_FPROTL0_PROT_MASK) || defined(FTFE_FPROTL0_PROT_MASK) || defined(FTFL_FPROTL0_PROT
 270:../drivers/fsl_flash.c **** #define FTFx_FPROT_LOW_REG (FTFx->FPROTL3)
 271:../drivers/fsl_flash.c **** #define FTFx_FPROTL3_REG (FTFx->FPROTL3)
 272:../drivers/fsl_flash.c **** #define FTFx_FPROTL2_REG (FTFx->FPROTL2)
 273:../drivers/fsl_flash.c **** #define FTFx_FPROTL1_REG (FTFx->FPROTL1)
 274:../drivers/fsl_flash.c **** #define FTFx_FPROTL0_REG (FTFx->FPROTL0)
 275:../drivers/fsl_flash.c **** #elif defined(FTFA_FPROT0_PROT_MASK) || defined(FTFE_FPROT0_PROT_MASK) || defined(FTFL_FPROT0_PROT_
 276:../drivers/fsl_flash.c **** #define FTFx_FPROT_LOW_REG (FTFx->FPROT3)
 277:../drivers/fsl_flash.c **** #define FTFx_FPROTL3_REG (FTFx->FPROT3)
 278:../drivers/fsl_flash.c **** #define FTFx_FPROTL2_REG (FTFx->FPROT2)
 279:../drivers/fsl_flash.c **** #define FTFx_FPROTL1_REG (FTFx->FPROT1)
 280:../drivers/fsl_flash.c **** #define FTFx_FPROTL0_REG (FTFx->FPROT0)
 281:../drivers/fsl_flash.c **** #endif
 282:../drivers/fsl_flash.c **** 
 283:../drivers/fsl_flash.c **** #if FLASH_SSD_IS_SECONDARY_FLASH_ENABLED && FLASH_SSD_SECONDARY_FLASH_HAS_ITS_OWN_PROTECTION_REGIST
 284:../drivers/fsl_flash.c **** #define FTFx_FPROTSH_REG (FTFx->FPROTSH)
 285:../drivers/fsl_flash.c **** #define FTFx_FPROTSL_REG (FTFx->FPROTSL)
 286:../drivers/fsl_flash.c **** #endif
 287:../drivers/fsl_flash.c **** 
 288:../drivers/fsl_flash.c **** #define FTFx_XACCH3_REG (FTFx->XACCH3)
 289:../drivers/fsl_flash.c **** #define FTFx_XACCL3_REG (FTFx->XACCL3)
 290:../drivers/fsl_flash.c **** 
 291:../drivers/fsl_flash.c **** #if FLASH_SSD_IS_SECONDARY_FLASH_ENABLED && FLASH_SSD_SECONDARY_FLASH_HAS_ITS_OWN_ACCESS_REGISTER
 292:../drivers/fsl_flash.c **** #define FTFx_XACCSH_REG (FTFx->XACCSH)
 293:../drivers/fsl_flash.c **** #define FTFx_XACCSL_REG (FTFx->XACCSL)
 294:../drivers/fsl_flash.c **** #endif
 295:../drivers/fsl_flash.c **** /*@}*/
 296:../drivers/fsl_flash.c **** 
 297:../drivers/fsl_flash.c **** /*!
 298:../drivers/fsl_flash.c ****  * @brief Enumeration for access segment property.
 299:../drivers/fsl_flash.c ****  */
 300:../drivers/fsl_flash.c **** enum _flash_access_segment_property
 301:../drivers/fsl_flash.c **** {
 302:../drivers/fsl_flash.c ****     kFLASH_AccessSegmentBase = 256UL,
 303:../drivers/fsl_flash.c **** };
 304:../drivers/fsl_flash.c **** 
 305:../drivers/fsl_flash.c **** /*!
 306:../drivers/fsl_flash.c ****  * @brief Enumeration for flash config area.
 307:../drivers/fsl_flash.c ****  */
 308:../drivers/fsl_flash.c **** enum _flash_config_area_range
 309:../drivers/fsl_flash.c **** {
 310:../drivers/fsl_flash.c ****     kFLASH_ConfigAreaStart = 0x400U,
 311:../drivers/fsl_flash.c ****     kFLASH_ConfigAreaEnd = 0x40FU
 312:../drivers/fsl_flash.c **** };
 313:../drivers/fsl_flash.c **** 
 314:../drivers/fsl_flash.c **** /*!
 315:../drivers/fsl_flash.c ****  * @name Flash register access type defines
 316:../drivers/fsl_flash.c ****  * @{
 317:../drivers/fsl_flash.c ****  */
 318:../drivers/fsl_flash.c **** #define FTFx_REG8_ACCESS_TYPE volatile uint8_t *
 319:../drivers/fsl_flash.c **** #define FTFx_REG32_ACCESS_TYPE volatile uint32_t *
 320:../drivers/fsl_flash.c **** /*@}*/
 321:../drivers/fsl_flash.c **** 
 322:../drivers/fsl_flash.c **** /*!
 323:../drivers/fsl_flash.c ****  * @brief MCM cache register access info defines.
 324:../drivers/fsl_flash.c ****  */
 325:../drivers/fsl_flash.c **** #if defined(MCM_PLACR_CFCC_MASK)
 326:../drivers/fsl_flash.c **** #define MCM_CACHE_CLEAR_MASK MCM_PLACR_CFCC_MASK
 327:../drivers/fsl_flash.c **** #define MCM_CACHE_CLEAR_SHIFT MCM_PLACR_CFCC_SHIFT
 328:../drivers/fsl_flash.c **** #if defined(MCM)
 329:../drivers/fsl_flash.c **** #define MCM0_CACHE_REG MCM->PLACR
 330:../drivers/fsl_flash.c **** #elif defined(MCM0)
 331:../drivers/fsl_flash.c **** #define MCM0_CACHE_REG MCM0->PLACR
 332:../drivers/fsl_flash.c **** #endif
 333:../drivers/fsl_flash.c **** #if defined(MCM1)
 334:../drivers/fsl_flash.c **** #define MCM1_CACHE_REG MCM1->PLACR
 335:../drivers/fsl_flash.c **** #endif
 336:../drivers/fsl_flash.c **** #elif defined(MCM_CPCR2_CCBC_MASK)
 337:../drivers/fsl_flash.c **** #define MCM_CACHE_CLEAR_MASK MCM_CPCR2_CCBC_MASK
 338:../drivers/fsl_flash.c **** #define MCM_CACHE_CLEAR_SHIFT MCM_CPCR2_CCBC_SHIFT
 339:../drivers/fsl_flash.c **** #if defined(MCM)
 340:../drivers/fsl_flash.c **** #define MCM0_CACHE_REG MCM->CPCR2
 341:../drivers/fsl_flash.c **** #elif defined(MCM0)
 342:../drivers/fsl_flash.c **** #define MCM0_CACHE_REG MCM0->CPCR2
 343:../drivers/fsl_flash.c **** #endif
 344:../drivers/fsl_flash.c **** #if defined(MCM1)
 345:../drivers/fsl_flash.c **** #define MCM1_CACHE_REG MCM1->CPCR2
 346:../drivers/fsl_flash.c **** #endif
 347:../drivers/fsl_flash.c **** #endif
 348:../drivers/fsl_flash.c **** 
 349:../drivers/fsl_flash.c **** /*!
 350:../drivers/fsl_flash.c ****  * @brief MSCM cache register access info defines.
 351:../drivers/fsl_flash.c ****  */
 352:../drivers/fsl_flash.c **** #if defined(MSCM_OCMDR_OCM1_MASK)
 353:../drivers/fsl_flash.c **** #define MSCM_SPECULATION_DISABLE_MASK MSCM_OCMDR_OCM1_MASK
 354:../drivers/fsl_flash.c **** #define MSCM_SPECULATION_DISABLE_SHIFT MSCM_OCMDR_OCM1_SHIFT
 355:../drivers/fsl_flash.c **** #define MSCM_SPECULATION_DISABLE(x) MSCM_OCMDR_OCM1(x)
 356:../drivers/fsl_flash.c **** #elif defined(MSCM_OCMDR_OCMC1_MASK)
 357:../drivers/fsl_flash.c **** #define MSCM_SPECULATION_DISABLE_MASK MSCM_OCMDR_OCMC1_MASK
 358:../drivers/fsl_flash.c **** #define MSCM_SPECULATION_DISABLE_SHIFT MSCM_OCMDR_OCMC1_SHIFT
 359:../drivers/fsl_flash.c **** #define MSCM_SPECULATION_DISABLE(x) MSCM_OCMDR_OCMC1(x)
 360:../drivers/fsl_flash.c **** #endif
 361:../drivers/fsl_flash.c **** 
 362:../drivers/fsl_flash.c **** /*!
 363:../drivers/fsl_flash.c ****  * @brief MSCM prefetch speculation defines.
 364:../drivers/fsl_flash.c ****  */
 365:../drivers/fsl_flash.c **** #define MSCM_OCMDR_OCMC1_DFDS_MASK (0x10U)
 366:../drivers/fsl_flash.c **** #define MSCM_OCMDR_OCMC1_DFCS_MASK (0x20U)
 367:../drivers/fsl_flash.c **** 
 368:../drivers/fsl_flash.c **** #define MSCM_OCMDR_OCMC1_DFDS_SHIFT (4U)
 369:../drivers/fsl_flash.c **** #define MSCM_OCMDR_OCMC1_DFCS_SHIFT (5U)
 370:../drivers/fsl_flash.c **** 
 371:../drivers/fsl_flash.c **** /*!
 372:../drivers/fsl_flash.c ****  * @brief Flash size encoding rule.
 373:../drivers/fsl_flash.c ****  */
 374:../drivers/fsl_flash.c **** #define FLASH_MEMORY_SIZE_ENCODING_RULE_K1_2 (0x00U)
 375:../drivers/fsl_flash.c **** #define FLASH_MEMORY_SIZE_ENCODING_RULE_K3 (0x01U)
 376:../drivers/fsl_flash.c **** 
 377:../drivers/fsl_flash.c **** #if defined(K32W042S1M2_M0P_SERIES) || defined(K32W042S1M2_M4_SERIES)
 378:../drivers/fsl_flash.c **** #define FLASH_MEMORY_SIZE_ENCODING_RULE (FLASH_MEMORY_SIZE_ENCODING_RULE_K3)
 379:../drivers/fsl_flash.c **** #else
 380:../drivers/fsl_flash.c **** #define FLASH_MEMORY_SIZE_ENCODING_RULE (FLASH_MEMORY_SIZE_ENCODING_RULE_K1_2)
 381:../drivers/fsl_flash.c **** #endif
 382:../drivers/fsl_flash.c **** 
 383:../drivers/fsl_flash.c **** /*******************************************************************************
 384:../drivers/fsl_flash.c ****  * Prototypes
 385:../drivers/fsl_flash.c ****  ******************************************************************************/
 386:../drivers/fsl_flash.c **** 
 387:../drivers/fsl_flash.c **** #if FLASH_DRIVER_IS_FLASH_RESIDENT
 388:../drivers/fsl_flash.c **** /*! @brief Copy flash_run_command() to RAM*/
 389:../drivers/fsl_flash.c **** static void copy_flash_run_command(uint32_t *flashRunCommand);
 390:../drivers/fsl_flash.c **** /*! @brief Copy flash_cache_clear_command() to RAM*/
 391:../drivers/fsl_flash.c **** static void copy_flash_common_bit_operation(uint32_t *flashCommonBitOperation);
 392:../drivers/fsl_flash.c **** /*! @brief Check whether flash execute-in-ram functions are ready*/
 393:../drivers/fsl_flash.c **** static status_t flash_check_execute_in_ram_function_info(flash_config_t *config);
 394:../drivers/fsl_flash.c **** #endif /* FLASH_DRIVER_IS_FLASH_RESIDENT */
 395:../drivers/fsl_flash.c **** 
 396:../drivers/fsl_flash.c **** /*! @brief Internal function Flash command sequence. Called by driver APIs only*/
 397:../drivers/fsl_flash.c **** static status_t flash_command_sequence(flash_config_t *config);
 398:../drivers/fsl_flash.c **** 
 399:../drivers/fsl_flash.c **** /*! @brief Perform the cache clear to the flash*/
 400:../drivers/fsl_flash.c **** void flash_cache_clear(flash_config_t *config);
 401:../drivers/fsl_flash.c **** 
 402:../drivers/fsl_flash.c **** /*! @brief Process the cache to the flash*/
 403:../drivers/fsl_flash.c **** static void flash_cache_clear_process(flash_config_t *config, flash_cache_clear_process_t process);
 404:../drivers/fsl_flash.c **** 
 405:../drivers/fsl_flash.c **** /*! @brief Validates the range and alignment of the given address range.*/
 406:../drivers/fsl_flash.c **** static status_t flash_check_range(flash_config_t *config,
 407:../drivers/fsl_flash.c ****                                   uint32_t startAddress,
 408:../drivers/fsl_flash.c ****                                   uint32_t lengthInBytes,
 409:../drivers/fsl_flash.c ****                                   uint32_t alignmentBaseline);
 410:../drivers/fsl_flash.c **** /*! @brief Gets the right address, sector and block size of current flash type which is indicated b
 411:../drivers/fsl_flash.c **** static status_t flash_get_matched_operation_info(flash_config_t *config,
 412:../drivers/fsl_flash.c ****                                                  uint32_t address,
 413:../drivers/fsl_flash.c ****                                                  flash_operation_config_t *info);
 414:../drivers/fsl_flash.c **** /*! @brief Validates the given user key for flash erase APIs.*/
 415:../drivers/fsl_flash.c **** static status_t flash_check_user_key(uint32_t key);
 416:../drivers/fsl_flash.c **** 
 417:../drivers/fsl_flash.c **** #if FLASH_SSD_IS_FLEXNVM_ENABLED
 418:../drivers/fsl_flash.c **** /*! @brief Updates FlexNVM memory partition status according to data flash 0 IFR.*/
 419:../drivers/fsl_flash.c **** static status_t flash_update_flexnvm_memory_partition_status(flash_config_t *config);
 420:../drivers/fsl_flash.c **** #endif /* FLASH_SSD_IS_FLEXNVM_ENABLED */
 421:../drivers/fsl_flash.c **** 
 422:../drivers/fsl_flash.c **** #if defined(FSL_FEATURE_FLASH_HAS_READ_RESOURCE_CMD) && FSL_FEATURE_FLASH_HAS_READ_RESOURCE_CMD
 423:../drivers/fsl_flash.c **** /*! @brief Validates the range of the given resource address.*/
 424:../drivers/fsl_flash.c **** static status_t flash_check_resource_range(uint32_t start,
 425:../drivers/fsl_flash.c ****                                            uint32_t lengthInBytes,
 426:../drivers/fsl_flash.c ****                                            uint32_t alignmentBaseline,
 427:../drivers/fsl_flash.c ****                                            flash_read_resource_option_t option);
 428:../drivers/fsl_flash.c **** #endif /* FSL_FEATURE_FLASH_HAS_READ_RESOURCE_CMD */
 429:../drivers/fsl_flash.c **** 
 430:../drivers/fsl_flash.c **** #if defined(FSL_FEATURE_FLASH_HAS_SWAP_CONTROL_CMD) && FSL_FEATURE_FLASH_HAS_SWAP_CONTROL_CMD
 431:../drivers/fsl_flash.c **** /*! @brief Validates the gived swap control option.*/
 432:../drivers/fsl_flash.c **** static status_t flash_check_swap_control_option(flash_swap_control_option_t option);
 433:../drivers/fsl_flash.c **** #endif /* FSL_FEATURE_FLASH_HAS_SWAP_CONTROL_CMD */
 434:../drivers/fsl_flash.c **** 
 435:../drivers/fsl_flash.c **** #if defined(FSL_FEATURE_FLASH_HAS_PFLASH_BLOCK_SWAP) && FSL_FEATURE_FLASH_HAS_PFLASH_BLOCK_SWAP
 436:../drivers/fsl_flash.c **** /*! @brief Validates the gived address to see if it is equal to swap indicator address in pflash sw
 437:../drivers/fsl_flash.c **** static status_t flash_validate_swap_indicator_address(flash_config_t *config, uint32_t address);
 438:../drivers/fsl_flash.c **** #endif /* FSL_FEATURE_FLASH_HAS_PFLASH_BLOCK_SWAP */
 439:../drivers/fsl_flash.c **** 
 440:../drivers/fsl_flash.c **** #if defined(FSL_FEATURE_FLASH_HAS_SET_FLEXRAM_FUNCTION_CMD) && FSL_FEATURE_FLASH_HAS_SET_FLEXRAM_FU
 441:../drivers/fsl_flash.c **** /*! @brief Validates the gived flexram function option.*/
 442:../drivers/fsl_flash.c **** static inline status_t flasn_check_flexram_function_option_range(flash_flexram_function_option_t op
 443:../drivers/fsl_flash.c **** #endif /* FSL_FEATURE_FLASH_HAS_SET_FLEXRAM_FUNCTION_CMD */
 444:../drivers/fsl_flash.c **** 
 445:../drivers/fsl_flash.c **** /*! @brief Gets the flash protection information (region size, region count).*/
 446:../drivers/fsl_flash.c **** static status_t flash_get_protection_info(flash_config_t *config, flash_protection_config_t *info);
 447:../drivers/fsl_flash.c **** 
 448:../drivers/fsl_flash.c **** #if defined(FSL_FEATURE_FLASH_HAS_ACCESS_CONTROL) && FSL_FEATURE_FLASH_HAS_ACCESS_CONTROL
 449:../drivers/fsl_flash.c **** /*! @brief Gets the flash Execute-Only access information (Segment size, Segment count).*/
 450:../drivers/fsl_flash.c **** static status_t flash_get_access_info(flash_config_t *config, flash_access_config_t *info);
 451:../drivers/fsl_flash.c **** #endif /* FSL_FEATURE_FLASH_HAS_ACCESS_CONTROL */
 452:../drivers/fsl_flash.c **** 
 453:../drivers/fsl_flash.c **** #if FLASH_CACHE_IS_CONTROLLED_BY_MCM
 454:../drivers/fsl_flash.c **** /*! @brief Performs the cache clear to the flash by MCM.*/
 455:../drivers/fsl_flash.c **** void mcm_flash_cache_clear(flash_config_t *config);
 456:../drivers/fsl_flash.c **** #endif /* FLASH_CACHE_IS_CONTROLLED_BY_MCM */
 457:../drivers/fsl_flash.c **** 
 458:../drivers/fsl_flash.c **** #if FLASH_CACHE_IS_CONTROLLED_BY_FMC
 459:../drivers/fsl_flash.c **** /*! @brief Performs the cache clear to the flash by FMC.*/
 460:../drivers/fsl_flash.c **** void fmc_flash_cache_clear(void);
 461:../drivers/fsl_flash.c **** #endif /* FLASH_CACHE_IS_CONTROLLED_BY_FMC */
 462:../drivers/fsl_flash.c **** 
 463:../drivers/fsl_flash.c **** #if FLASH_PREFETCH_SPECULATION_IS_CONTROLLED_BY_MSCM
 464:../drivers/fsl_flash.c **** /*! @brief Sets the prefetch speculation buffer to the flash by MSCM.*/
 465:../drivers/fsl_flash.c **** void mscm_flash_prefetch_speculation_enable(bool enable);
 466:../drivers/fsl_flash.c **** #endif /* FLASH_PREFETCH_SPECULATION_IS_CONTROLLED_BY_MSCM */
 467:../drivers/fsl_flash.c **** 
 468:../drivers/fsl_flash.c **** #if FLASH_PREFETCH_SPECULATION_IS_CONTROLLED_BY_FMC
 469:../drivers/fsl_flash.c **** /*! @brief Performs the prefetch speculation buffer clear to the flash by FMC.*/
 470:../drivers/fsl_flash.c **** void fmc_flash_prefetch_speculation_clear(void);
 471:../drivers/fsl_flash.c **** #endif /* FLASH_PREFETCH_SPECULATION_IS_CONTROLLED_BY_FMC */
 472:../drivers/fsl_flash.c **** 
 473:../drivers/fsl_flash.c **** /*******************************************************************************
 474:../drivers/fsl_flash.c ****  * Variables
 475:../drivers/fsl_flash.c ****  ******************************************************************************/
 476:../drivers/fsl_flash.c **** 
 477:../drivers/fsl_flash.c **** /*! @brief Access to FTFx->FCCOB */
 478:../drivers/fsl_flash.c **** volatile uint32_t *const kFCCOBx = (volatile uint32_t *)&FTFx_FCCOB3_REG;
 479:../drivers/fsl_flash.c **** /*! @brief Access to FTFx->FPROT */
 480:../drivers/fsl_flash.c **** volatile uint32_t *const kFPROTL = (volatile uint32_t *)&FTFx_FPROT_LOW_REG;
 481:../drivers/fsl_flash.c **** #if defined(FTFx_FPROT_HIGH_REG)
 482:../drivers/fsl_flash.c **** volatile uint32_t *const kFPROTH = (volatile uint32_t *)&FTFx_FPROT_HIGH_REG;
 483:../drivers/fsl_flash.c **** #endif
 484:../drivers/fsl_flash.c **** 
 485:../drivers/fsl_flash.c **** #if FLASH_SSD_IS_SECONDARY_FLASH_ENABLED && FLASH_SSD_SECONDARY_FLASH_HAS_ITS_OWN_PROTECTION_REGIST
 486:../drivers/fsl_flash.c **** volatile uint8_t *const kFPROTSL = (volatile uint8_t *)&FTFx_FPROTSL_REG;
 487:../drivers/fsl_flash.c **** volatile uint8_t *const kFPROTSH = (volatile uint8_t *)&FTFx_FPROTSH_REG;
 488:../drivers/fsl_flash.c **** #endif
 489:../drivers/fsl_flash.c **** 
 490:../drivers/fsl_flash.c **** #if FLASH_DRIVER_IS_FLASH_RESIDENT
 491:../drivers/fsl_flash.c **** /*! @brief A function pointer used to point to relocated flash_run_command() */
 492:../drivers/fsl_flash.c **** static void (*callFlashRunCommand)(FTFx_REG8_ACCESS_TYPE ftfx_fstat);
 493:../drivers/fsl_flash.c **** /*! @brief A function pointer used to point to relocated flash_common_bit_operation() */
 494:../drivers/fsl_flash.c **** static void (*callFlashCommonBitOperation)(FTFx_REG32_ACCESS_TYPE base,
 495:../drivers/fsl_flash.c ****                                            uint32_t bitMask,
 496:../drivers/fsl_flash.c ****                                            uint32_t bitShift,
 497:../drivers/fsl_flash.c ****                                            uint32_t bitValue);
 498:../drivers/fsl_flash.c **** 
 499:../drivers/fsl_flash.c **** /*!
 500:../drivers/fsl_flash.c ****  * @brief Position independent code of flash_run_command()
 501:../drivers/fsl_flash.c ****  *
 502:../drivers/fsl_flash.c ****  * Note1: The prototype of C function is shown as below:
 503:../drivers/fsl_flash.c ****  * @code
 504:../drivers/fsl_flash.c ****  *   void flash_run_command(FTFx_REG8_ACCESS_TYPE ftfx_fstat)
 505:../drivers/fsl_flash.c ****  *   {
 506:../drivers/fsl_flash.c ****  *       // clear CCIF bit
 507:../drivers/fsl_flash.c ****  *       *ftfx_fstat = FTFx_FSTAT_CCIF_MASK;
 508:../drivers/fsl_flash.c ****  *
 509:../drivers/fsl_flash.c ****  *       // Check CCIF bit of the flash status register, wait till it is set.
 510:../drivers/fsl_flash.c ****  *       // IP team indicates that this loop will always complete.
 511:../drivers/fsl_flash.c ****  *       while (!((*ftfx_fstat) & FTFx_FSTAT_CCIF_MASK))
 512:../drivers/fsl_flash.c ****  *       {
 513:../drivers/fsl_flash.c ****  *       }
 514:../drivers/fsl_flash.c ****  *   }
 515:../drivers/fsl_flash.c ****  * @endcode
 516:../drivers/fsl_flash.c ****  * Note2: The binary code is generated by IAR 7.70.1
 517:../drivers/fsl_flash.c ****  */
 518:../drivers/fsl_flash.c **** const static uint16_t s_flashRunCommandFunctionCode[] = {
 519:../drivers/fsl_flash.c ****     0x2180, /* MOVS  R1, #128 ; 0x80 */
 520:../drivers/fsl_flash.c ****     0x7001, /* STRB  R1, [R0] */
 521:../drivers/fsl_flash.c ****     /* @4: */
 522:../drivers/fsl_flash.c ****     0x7802, /* LDRB  R2, [R0] */
 523:../drivers/fsl_flash.c ****     0x420a, /* TST   R2, R1 */
 524:../drivers/fsl_flash.c ****     0xd0fc, /* BEQ.N @4 */
 525:../drivers/fsl_flash.c ****     0x4770  /* BX    LR */
 526:../drivers/fsl_flash.c **** };
 527:../drivers/fsl_flash.c **** 
 528:../drivers/fsl_flash.c **** /*!
 529:../drivers/fsl_flash.c ****  * @brief Position independent code of flash_common_bit_operation()
 530:../drivers/fsl_flash.c ****  *
 531:../drivers/fsl_flash.c ****  * Note1: The prototype of C function is shown as below:
 532:../drivers/fsl_flash.c ****  * @code
 533:../drivers/fsl_flash.c ****  *   void flash_common_bit_operation(FTFx_REG32_ACCESS_TYPE base, uint32_t bitMask, uint32_t bitShi
 534:../drivers/fsl_flash.c ****  * bitValue)
 535:../drivers/fsl_flash.c ****  *   {
 536:../drivers/fsl_flash.c ****  *       if (bitMask)
 537:../drivers/fsl_flash.c ****  *       {
 538:../drivers/fsl_flash.c ****  *           uint32_t value = (((uint32_t)(((uint32_t)(bitValue)) << bitShift)) & bitMask);
 539:../drivers/fsl_flash.c ****  *           *base = (*base & (~bitMask)) | value;
 540:../drivers/fsl_flash.c ****  *       }
 541:../drivers/fsl_flash.c ****  *
 542:../drivers/fsl_flash.c ****  *       __ISB();
 543:../drivers/fsl_flash.c ****  *       __DSB();
 544:../drivers/fsl_flash.c ****  *   }
 545:../drivers/fsl_flash.c ****  * @endcode
 546:../drivers/fsl_flash.c ****  * Note2: The binary code is generated by IAR 7.70.1
 547:../drivers/fsl_flash.c ****  */
 548:../drivers/fsl_flash.c **** const static uint16_t s_flashCommonBitOperationFunctionCode[] = {
 549:../drivers/fsl_flash.c ****     0xb510, /* PUSH  {R4, LR} */
 550:../drivers/fsl_flash.c ****     0x2900, /* CMP   R1, #0 */
 551:../drivers/fsl_flash.c ****     0xd005, /* BEQ.N @12 */
 552:../drivers/fsl_flash.c ****     0x6804, /* LDR   R4, [R0] */
 553:../drivers/fsl_flash.c ****     0x438c, /* BICS  R4, R4, R1 */
 554:../drivers/fsl_flash.c ****     0x4093, /* LSLS  R3, R3, R2 */
 555:../drivers/fsl_flash.c ****     0x4019, /* ANDS  R1, R1, R3 */
 556:../drivers/fsl_flash.c ****     0x4321, /* ORRS  R1, R1, R4 */
 557:../drivers/fsl_flash.c ****     0x6001, /* STR   R1, [R0] */
 558:../drivers/fsl_flash.c ****     /*  @12: */
 559:../drivers/fsl_flash.c ****     0xf3bf, 0x8f6f, /* ISB */
 560:../drivers/fsl_flash.c ****     0xf3bf, 0x8f4f, /* DSB */
 561:../drivers/fsl_flash.c ****     0xbd10          /* POP   {R4, PC} */
 562:../drivers/fsl_flash.c **** };
 563:../drivers/fsl_flash.c **** #endif /* FLASH_DRIVER_IS_FLASH_RESIDENT */
 564:../drivers/fsl_flash.c **** 
 565:../drivers/fsl_flash.c **** #if (FLASH_DRIVER_IS_FLASH_RESIDENT && !FLASH_DRIVER_IS_EXPORTED)
 566:../drivers/fsl_flash.c **** /*! @brief A static buffer used to hold flash_run_command() */
 567:../drivers/fsl_flash.c **** static uint32_t s_flashRunCommand[kFLASH_ExecuteInRamFunctionMaxSizeInWords];
 568:../drivers/fsl_flash.c **** /*! @brief A static buffer used to hold flash_common_bit_operation() */
 569:../drivers/fsl_flash.c **** static uint32_t s_flashCommonBitOperation[kFLASH_ExecuteInRamFunctionMaxSizeInWords];
 570:../drivers/fsl_flash.c **** /*! @brief Flash execute-in-ram function information */
 571:../drivers/fsl_flash.c **** static flash_execute_in_ram_function_config_t s_flashExecuteInRamFunctionInfo;
 572:../drivers/fsl_flash.c **** #endif
 573:../drivers/fsl_flash.c **** 
 574:../drivers/fsl_flash.c **** /*!
 575:../drivers/fsl_flash.c ****  * @brief Table of pflash sizes.
 576:../drivers/fsl_flash.c ****  *
 577:../drivers/fsl_flash.c ****  *  The index into this table is the value of the SIM_FCFG1.PFSIZE bitfield.
 578:../drivers/fsl_flash.c ****  *
 579:../drivers/fsl_flash.c ****  *  The values in this table have been right shifted 10 bits so that they will all fit within
 580:../drivers/fsl_flash.c ****  *  an 16-bit integer. To get the actual flash density, you must left shift the looked up value
 581:../drivers/fsl_flash.c ****  *  by 10 bits.
 582:../drivers/fsl_flash.c ****  *
 583:../drivers/fsl_flash.c ****  *  Elements of this table have a value of 0 in cases where the PFSIZE bitfield value is
 584:../drivers/fsl_flash.c ****  *  reserved.
 585:../drivers/fsl_flash.c ****  *
 586:../drivers/fsl_flash.c ****  *  Code to use the table:
 587:../drivers/fsl_flash.c ****  *  @code
 588:../drivers/fsl_flash.c ****  *      uint8_t pfsize = (SIM->FCFG1 & SIM_FCFG1_PFSIZE_MASK) >> SIM_FCFG1_PFSIZE_SHIFT;
 589:../drivers/fsl_flash.c ****  *      flashDensity = ((uint32_t)kPFlashDensities[pfsize]) << 10;
 590:../drivers/fsl_flash.c ****  *  @endcode
 591:../drivers/fsl_flash.c ****  */
 592:../drivers/fsl_flash.c **** #if (FLASH_MEMORY_SIZE_ENCODING_RULE == FLASH_MEMORY_SIZE_ENCODING_RULE_K1_2)
 593:../drivers/fsl_flash.c **** const uint16_t kPFlashDensities[] = {
 594:../drivers/fsl_flash.c ****     8,    /* 0x0 - 8192, 8KB */
 595:../drivers/fsl_flash.c ****     16,   /* 0x1 - 16384, 16KB */
 596:../drivers/fsl_flash.c ****     24,   /* 0x2 - 24576, 24KB */
 597:../drivers/fsl_flash.c ****     32,   /* 0x3 - 32768, 32KB */
 598:../drivers/fsl_flash.c ****     48,   /* 0x4 - 49152, 48KB */
 599:../drivers/fsl_flash.c ****     64,   /* 0x5 - 65536, 64KB */
 600:../drivers/fsl_flash.c ****     96,   /* 0x6 - 98304, 96KB */
 601:../drivers/fsl_flash.c ****     128,  /* 0x7 - 131072, 128KB */
 602:../drivers/fsl_flash.c ****     192,  /* 0x8 - 196608, 192KB */
 603:../drivers/fsl_flash.c ****     256,  /* 0x9 - 262144, 256KB */
 604:../drivers/fsl_flash.c ****     384,  /* 0xa - 393216, 384KB */
 605:../drivers/fsl_flash.c ****     512,  /* 0xb - 524288, 512KB */
 606:../drivers/fsl_flash.c ****     768,  /* 0xc - 786432, 768KB */
 607:../drivers/fsl_flash.c ****     1024, /* 0xd - 1048576, 1MB */
 608:../drivers/fsl_flash.c ****     1536, /* 0xe - 1572864, 1.5MB */
 609:../drivers/fsl_flash.c ****     /* 2048,  0xf - 2097152, 2MB */
 610:../drivers/fsl_flash.c **** };
 611:../drivers/fsl_flash.c **** #elif(FLASH_MEMORY_SIZE_ENCODING_RULE == FLASH_MEMORY_SIZE_ENCODING_RULE_K3)
 612:../drivers/fsl_flash.c **** const uint16_t kPFlashDensities[] = {
 613:../drivers/fsl_flash.c ****     0,    /* 0x0 - undefined */
 614:../drivers/fsl_flash.c ****     0,    /* 0x1 - undefined */
 615:../drivers/fsl_flash.c ****     0,    /* 0x2 - undefined */
 616:../drivers/fsl_flash.c ****     0,    /* 0x3 - undefined */
 617:../drivers/fsl_flash.c ****     0,    /* 0x4 - undefined */
 618:../drivers/fsl_flash.c ****     0,    /* 0x5 - undefined */
 619:../drivers/fsl_flash.c ****     0,    /* 0x6 - undefined */
 620:../drivers/fsl_flash.c ****     0,    /* 0x7 - undefined */
 621:../drivers/fsl_flash.c ****     0,    /* 0x8 - undefined */
 622:../drivers/fsl_flash.c ****     0,    /* 0x9 - undefined */
 623:../drivers/fsl_flash.c ****     256,  /* 0xa - 262144, 256KB */
 624:../drivers/fsl_flash.c ****     0,    /* 0xb - undefined */
 625:../drivers/fsl_flash.c ****     1024, /* 0xc - 1048576, 1MB */
 626:../drivers/fsl_flash.c ****     0,    /* 0xd - undefined */
 627:../drivers/fsl_flash.c ****     0,    /* 0xe - undefined */
 628:../drivers/fsl_flash.c ****     0,    /* 0xf - undefined */
 629:../drivers/fsl_flash.c **** };
 630:../drivers/fsl_flash.c **** #endif
 631:../drivers/fsl_flash.c **** 
 632:../drivers/fsl_flash.c **** /*******************************************************************************
 633:../drivers/fsl_flash.c ****  * Code
 634:../drivers/fsl_flash.c ****  ******************************************************************************/
 635:../drivers/fsl_flash.c **** 
 636:../drivers/fsl_flash.c **** status_t FLASH_Init(flash_config_t *config)
 637:../drivers/fsl_flash.c **** {
 122              		.loc 1 637 1
 123              		.cfi_startproc
 124              		@ args = 0, pretend = 0, frame = 16
 125              		@ frame_needed = 1, uses_anonymous_args = 0
 126 0000 80B5     		push	{r7, lr}
 127              		.cfi_def_cfa_offset 8
 128              		.cfi_offset 7, -8
 129              		.cfi_offset 14, -4
 130 0002 84B0     		sub	sp, sp, #16
 131              		.cfi_def_cfa_offset 24
 132 0004 00AF     		add	r7, sp, #0
 133              		.cfi_def_cfa_register 7
 134 0006 7860     		str	r0, [r7, #4]
 638:../drivers/fsl_flash.c ****     if (config == NULL)
 135              		.loc 1 638 8
 136 0008 7B68     		ldr	r3, [r7, #4]
 137 000a 002B     		cmp	r3, #0
 138 000c 01D1     		bne	.L2
 639:../drivers/fsl_flash.c ****     {
 640:../drivers/fsl_flash.c ****         return kStatus_FLASH_InvalidArgument;
 139              		.loc 1 640 16
 140 000e 0423     		movs	r3, #4
 141 0010 4CE0     		b	.L3
 142              	.L2:
 143              	.LBB2:
 641:../drivers/fsl_flash.c ****     }
 642:../drivers/fsl_flash.c **** 
 643:../drivers/fsl_flash.c **** #if FLASH_SSD_IS_SECONDARY_FLASH_ENABLED
 644:../drivers/fsl_flash.c ****     if (config->FlashMemoryIndex == (uint8_t)kFLASH_MemoryIndexSecondaryFlash)
 645:../drivers/fsl_flash.c ****     {
 646:../drivers/fsl_flash.c **** /* calculate the flash density from SIM_FCFG1.PFSIZE */
 647:../drivers/fsl_flash.c **** #if defined(SIM_FCFG1_CORE1_PFSIZE_MASK)
 648:../drivers/fsl_flash.c ****         uint32_t flashDensity;
 649:../drivers/fsl_flash.c ****         uint8_t pfsize = (SIM->FCFG1 & SIM_FCFG1_CORE1_PFSIZE_MASK) >> SIM_FCFG1_CORE1_PFSIZE_SHIFT
 650:../drivers/fsl_flash.c ****         if (pfsize == 0xf)
 651:../drivers/fsl_flash.c ****         {
 652:../drivers/fsl_flash.c ****             flashDensity = FSL_FEATURE_FLASH_PFLASH_1_BLOCK_COUNT * FSL_FEATURE_FLASH_PFLASH_1_BLOC
 653:../drivers/fsl_flash.c ****         }
 654:../drivers/fsl_flash.c ****         else
 655:../drivers/fsl_flash.c ****         {
 656:../drivers/fsl_flash.c ****             flashDensity = ((uint32_t)kPFlashDensities[pfsize]) << 10;
 657:../drivers/fsl_flash.c ****         }
 658:../drivers/fsl_flash.c ****         config->PFlashTotalSize = flashDensity;
 659:../drivers/fsl_flash.c **** #else
 660:../drivers/fsl_flash.c ****         /* Unused code to solve MISRA-C issue*/
 661:../drivers/fsl_flash.c ****         config->PFlashBlockBase = kPFlashDensities[0];
 662:../drivers/fsl_flash.c ****         config->PFlashTotalSize = FSL_FEATURE_FLASH_PFLASH_1_BLOCK_COUNT * FSL_FEATURE_FLASH_PFLASH
 663:../drivers/fsl_flash.c **** #endif
 664:../drivers/fsl_flash.c ****         config->PFlashBlockBase = FSL_FEATURE_FLASH_PFLASH_1_START_ADDRESS;
 665:../drivers/fsl_flash.c ****         config->PFlashBlockCount = FSL_FEATURE_FLASH_PFLASH_1_BLOCK_COUNT;
 666:../drivers/fsl_flash.c ****         config->PFlashSectorSize = FSL_FEATURE_FLASH_PFLASH_1_BLOCK_SECTOR_SIZE;
 667:../drivers/fsl_flash.c ****     }
 668:../drivers/fsl_flash.c ****     else
 669:../drivers/fsl_flash.c **** #endif /* FLASH_SSD_IS_SECONDARY_FLASH_ENABLED */
 670:../drivers/fsl_flash.c ****     {
 671:../drivers/fsl_flash.c ****         uint32_t flashDensity;
 672:../drivers/fsl_flash.c **** 
 673:../drivers/fsl_flash.c **** /* calculate the flash density from SIM_FCFG1.PFSIZE */
 674:../drivers/fsl_flash.c **** #if defined(SIM_FCFG1_CORE0_PFSIZE_MASK)
 675:../drivers/fsl_flash.c ****         uint8_t pfsize = (SIM->FCFG1 & SIM_FCFG1_CORE0_PFSIZE_MASK) >> SIM_FCFG1_CORE0_PFSIZE_SHIFT
 676:../drivers/fsl_flash.c **** #elif defined(SIM_FCFG1_PFSIZE_MASK)
 677:../drivers/fsl_flash.c ****         uint8_t pfsize = (SIM->FCFG1 & SIM_FCFG1_PFSIZE_MASK) >> SIM_FCFG1_PFSIZE_SHIFT;
 144              		.loc 1 677 30
 145 0012 284A     		ldr	r2, .L7
 146 0014 284B     		ldr	r3, .L7+4
 147 0016 D358     		ldr	r3, [r2, r3]
 148              		.loc 1 677 63
 149 0018 1B0E     		lsrs	r3, r3, #24
 150 001a DAB2     		uxtb	r2, r3
 151              		.loc 1 677 17
 152 001c 0B20     		movs	r0, #11
 153 001e 3B18     		adds	r3, r7, r0
 154 0020 0F21     		movs	r1, #15
 155 0022 0A40     		ands	r2, r1
 156 0024 1A70     		strb	r2, [r3]
 678:../drivers/fsl_flash.c **** #else
 679:../drivers/fsl_flash.c **** #error "Unknown flash size"
 680:../drivers/fsl_flash.c **** #endif
 681:../drivers/fsl_flash.c ****         /* PFSIZE=0xf means that on customer parts the IFR was not correctly programmed.
 682:../drivers/fsl_flash.c ****          * We just use the pre-defined flash size in feature file here to support pre-production pa
 683:../drivers/fsl_flash.c ****         if (pfsize == 0xf)
 157              		.loc 1 683 12
 158 0026 3B18     		adds	r3, r7, r0
 159 0028 1B78     		ldrb	r3, [r3]
 160 002a 0F2B     		cmp	r3, #15
 161 002c 03D1     		bne	.L4
 684:../drivers/fsl_flash.c ****         {
 685:../drivers/fsl_flash.c ****             flashDensity = FSL_FEATURE_FLASH_PFLASH_BLOCK_COUNT * FSL_FEATURE_FLASH_PFLASH_BLOCK_SI
 162              		.loc 1 685 26
 163 002e 8023     		movs	r3, #128
 164 0030 9B02     		lsls	r3, r3, #10
 165 0032 FB60     		str	r3, [r7, #12]
 166 0034 07E0     		b	.L5
 167              	.L4:
 686:../drivers/fsl_flash.c ****         }
 687:../drivers/fsl_flash.c ****         else
 688:../drivers/fsl_flash.c ****         {
 689:../drivers/fsl_flash.c ****             flashDensity = ((uint32_t)kPFlashDensities[pfsize]) << 10;
 168              		.loc 1 689 55
 169 0036 0B23     		movs	r3, #11
 170 0038 FB18     		adds	r3, r7, r3
 171 003a 1A78     		ldrb	r2, [r3]
 172 003c 1F4B     		ldr	r3, .L7+8
 173 003e 5200     		lsls	r2, r2, #1
 174 0040 D35A     		ldrh	r3, [r2, r3]
 175              		.loc 1 689 26
 176 0042 9B02     		lsls	r3, r3, #10
 177 0044 FB60     		str	r3, [r7, #12]
 178              	.L5:
 690:../drivers/fsl_flash.c ****         }
 691:../drivers/fsl_flash.c **** 
 692:../drivers/fsl_flash.c ****         /* fill out a few of the structure members */
 693:../drivers/fsl_flash.c ****         config->PFlashBlockBase = FSL_FEATURE_FLASH_PFLASH_START_ADDRESS;
 179              		.loc 1 693 33
 180 0046 7B68     		ldr	r3, [r7, #4]
 181 0048 0022     		movs	r2, #0
 182 004a 1A60     		str	r2, [r3]
 694:../drivers/fsl_flash.c ****         config->PFlashTotalSize = flashDensity;
 183              		.loc 1 694 33
 184 004c 7B68     		ldr	r3, [r7, #4]
 185 004e FA68     		ldr	r2, [r7, #12]
 186 0050 5A60     		str	r2, [r3, #4]
 695:../drivers/fsl_flash.c ****         config->PFlashBlockCount = FSL_FEATURE_FLASH_PFLASH_BLOCK_COUNT;
 187              		.loc 1 695 34
 188 0052 7B68     		ldr	r3, [r7, #4]
 189 0054 0122     		movs	r2, #1
 190 0056 1A72     		strb	r2, [r3, #8]
 696:../drivers/fsl_flash.c ****         config->PFlashSectorSize = FSL_FEATURE_FLASH_PFLASH_BLOCK_SECTOR_SIZE;
 191              		.loc 1 696 34
 192 0058 7B68     		ldr	r3, [r7, #4]
 193 005a 8022     		movs	r2, #128
 194 005c D200     		lsls	r2, r2, #3
 195 005e DA60     		str	r2, [r3, #12]
 196              	.LBE2:
 697:../drivers/fsl_flash.c ****     }
 698:../drivers/fsl_flash.c **** 
 699:../drivers/fsl_flash.c ****     {
 700:../drivers/fsl_flash.c **** #if defined(FSL_FEATURE_FLASH_HAS_ACCESS_CONTROL) && FSL_FEATURE_FLASH_HAS_ACCESS_CONTROL
 701:../drivers/fsl_flash.c **** #if FLASH_SSD_IS_SECONDARY_FLASH_ENABLED && FLASH_SSD_SECONDARY_FLASH_HAS_ITS_OWN_ACCESS_REGISTER
 702:../drivers/fsl_flash.c ****         if (config->FlashMemoryIndex == (uint8_t)kFLASH_MemoryIndexSecondaryFlash)
 703:../drivers/fsl_flash.c ****         {
 704:../drivers/fsl_flash.c ****             config->PFlashAccessSegmentSize = kFLASH_AccessSegmentBase << FTFx->FACSSS;
 705:../drivers/fsl_flash.c ****             config->PFlashAccessSegmentCount = FTFx->FACSNS;
 706:../drivers/fsl_flash.c ****         }
 707:../drivers/fsl_flash.c ****         else
 708:../drivers/fsl_flash.c **** #endif
 709:../drivers/fsl_flash.c ****         {
 710:../drivers/fsl_flash.c ****             config->PFlashAccessSegmentSize = kFLASH_AccessSegmentBase << FTFx->FACSS;
 711:../drivers/fsl_flash.c ****             config->PFlashAccessSegmentCount = FTFx->FACSN;
 712:../drivers/fsl_flash.c ****         }
 713:../drivers/fsl_flash.c **** #else
 714:../drivers/fsl_flash.c ****         config->PFlashAccessSegmentSize = 0;
 197              		.loc 1 714 41
 198 0060 7B68     		ldr	r3, [r7, #4]
 199 0062 0022     		movs	r2, #0
 200 0064 5A61     		str	r2, [r3, #20]
 715:../drivers/fsl_flash.c ****         config->PFlashAccessSegmentCount = 0;
 201              		.loc 1 715 42
 202 0066 7B68     		ldr	r3, [r7, #4]
 203 0068 0022     		movs	r2, #0
 204 006a 9A61     		str	r2, [r3, #24]
 716:../drivers/fsl_flash.c **** #endif /* FSL_FEATURE_FLASH_HAS_ACCESS_CONTROL */
 717:../drivers/fsl_flash.c ****     }
 718:../drivers/fsl_flash.c **** 
 719:../drivers/fsl_flash.c ****     config->PFlashCallback = NULL;
 205              		.loc 1 719 28
 206 006c 7B68     		ldr	r3, [r7, #4]
 207 006e 0022     		movs	r2, #0
 208 0070 1A61     		str	r2, [r3, #16]
 720:../drivers/fsl_flash.c **** 
 721:../drivers/fsl_flash.c **** /* copy required flash commands to RAM */
 722:../drivers/fsl_flash.c **** #if (FLASH_DRIVER_IS_FLASH_RESIDENT && !FLASH_DRIVER_IS_EXPORTED)
 723:../drivers/fsl_flash.c ****     if (kStatus_FLASH_Success != flash_check_execute_in_ram_function_info(config))
 209              		.loc 1 723 34
 210 0072 7B68     		ldr	r3, [r7, #4]
 211 0074 1800     		movs	r0, r3
 212 0076 FFF7FEFF 		bl	flash_check_execute_in_ram_function_info
 213 007a 031E     		subs	r3, r0, #0
 214              		.loc 1 723 8
 215 007c 0FD0     		beq	.L6
 724:../drivers/fsl_flash.c ****     {
 725:../drivers/fsl_flash.c ****         s_flashExecuteInRamFunctionInfo.activeFunctionCount = 0;
 216              		.loc 1 725 61
 217 007e 104B     		ldr	r3, .L7+12
 218 0080 0022     		movs	r2, #0
 219 0082 1A60     		str	r2, [r3]
 726:../drivers/fsl_flash.c ****         s_flashExecuteInRamFunctionInfo.flashRunCommand = s_flashRunCommand;
 220              		.loc 1 726 57
 221 0084 0E4B     		ldr	r3, .L7+12
 222 0086 0F4A     		ldr	r2, .L7+16
 223 0088 5A60     		str	r2, [r3, #4]
 727:../drivers/fsl_flash.c ****         s_flashExecuteInRamFunctionInfo.flashCommonBitOperation = s_flashCommonBitOperation;
 224              		.loc 1 727 65
 225 008a 0D4B     		ldr	r3, .L7+12
 226 008c 0E4A     		ldr	r2, .L7+20
 227 008e 9A60     		str	r2, [r3, #8]
 728:../drivers/fsl_flash.c ****         config->flashExecuteInRamFunctionInfo = &s_flashExecuteInRamFunctionInfo.activeFunctionCoun
 228              		.loc 1 728 47
 229 0090 7B68     		ldr	r3, [r7, #4]
 230 0092 0B4A     		ldr	r2, .L7+12
 231 0094 DA61     		str	r2, [r3, #28]
 729:../drivers/fsl_flash.c ****         FLASH_PrepareExecuteInRamFunctions(config);
 232              		.loc 1 729 9
 233 0096 7B68     		ldr	r3, [r7, #4]
 234 0098 1800     		movs	r0, r3
 235 009a FFF7FEFF 		bl	FLASH_PrepareExecuteInRamFunctions
 236              	.L6:
 730:../drivers/fsl_flash.c ****     }
 731:../drivers/fsl_flash.c **** #endif
 732:../drivers/fsl_flash.c **** 
 733:../drivers/fsl_flash.c ****     config->FlexRAMBlockBase = FSL_FEATURE_FLASH_FLEX_RAM_START_ADDRESS;
 237              		.loc 1 733 30
 238 009e 7B68     		ldr	r3, [r7, #4]
 239 00a0 0022     		movs	r2, #0
 240 00a2 1A62     		str	r2, [r3, #32]
 734:../drivers/fsl_flash.c ****     config->FlexRAMTotalSize = FSL_FEATURE_FLASH_FLEX_RAM_SIZE;
 241              		.loc 1 734 30
 242 00a4 7B68     		ldr	r3, [r7, #4]
 243 00a6 0022     		movs	r2, #0
 244 00a8 5A62     		str	r2, [r3, #36]
 735:../drivers/fsl_flash.c **** 
 736:../drivers/fsl_flash.c **** #if FLASH_SSD_IS_FLEXNVM_ENABLED
 737:../drivers/fsl_flash.c ****     {
 738:../drivers/fsl_flash.c ****         status_t returnCode;
 739:../drivers/fsl_flash.c ****         config->DFlashBlockBase = FSL_FEATURE_FLASH_FLEX_NVM_START_ADDRESS;
 740:../drivers/fsl_flash.c ****         returnCode = flash_update_flexnvm_memory_partition_status(config);
 741:../drivers/fsl_flash.c ****         if (returnCode != kStatus_FLASH_Success)
 742:../drivers/fsl_flash.c ****         {
 743:../drivers/fsl_flash.c ****             return returnCode;
 744:../drivers/fsl_flash.c ****         }
 745:../drivers/fsl_flash.c ****     }
 746:../drivers/fsl_flash.c **** #endif
 747:../drivers/fsl_flash.c **** 
 748:../drivers/fsl_flash.c ****     return kStatus_FLASH_Success;
 245              		.loc 1 748 12
 246 00aa 0023     		movs	r3, #0
 247              	.L3:
 749:../drivers/fsl_flash.c **** }
 248              		.loc 1 749 1
 249 00ac 1800     		movs	r0, r3
 250 00ae BD46     		mov	sp, r7
 251 00b0 04B0     		add	sp, sp, #16
 252              		@ sp needed
 253 00b2 80BD     		pop	{r7, pc}
 254              	.L8:
 255              		.align	2
 256              	.L7:
 257 00b4 00700440 		.word	1074032640
 258 00b8 4C100000 		.word	4172
 259 00bc 00000000 		.word	kPFlashDensities
 260 00c0 00000000 		.word	s_flashExecuteInRamFunctionInfo
 261 00c4 00000000 		.word	s_flashRunCommand
 262 00c8 00000000 		.word	s_flashCommonBitOperation
 263              		.cfi_endproc
 264              	.LFE56:
 266              		.section	.text.FLASH_SetCallback,"ax",%progbits
 267              		.align	1
 268              		.global	FLASH_SetCallback
 269              		.syntax unified
 270              		.code	16
 271              		.thumb_func
 272              		.fpu softvfp
 274              	FLASH_SetCallback:
 275              	.LFB57:
 750:../drivers/fsl_flash.c **** 
 751:../drivers/fsl_flash.c **** status_t FLASH_SetCallback(flash_config_t *config, flash_callback_t callback)
 752:../drivers/fsl_flash.c **** {
 276              		.loc 1 752 1
 277              		.cfi_startproc
 278              		@ args = 0, pretend = 0, frame = 8
 279              		@ frame_needed = 1, uses_anonymous_args = 0
 280 0000 80B5     		push	{r7, lr}
 281              		.cfi_def_cfa_offset 8
 282              		.cfi_offset 7, -8
 283              		.cfi_offset 14, -4
 284 0002 82B0     		sub	sp, sp, #8
 285              		.cfi_def_cfa_offset 16
 286 0004 00AF     		add	r7, sp, #0
 287              		.cfi_def_cfa_register 7
 288 0006 7860     		str	r0, [r7, #4]
 289 0008 3960     		str	r1, [r7]
 753:../drivers/fsl_flash.c ****     if (config == NULL)
 290              		.loc 1 753 8
 291 000a 7B68     		ldr	r3, [r7, #4]
 292 000c 002B     		cmp	r3, #0
 293 000e 01D1     		bne	.L10
 754:../drivers/fsl_flash.c ****     {
 755:../drivers/fsl_flash.c ****         return kStatus_FLASH_InvalidArgument;
 294              		.loc 1 755 16
 295 0010 0423     		movs	r3, #4
 296 0012 03E0     		b	.L11
 297              	.L10:
 756:../drivers/fsl_flash.c ****     }
 757:../drivers/fsl_flash.c **** 
 758:../drivers/fsl_flash.c ****     config->PFlashCallback = callback;
 298              		.loc 1 758 28
 299 0014 7B68     		ldr	r3, [r7, #4]
 300 0016 3A68     		ldr	r2, [r7]
 301 0018 1A61     		str	r2, [r3, #16]
 759:../drivers/fsl_flash.c **** 
 760:../drivers/fsl_flash.c ****     return kStatus_FLASH_Success;
 302              		.loc 1 760 12
 303 001a 0023     		movs	r3, #0
 304              	.L11:
 761:../drivers/fsl_flash.c **** }
 305              		.loc 1 761 1
 306 001c 1800     		movs	r0, r3
 307 001e BD46     		mov	sp, r7
 308 0020 02B0     		add	sp, sp, #8
 309              		@ sp needed
 310 0022 80BD     		pop	{r7, pc}
 311              		.cfi_endproc
 312              	.LFE57:
 314              		.section	.text.FLASH_PrepareExecuteInRamFunctions,"ax",%progbits
 315              		.align	1
 316              		.global	FLASH_PrepareExecuteInRamFunctions
 317              		.syntax unified
 318              		.code	16
 319              		.thumb_func
 320              		.fpu softvfp
 322              	FLASH_PrepareExecuteInRamFunctions:
 323              	.LFB58:
 762:../drivers/fsl_flash.c **** 
 763:../drivers/fsl_flash.c **** #if FLASH_DRIVER_IS_FLASH_RESIDENT
 764:../drivers/fsl_flash.c **** status_t FLASH_PrepareExecuteInRamFunctions(flash_config_t *config)
 765:../drivers/fsl_flash.c **** {
 324              		.loc 1 765 1
 325              		.cfi_startproc
 326              		@ args = 0, pretend = 0, frame = 16
 327              		@ frame_needed = 1, uses_anonymous_args = 0
 328 0000 80B5     		push	{r7, lr}
 329              		.cfi_def_cfa_offset 8
 330              		.cfi_offset 7, -8
 331              		.cfi_offset 14, -4
 332 0002 84B0     		sub	sp, sp, #16
 333              		.cfi_def_cfa_offset 24
 334 0004 00AF     		add	r7, sp, #0
 335              		.cfi_def_cfa_register 7
 336 0006 7860     		str	r0, [r7, #4]
 766:../drivers/fsl_flash.c ****     flash_execute_in_ram_function_config_t *flashExecuteInRamFunctionInfo;
 767:../drivers/fsl_flash.c **** 
 768:../drivers/fsl_flash.c ****     if (config == NULL)
 337              		.loc 1 768 8
 338 0008 7B68     		ldr	r3, [r7, #4]
 339 000a 002B     		cmp	r3, #0
 340 000c 01D1     		bne	.L13
 769:../drivers/fsl_flash.c ****     {
 770:../drivers/fsl_flash.c ****         return kStatus_FLASH_InvalidArgument;
 341              		.loc 1 770 16
 342 000e 0423     		movs	r3, #4
 343 0010 10E0     		b	.L14
 344              	.L13:
 771:../drivers/fsl_flash.c ****     }
 772:../drivers/fsl_flash.c **** 
 773:../drivers/fsl_flash.c ****     flashExecuteInRamFunctionInfo = (flash_execute_in_ram_function_config_t *)config->flashExecuteI
 345              		.loc 1 773 35
 346 0012 7B68     		ldr	r3, [r7, #4]
 347 0014 DB69     		ldr	r3, [r3, #28]
 348 0016 FB60     		str	r3, [r7, #12]
 774:../drivers/fsl_flash.c **** 
 775:../drivers/fsl_flash.c ****     copy_flash_run_command(flashExecuteInRamFunctionInfo->flashRunCommand);
 349              		.loc 1 775 5
 350 0018 FB68     		ldr	r3, [r7, #12]
 351 001a 5B68     		ldr	r3, [r3, #4]
 352 001c 1800     		movs	r0, r3
 353 001e FFF7FEFF 		bl	copy_flash_run_command
 776:../drivers/fsl_flash.c ****     copy_flash_common_bit_operation(flashExecuteInRamFunctionInfo->flashCommonBitOperation);
 354              		.loc 1 776 5
 355 0022 FB68     		ldr	r3, [r7, #12]
 356 0024 9B68     		ldr	r3, [r3, #8]
 357 0026 1800     		movs	r0, r3
 358 0028 FFF7FEFF 		bl	copy_flash_common_bit_operation
 777:../drivers/fsl_flash.c ****     flashExecuteInRamFunctionInfo->activeFunctionCount = kFLASH_ExecuteInRamFunctionTotalNum;
 359              		.loc 1 777 56
 360 002c FB68     		ldr	r3, [r7, #12]
 361 002e 0222     		movs	r2, #2
 362 0030 1A60     		str	r2, [r3]
 778:../drivers/fsl_flash.c **** 
 779:../drivers/fsl_flash.c ****     return kStatus_FLASH_Success;
 363              		.loc 1 779 12
 364 0032 0023     		movs	r3, #0
 365              	.L14:
 780:../drivers/fsl_flash.c **** }
 366              		.loc 1 780 1
 367 0034 1800     		movs	r0, r3
 368 0036 BD46     		mov	sp, r7
 369 0038 04B0     		add	sp, sp, #16
 370              		@ sp needed
 371 003a 80BD     		pop	{r7, pc}
 372              		.cfi_endproc
 373              	.LFE58:
 375              		.section	.text.FLASH_EraseAll,"ax",%progbits
 376              		.align	1
 377              		.global	FLASH_EraseAll
 378              		.syntax unified
 379              		.code	16
 380              		.thumb_func
 381              		.fpu softvfp
 383              	FLASH_EraseAll:
 384              	.LFB59:
 781:../drivers/fsl_flash.c **** #endif /* FLASH_DRIVER_IS_FLASH_RESIDENT */
 782:../drivers/fsl_flash.c **** 
 783:../drivers/fsl_flash.c **** status_t FLASH_EraseAll(flash_config_t *config, uint32_t key)
 784:../drivers/fsl_flash.c **** {
 385              		.loc 1 784 1
 386              		.cfi_startproc
 387              		@ args = 0, pretend = 0, frame = 16
 388              		@ frame_needed = 1, uses_anonymous_args = 0
 389 0000 80B5     		push	{r7, lr}
 390              		.cfi_def_cfa_offset 8
 391              		.cfi_offset 7, -8
 392              		.cfi_offset 14, -4
 393 0002 84B0     		sub	sp, sp, #16
 394              		.cfi_def_cfa_offset 24
 395 0004 00AF     		add	r7, sp, #0
 396              		.cfi_def_cfa_register 7
 397 0006 7860     		str	r0, [r7, #4]
 398 0008 3960     		str	r1, [r7]
 785:../drivers/fsl_flash.c ****     status_t returnCode;
 786:../drivers/fsl_flash.c **** 
 787:../drivers/fsl_flash.c ****     if (config == NULL)
 399              		.loc 1 787 8
 400 000a 7B68     		ldr	r3, [r7, #4]
 401 000c 002B     		cmp	r3, #0
 402 000e 01D1     		bne	.L16
 788:../drivers/fsl_flash.c ****     {
 789:../drivers/fsl_flash.c ****         return kStatus_FLASH_InvalidArgument;
 403              		.loc 1 789 16
 404 0010 0423     		movs	r3, #4
 405 0012 1DE0     		b	.L17
 406              	.L16:
 790:../drivers/fsl_flash.c ****     }
 791:../drivers/fsl_flash.c **** 
 792:../drivers/fsl_flash.c ****     /* preparing passing parameter to erase all flash blocks */
 793:../drivers/fsl_flash.c ****     kFCCOBx[0] = BYTES_JOIN_TO_WORD_1_3(FTFx_ERASE_ALL_BLOCK, 0xFFFFFFU);
 407              		.loc 1 793 12
 408 0014 104B     		ldr	r3, .L19
 409              		.loc 1 793 16
 410 0016 114A     		ldr	r2, .L19+4
 411 0018 1A60     		str	r2, [r3]
 794:../drivers/fsl_flash.c **** 
 795:../drivers/fsl_flash.c ****     /* Validate the user key */
 796:../drivers/fsl_flash.c ****     returnCode = flash_check_user_key(key);
 412              		.loc 1 796 18
 413 001a 3B68     		ldr	r3, [r7]
 414 001c 1800     		movs	r0, r3
 415 001e FFF7FEFF 		bl	flash_check_user_key
 416 0022 0300     		movs	r3, r0
 417 0024 FB60     		str	r3, [r7, #12]
 797:../drivers/fsl_flash.c ****     if (returnCode)
 418              		.loc 1 797 8
 419 0026 FB68     		ldr	r3, [r7, #12]
 420 0028 002B     		cmp	r3, #0
 421 002a 01D0     		beq	.L18
 798:../drivers/fsl_flash.c ****     {
 799:../drivers/fsl_flash.c ****         return returnCode;
 422              		.loc 1 799 16
 423 002c FB68     		ldr	r3, [r7, #12]
 424 002e 0FE0     		b	.L17
 425              	.L18:
 800:../drivers/fsl_flash.c ****     }
 801:../drivers/fsl_flash.c **** 
 802:../drivers/fsl_flash.c ****     flash_cache_clear_process(config, kFLASH_CacheClearProcessPre);
 426              		.loc 1 802 5
 427 0030 7B68     		ldr	r3, [r7, #4]
 428 0032 0021     		movs	r1, #0
 429 0034 1800     		movs	r0, r3
 430 0036 FFF7FEFF 		bl	flash_cache_clear_process
 803:../drivers/fsl_flash.c **** 
 804:../drivers/fsl_flash.c ****     /* calling flash command sequence function to execute the command */
 805:../drivers/fsl_flash.c ****     returnCode = flash_command_sequence(config);
 431              		.loc 1 805 18
 432 003a 7B68     		ldr	r3, [r7, #4]
 433 003c 1800     		movs	r0, r3
 434 003e FFF7FEFF 		bl	flash_command_sequence
 435 0042 0300     		movs	r3, r0
 436 0044 FB60     		str	r3, [r7, #12]
 806:../drivers/fsl_flash.c **** 
 807:../drivers/fsl_flash.c ****     flash_cache_clear(config);
 437              		.loc 1 807 5
 438 0046 7B68     		ldr	r3, [r7, #4]
 439 0048 1800     		movs	r0, r3
 440 004a FFF7FEFF 		bl	flash_cache_clear
 808:../drivers/fsl_flash.c **** 
 809:../drivers/fsl_flash.c **** #if FLASH_SSD_IS_FLEXNVM_ENABLED
 810:../drivers/fsl_flash.c ****     /* Data flash IFR will be erased by erase all command, so we need to
 811:../drivers/fsl_flash.c ****      *  update FlexNVM memory partition status synchronously */
 812:../drivers/fsl_flash.c ****     if (returnCode == kStatus_FLASH_Success)
 813:../drivers/fsl_flash.c ****     {
 814:../drivers/fsl_flash.c ****         returnCode = flash_update_flexnvm_memory_partition_status(config);
 815:../drivers/fsl_flash.c ****     }
 816:../drivers/fsl_flash.c **** #endif
 817:../drivers/fsl_flash.c **** 
 818:../drivers/fsl_flash.c ****     return returnCode;
 441              		.loc 1 818 12
 442 004e FB68     		ldr	r3, [r7, #12]
 443              	.L17:
 819:../drivers/fsl_flash.c **** }
 444              		.loc 1 819 1
 445 0050 1800     		movs	r0, r3
 446 0052 BD46     		mov	sp, r7
 447 0054 04B0     		add	sp, sp, #16
 448              		@ sp needed
 449 0056 80BD     		pop	{r7, pc}
 450              	.L20:
 451              		.align	2
 452              	.L19:
 453 0058 04000240 		.word	1073872900
 454 005c FFFFFF44 		.word	1157627903
 455              		.cfi_endproc
 456              	.LFE59:
 458              		.global	__aeabi_uidivmod
 459              		.global	__aeabi_uidiv
 460              		.section	.text.FLASH_Erase,"ax",%progbits
 461              		.align	1
 462              		.global	FLASH_Erase
 463              		.syntax unified
 464              		.code	16
 465              		.thumb_func
 466              		.fpu softvfp
 468              	FLASH_Erase:
 469              	.LFB60:
 820:../drivers/fsl_flash.c **** 
 821:../drivers/fsl_flash.c **** status_t FLASH_Erase(flash_config_t *config, uint32_t start, uint32_t lengthInBytes, uint32_t key)
 822:../drivers/fsl_flash.c **** {
 470              		.loc 1 822 1
 471              		.cfi_startproc
 472              		@ args = 0, pretend = 0, frame = 64
 473              		@ frame_needed = 1, uses_anonymous_args = 0
 474 0000 90B5     		push	{r4, r7, lr}
 475              		.cfi_def_cfa_offset 12
 476              		.cfi_offset 4, -12
 477              		.cfi_offset 7, -8
 478              		.cfi_offset 14, -4
 479 0002 91B0     		sub	sp, sp, #68
 480              		.cfi_def_cfa_offset 80
 481 0004 00AF     		add	r7, sp, #0
 482              		.cfi_def_cfa_register 7
 483 0006 F860     		str	r0, [r7, #12]
 484 0008 B960     		str	r1, [r7, #8]
 485 000a 7A60     		str	r2, [r7, #4]
 486 000c 3B60     		str	r3, [r7]
 823:../drivers/fsl_flash.c ****     uint32_t sectorSize;
 824:../drivers/fsl_flash.c ****     flash_operation_config_t flashOperationInfo;
 825:../drivers/fsl_flash.c ****     uint32_t endAddress;      /* storing end address */
 826:../drivers/fsl_flash.c ****     uint32_t numberOfSectors; /* number of sectors calculated by endAddress */
 827:../drivers/fsl_flash.c ****     status_t returnCode;
 828:../drivers/fsl_flash.c **** 
 829:../drivers/fsl_flash.c ****     flash_get_matched_operation_info(config, start, &flashOperationInfo);
 487              		.loc 1 829 5
 488 000e 1024     		movs	r4, #16
 489 0010 3A19     		adds	r2, r7, r4
 490 0012 B968     		ldr	r1, [r7, #8]
 491 0014 FB68     		ldr	r3, [r7, #12]
 492 0016 1800     		movs	r0, r3
 493 0018 FFF7FEFF 		bl	flash_get_matched_operation_info
 830:../drivers/fsl_flash.c **** 
 831:../drivers/fsl_flash.c ****     /* Check the supplied address range. */
 832:../drivers/fsl_flash.c ****     returnCode = flash_check_range(config, start, lengthInBytes, flashOperationInfo.sectorCmdAddres
 494              		.loc 1 832 18
 495 001c 3B19     		adds	r3, r7, r4
 496 001e 1B69     		ldr	r3, [r3, #16]
 497 0020 7A68     		ldr	r2, [r7, #4]
 498 0022 B968     		ldr	r1, [r7, #8]
 499 0024 F868     		ldr	r0, [r7, #12]
 500 0026 FFF7FEFF 		bl	flash_check_range
 501 002a 0300     		movs	r3, r0
 502 002c BB63     		str	r3, [r7, #56]
 833:../drivers/fsl_flash.c ****     if (returnCode)
 503              		.loc 1 833 8
 504 002e BB6B     		ldr	r3, [r7, #56]
 505 0030 002B     		cmp	r3, #0
 506 0032 01D0     		beq	.L22
 834:../drivers/fsl_flash.c ****     {
 835:../drivers/fsl_flash.c ****         return returnCode;
 507              		.loc 1 835 16
 508 0034 BB6B     		ldr	r3, [r7, #56]
 509 0036 56E0     		b	.L31
 510              	.L22:
 836:../drivers/fsl_flash.c ****     }
 837:../drivers/fsl_flash.c **** 
 838:../drivers/fsl_flash.c ****     /* Validate the user key */
 839:../drivers/fsl_flash.c ****     returnCode = flash_check_user_key(key);
 511              		.loc 1 839 18
 512 0038 3B68     		ldr	r3, [r7]
 513 003a 1800     		movs	r0, r3
 514 003c FFF7FEFF 		bl	flash_check_user_key
 515 0040 0300     		movs	r3, r0
 516 0042 BB63     		str	r3, [r7, #56]
 840:../drivers/fsl_flash.c ****     if (returnCode)
 517              		.loc 1 840 8
 518 0044 BB6B     		ldr	r3, [r7, #56]
 519 0046 002B     		cmp	r3, #0
 520 0048 01D0     		beq	.L24
 841:../drivers/fsl_flash.c ****     {
 842:../drivers/fsl_flash.c ****         return returnCode;
 521              		.loc 1 842 16
 522 004a BB6B     		ldr	r3, [r7, #56]
 523 004c 4BE0     		b	.L31
 524              	.L24:
 843:../drivers/fsl_flash.c ****     }
 844:../drivers/fsl_flash.c **** 
 845:../drivers/fsl_flash.c ****     start = flashOperationInfo.convertedAddress;
 525              		.loc 1 845 11
 526 004e 1022     		movs	r2, #16
 527 0050 BB18     		adds	r3, r7, r2
 528 0052 1B68     		ldr	r3, [r3]
 529 0054 BB60     		str	r3, [r7, #8]
 846:../drivers/fsl_flash.c ****     sectorSize = flashOperationInfo.activeSectorSize;
 530              		.loc 1 846 16
 531 0056 BB18     		adds	r3, r7, r2
 532 0058 5B68     		ldr	r3, [r3, #4]
 533 005a 7B63     		str	r3, [r7, #52]
 847:../drivers/fsl_flash.c **** 
 848:../drivers/fsl_flash.c ****     /* calculating Flash end address */
 849:../drivers/fsl_flash.c ****     endAddress = start + lengthInBytes - 1;
 534              		.loc 1 849 24
 535 005c BA68     		ldr	r2, [r7, #8]
 536 005e 7B68     		ldr	r3, [r7, #4]
 537 0060 D318     		adds	r3, r2, r3
 538              		.loc 1 849 16
 539 0062 013B     		subs	r3, r3, #1
 540 0064 FB63     		str	r3, [r7, #60]
 850:../drivers/fsl_flash.c **** 
 851:../drivers/fsl_flash.c ****     /* re-calculate the endAddress and align it to the start of the next sector
 852:../drivers/fsl_flash.c ****      * which will be used in the comparison below */
 853:../drivers/fsl_flash.c ****     if (endAddress % sectorSize)
 541              		.loc 1 853 20
 542 0066 FB6B     		ldr	r3, [r7, #60]
 543 0068 796B     		ldr	r1, [r7, #52]
 544 006a 1800     		movs	r0, r3
 545 006c FFF7FEFF 		bl	__aeabi_uidivmod
 546              	.LVL0:
 547 0070 0B1E     		subs	r3, r1, #0
 548              		.loc 1 853 8
 549 0072 0BD0     		beq	.L25
 854:../drivers/fsl_flash.c ****     {
 855:../drivers/fsl_flash.c ****         numberOfSectors = endAddress / sectorSize + 1;
 550              		.loc 1 855 38
 551 0074 796B     		ldr	r1, [r7, #52]
 552 0076 F86B     		ldr	r0, [r7, #60]
 553 0078 FFF7FEFF 		bl	__aeabi_uidiv
 554              	.LVL1:
 555 007c 0300     		movs	r3, r0
 556              		.loc 1 855 25
 557 007e 0133     		adds	r3, r3, #1
 558 0080 3B63     		str	r3, [r7, #48]
 856:../drivers/fsl_flash.c ****         endAddress = numberOfSectors * sectorSize - 1;
 559              		.loc 1 856 38
 560 0082 3B6B     		ldr	r3, [r7, #48]
 561 0084 7A6B     		ldr	r2, [r7, #52]
 562 0086 5343     		muls	r3, r2
 563              		.loc 1 856 20
 564 0088 013B     		subs	r3, r3, #1
 565 008a FB63     		str	r3, [r7, #60]
 566              	.L25:
 857:../drivers/fsl_flash.c ****     }
 858:../drivers/fsl_flash.c **** 
 859:../drivers/fsl_flash.c ****     flash_cache_clear_process(config, kFLASH_CacheClearProcessPre);
 567              		.loc 1 859 5
 568 008c FB68     		ldr	r3, [r7, #12]
 569 008e 0021     		movs	r1, #0
 570 0090 1800     		movs	r0, r3
 571 0092 FFF7FEFF 		bl	flash_cache_clear_process
 860:../drivers/fsl_flash.c **** 
 861:../drivers/fsl_flash.c ****     /* the start address will increment to the next sector address
 862:../drivers/fsl_flash.c ****      * until it reaches the endAdddress */
 863:../drivers/fsl_flash.c ****     while (start <= endAddress)
 572              		.loc 1 863 11
 573 0096 1BE0     		b	.L26
 574              	.L30:
 864:../drivers/fsl_flash.c ****     {
 865:../drivers/fsl_flash.c ****         /* preparing passing parameter to erase a flash block */
 866:../drivers/fsl_flash.c ****         kFCCOBx[0] = BYTES_JOIN_TO_WORD_1_3(FTFx_ERASE_SECTOR, start);
 575              		.loc 1 866 22
 576 0098 BB68     		ldr	r3, [r7, #8]
 577 009a 1B02     		lsls	r3, r3, #8
 578 009c 1A0A     		lsrs	r2, r3, #8
 579              		.loc 1 866 16
 580 009e 144B     		ldr	r3, .L33
 581              		.loc 1 866 22
 582 00a0 9021     		movs	r1, #144
 583 00a2 0905     		lsls	r1, r1, #20
 584 00a4 0A43     		orrs	r2, r1
 585              		.loc 1 866 20
 586 00a6 1A60     		str	r2, [r3]
 867:../drivers/fsl_flash.c **** 
 868:../drivers/fsl_flash.c ****         /* calling flash command sequence function to execute the command */
 869:../drivers/fsl_flash.c ****         returnCode = flash_command_sequence(config);
 587              		.loc 1 869 22
 588 00a8 FB68     		ldr	r3, [r7, #12]
 589 00aa 1800     		movs	r0, r3
 590 00ac FFF7FEFF 		bl	flash_command_sequence
 591 00b0 0300     		movs	r3, r0
 592 00b2 BB63     		str	r3, [r7, #56]
 870:../drivers/fsl_flash.c **** 
 871:../drivers/fsl_flash.c ****         /* calling flash callback function if it is available */
 872:../drivers/fsl_flash.c ****         if (config->PFlashCallback)
 593              		.loc 1 872 19
 594 00b4 FB68     		ldr	r3, [r7, #12]
 595 00b6 1B69     		ldr	r3, [r3, #16]
 596              		.loc 1 872 12
 597 00b8 002B     		cmp	r3, #0
 598 00ba 02D0     		beq	.L27
 873:../drivers/fsl_flash.c ****         {
 874:../drivers/fsl_flash.c ****             config->PFlashCallback();
 599              		.loc 1 874 19
 600 00bc FB68     		ldr	r3, [r7, #12]
 601 00be 1B69     		ldr	r3, [r3, #16]
 602              		.loc 1 874 13
 603 00c0 9847     		blx	r3
 604              	.LVL2:
 605              	.L27:
 875:../drivers/fsl_flash.c ****         }
 876:../drivers/fsl_flash.c **** 
 877:../drivers/fsl_flash.c ****         /* checking the success of command execution */
 878:../drivers/fsl_flash.c ****         if (kStatus_FLASH_Success != returnCode)
 606              		.loc 1 878 12
 607 00c2 BB6B     		ldr	r3, [r7, #56]
 608 00c4 002B     		cmp	r3, #0
 609 00c6 08D1     		bne	.L32
 879:../drivers/fsl_flash.c ****         {
 880:../drivers/fsl_flash.c ****             break;
 881:../drivers/fsl_flash.c ****         }
 882:../drivers/fsl_flash.c ****         else
 883:../drivers/fsl_flash.c ****         {
 884:../drivers/fsl_flash.c ****             /* Increment to the next sector */
 885:../drivers/fsl_flash.c ****             start += sectorSize;
 610              		.loc 1 885 19
 611 00c8 BA68     		ldr	r2, [r7, #8]
 612 00ca 7B6B     		ldr	r3, [r7, #52]
 613 00cc D318     		adds	r3, r2, r3
 614 00ce BB60     		str	r3, [r7, #8]
 615              	.L26:
 863:../drivers/fsl_flash.c ****     {
 616              		.loc 1 863 11
 617 00d0 BA68     		ldr	r2, [r7, #8]
 618 00d2 FB6B     		ldr	r3, [r7, #60]
 619 00d4 9A42     		cmp	r2, r3
 620 00d6 DFD9     		bls	.L30
 621 00d8 00E0     		b	.L29
 622              	.L32:
 880:../drivers/fsl_flash.c ****         }
 623              		.loc 1 880 13
 624 00da C046     		nop
 625              	.L29:
 886:../drivers/fsl_flash.c ****         }
 887:../drivers/fsl_flash.c ****     }
 888:../drivers/fsl_flash.c **** 
 889:../drivers/fsl_flash.c ****     flash_cache_clear(config);
 626              		.loc 1 889 5
 627 00dc FB68     		ldr	r3, [r7, #12]
 628 00de 1800     		movs	r0, r3
 629 00e0 FFF7FEFF 		bl	flash_cache_clear
 890:../drivers/fsl_flash.c **** 
 891:../drivers/fsl_flash.c ****     return (returnCode);
 630              		.loc 1 891 12
 631 00e4 BB6B     		ldr	r3, [r7, #56]
 632              	.L31:
 892:../drivers/fsl_flash.c **** }
 633              		.loc 1 892 1 discriminator 1
 634 00e6 1800     		movs	r0, r3
 635 00e8 BD46     		mov	sp, r7
 636 00ea 11B0     		add	sp, sp, #68
 637              		@ sp needed
 638 00ec 90BD     		pop	{r4, r7, pc}
 639              	.L34:
 640 00ee C046     		.align	2
 641              	.L33:
 642 00f0 04000240 		.word	1073872900
 643              		.cfi_endproc
 644              	.LFE60:
 646              		.section	.text.FLASH_EraseAllExecuteOnlySegments,"ax",%progbits
 647              		.align	1
 648              		.global	FLASH_EraseAllExecuteOnlySegments
 649              		.syntax unified
 650              		.code	16
 651              		.thumb_func
 652              		.fpu softvfp
 654              	FLASH_EraseAllExecuteOnlySegments:
 655              	.LFB61:
 893:../drivers/fsl_flash.c **** 
 894:../drivers/fsl_flash.c **** #if defined(FSL_FEATURE_FLASH_HAS_ERASE_ALL_BLOCKS_UNSECURE_CMD) && FSL_FEATURE_FLASH_HAS_ERASE_ALL
 895:../drivers/fsl_flash.c **** status_t FLASH_EraseAllUnsecure(flash_config_t *config, uint32_t key)
 896:../drivers/fsl_flash.c **** {
 897:../drivers/fsl_flash.c ****     status_t returnCode;
 898:../drivers/fsl_flash.c **** 
 899:../drivers/fsl_flash.c ****     if (config == NULL)
 900:../drivers/fsl_flash.c ****     {
 901:../drivers/fsl_flash.c ****         return kStatus_FLASH_InvalidArgument;
 902:../drivers/fsl_flash.c ****     }
 903:../drivers/fsl_flash.c **** 
 904:../drivers/fsl_flash.c ****     /* Prepare passing parameter to erase all flash blocks (unsecure). */
 905:../drivers/fsl_flash.c ****     kFCCOBx[0] = BYTES_JOIN_TO_WORD_1_3(FTFx_ERASE_ALL_BLOCK_UNSECURE, 0xFFFFFFU);
 906:../drivers/fsl_flash.c **** 
 907:../drivers/fsl_flash.c ****     /* Validate the user key */
 908:../drivers/fsl_flash.c ****     returnCode = flash_check_user_key(key);
 909:../drivers/fsl_flash.c ****     if (returnCode)
 910:../drivers/fsl_flash.c ****     {
 911:../drivers/fsl_flash.c ****         return returnCode;
 912:../drivers/fsl_flash.c ****     }
 913:../drivers/fsl_flash.c **** 
 914:../drivers/fsl_flash.c ****     flash_cache_clear_process(config, kFLASH_CacheClearProcessPre);
 915:../drivers/fsl_flash.c **** 
 916:../drivers/fsl_flash.c ****     /* calling flash command sequence function to execute the command */
 917:../drivers/fsl_flash.c ****     returnCode = flash_command_sequence(config);
 918:../drivers/fsl_flash.c **** 
 919:../drivers/fsl_flash.c ****     flash_cache_clear(config);
 920:../drivers/fsl_flash.c **** 
 921:../drivers/fsl_flash.c **** #if FLASH_SSD_IS_FLEXNVM_ENABLED
 922:../drivers/fsl_flash.c ****     /* Data flash IFR will be erased by erase all unsecure command, so we need to
 923:../drivers/fsl_flash.c ****      *  update FlexNVM memory partition status synchronously */
 924:../drivers/fsl_flash.c ****     if (returnCode == kStatus_FLASH_Success)
 925:../drivers/fsl_flash.c ****     {
 926:../drivers/fsl_flash.c ****         returnCode = flash_update_flexnvm_memory_partition_status(config);
 927:../drivers/fsl_flash.c ****     }
 928:../drivers/fsl_flash.c **** #endif
 929:../drivers/fsl_flash.c **** 
 930:../drivers/fsl_flash.c ****     return returnCode;
 931:../drivers/fsl_flash.c **** }
 932:../drivers/fsl_flash.c **** #endif /* FSL_FEATURE_FLASH_HAS_ERASE_ALL_BLOCKS_UNSECURE_CMD */
 933:../drivers/fsl_flash.c **** 
 934:../drivers/fsl_flash.c **** status_t FLASH_EraseAllExecuteOnlySegments(flash_config_t *config, uint32_t key)
 935:../drivers/fsl_flash.c **** {
 656              		.loc 1 935 1
 657              		.cfi_startproc
 658              		@ args = 0, pretend = 0, frame = 16
 659              		@ frame_needed = 1, uses_anonymous_args = 0
 660 0000 80B5     		push	{r7, lr}
 661              		.cfi_def_cfa_offset 8
 662              		.cfi_offset 7, -8
 663              		.cfi_offset 14, -4
 664 0002 84B0     		sub	sp, sp, #16
 665              		.cfi_def_cfa_offset 24
 666 0004 00AF     		add	r7, sp, #0
 667              		.cfi_def_cfa_register 7
 668 0006 7860     		str	r0, [r7, #4]
 669 0008 3960     		str	r1, [r7]
 936:../drivers/fsl_flash.c ****     status_t returnCode;
 937:../drivers/fsl_flash.c **** 
 938:../drivers/fsl_flash.c ****     if (config == NULL)
 670              		.loc 1 938 8
 671 000a 7B68     		ldr	r3, [r7, #4]
 672 000c 002B     		cmp	r3, #0
 673 000e 01D1     		bne	.L36
 939:../drivers/fsl_flash.c ****     {
 940:../drivers/fsl_flash.c ****         return kStatus_FLASH_InvalidArgument;
 674              		.loc 1 940 16
 675 0010 0423     		movs	r3, #4
 676 0012 1DE0     		b	.L37
 677              	.L36:
 941:../drivers/fsl_flash.c ****     }
 942:../drivers/fsl_flash.c **** 
 943:../drivers/fsl_flash.c ****     /* preparing passing parameter to erase all execute-only segments
 944:../drivers/fsl_flash.c ****      * 1st element for the FCCOB register */
 945:../drivers/fsl_flash.c ****     kFCCOBx[0] = BYTES_JOIN_TO_WORD_1_3(FTFx_ERASE_ALL_EXECUTE_ONLY_SEGMENT, 0xFFFFFFU);
 678              		.loc 1 945 12
 679 0014 104B     		ldr	r3, .L39
 680              		.loc 1 945 16
 681 0016 114A     		ldr	r2, .L39+4
 682 0018 1A60     		str	r2, [r3]
 946:../drivers/fsl_flash.c **** 
 947:../drivers/fsl_flash.c ****     /* Validate the user key */
 948:../drivers/fsl_flash.c ****     returnCode = flash_check_user_key(key);
 683              		.loc 1 948 18
 684 001a 3B68     		ldr	r3, [r7]
 685 001c 1800     		movs	r0, r3
 686 001e FFF7FEFF 		bl	flash_check_user_key
 687 0022 0300     		movs	r3, r0
 688 0024 FB60     		str	r3, [r7, #12]
 949:../drivers/fsl_flash.c ****     if (returnCode)
 689              		.loc 1 949 8
 690 0026 FB68     		ldr	r3, [r7, #12]
 691 0028 002B     		cmp	r3, #0
 692 002a 01D0     		beq	.L38
 950:../drivers/fsl_flash.c ****     {
 951:../drivers/fsl_flash.c ****         return returnCode;
 693              		.loc 1 951 16
 694 002c FB68     		ldr	r3, [r7, #12]
 695 002e 0FE0     		b	.L37
 696              	.L38:
 952:../drivers/fsl_flash.c ****     }
 953:../drivers/fsl_flash.c **** 
 954:../drivers/fsl_flash.c ****     flash_cache_clear_process(config, kFLASH_CacheClearProcessPre);
 697              		.loc 1 954 5
 698 0030 7B68     		ldr	r3, [r7, #4]
 699 0032 0021     		movs	r1, #0
 700 0034 1800     		movs	r0, r3
 701 0036 FFF7FEFF 		bl	flash_cache_clear_process
 955:../drivers/fsl_flash.c **** 
 956:../drivers/fsl_flash.c ****     /* calling flash command sequence function to execute the command */
 957:../drivers/fsl_flash.c ****     returnCode = flash_command_sequence(config);
 702              		.loc 1 957 18
 703 003a 7B68     		ldr	r3, [r7, #4]
 704 003c 1800     		movs	r0, r3
 705 003e FFF7FEFF 		bl	flash_command_sequence
 706 0042 0300     		movs	r3, r0
 707 0044 FB60     		str	r3, [r7, #12]
 958:../drivers/fsl_flash.c **** 
 959:../drivers/fsl_flash.c ****     flash_cache_clear(config);
 708              		.loc 1 959 5
 709 0046 7B68     		ldr	r3, [r7, #4]
 710 0048 1800     		movs	r0, r3
 711 004a FFF7FEFF 		bl	flash_cache_clear
 960:../drivers/fsl_flash.c **** 
 961:../drivers/fsl_flash.c ****     return returnCode;
 712              		.loc 1 961 12
 713 004e FB68     		ldr	r3, [r7, #12]
 714              	.L37:
 962:../drivers/fsl_flash.c **** }
 715              		.loc 1 962 1
 716 0050 1800     		movs	r0, r3
 717 0052 BD46     		mov	sp, r7
 718 0054 04B0     		add	sp, sp, #16
 719              		@ sp needed
 720 0056 80BD     		pop	{r7, pc}
 721              	.L40:
 722              		.align	2
 723              	.L39:
 724 0058 04000240 		.word	1073872900
 725 005c FFFFFF4B 		.word	1275068415
 726              		.cfi_endproc
 727              	.LFE61:
 729              		.section	.text.FLASH_Program,"ax",%progbits
 730              		.align	1
 731              		.global	FLASH_Program
 732              		.syntax unified
 733              		.code	16
 734              		.thumb_func
 735              		.fpu softvfp
 737              	FLASH_Program:
 738              	.LFB62:
 963:../drivers/fsl_flash.c **** 
 964:../drivers/fsl_flash.c **** status_t FLASH_Program(flash_config_t *config, uint32_t start, uint32_t *src, uint32_t lengthInByte
 965:../drivers/fsl_flash.c **** {
 739              		.loc 1 965 1
 740              		.cfi_startproc
 741              		@ args = 0, pretend = 0, frame = 56
 742              		@ frame_needed = 1, uses_anonymous_args = 0
 743 0000 90B5     		push	{r4, r7, lr}
 744              		.cfi_def_cfa_offset 12
 745              		.cfi_offset 4, -12
 746              		.cfi_offset 7, -8
 747              		.cfi_offset 14, -4
 748 0002 8FB0     		sub	sp, sp, #60
 749              		.cfi_def_cfa_offset 72
 750 0004 00AF     		add	r7, sp, #0
 751              		.cfi_def_cfa_register 7
 752 0006 F860     		str	r0, [r7, #12]
 753 0008 B960     		str	r1, [r7, #8]
 754 000a 7A60     		str	r2, [r7, #4]
 755 000c 3B60     		str	r3, [r7]
 966:../drivers/fsl_flash.c ****     status_t returnCode;
 967:../drivers/fsl_flash.c ****     flash_operation_config_t flashOperationInfo;
 968:../drivers/fsl_flash.c **** 
 969:../drivers/fsl_flash.c ****     if (src == NULL)
 756              		.loc 1 969 8
 757 000e 7B68     		ldr	r3, [r7, #4]
 758 0010 002B     		cmp	r3, #0
 759 0012 01D1     		bne	.L42
 970:../drivers/fsl_flash.c ****     {
 971:../drivers/fsl_flash.c ****         return kStatus_FLASH_InvalidArgument;
 760              		.loc 1 971 16
 761 0014 0423     		movs	r3, #4
 762 0016 6CE0     		b	.L52
 763              	.L42:
 972:../drivers/fsl_flash.c ****     }
 973:../drivers/fsl_flash.c **** 
 974:../drivers/fsl_flash.c ****     flash_get_matched_operation_info(config, start, &flashOperationInfo);
 764              		.loc 1 974 5
 765 0018 1424     		movs	r4, #20
 766 001a 3A19     		adds	r2, r7, r4
 767 001c B968     		ldr	r1, [r7, #8]
 768 001e FB68     		ldr	r3, [r7, #12]
 769 0020 1800     		movs	r0, r3
 770 0022 FFF7FEFF 		bl	flash_get_matched_operation_info
 975:../drivers/fsl_flash.c **** 
 976:../drivers/fsl_flash.c ****     /* Check the supplied address range. */
 977:../drivers/fsl_flash.c ****     returnCode = flash_check_range(config, start, lengthInBytes, flashOperationInfo.blockWriteUnitS
 771              		.loc 1 977 18
 772 0026 3B19     		adds	r3, r7, r4
 773 0028 DB68     		ldr	r3, [r3, #12]
 774 002a 3A68     		ldr	r2, [r7]
 775 002c B968     		ldr	r1, [r7, #8]
 776 002e F868     		ldr	r0, [r7, #12]
 777 0030 FFF7FEFF 		bl	flash_check_range
 778 0034 0300     		movs	r3, r0
 779 0036 7B63     		str	r3, [r7, #52]
 978:../drivers/fsl_flash.c ****     if (returnCode)
 780              		.loc 1 978 8
 781 0038 7B6B     		ldr	r3, [r7, #52]
 782 003a 002B     		cmp	r3, #0
 783 003c 01D0     		beq	.L44
 979:../drivers/fsl_flash.c ****     {
 980:../drivers/fsl_flash.c ****         return returnCode;
 784              		.loc 1 980 16
 785 003e 7B6B     		ldr	r3, [r7, #52]
 786 0040 57E0     		b	.L52
 787              	.L44:
 981:../drivers/fsl_flash.c ****     }
 982:../drivers/fsl_flash.c **** 
 983:../drivers/fsl_flash.c ****     start = flashOperationInfo.convertedAddress;
 788              		.loc 1 983 11
 789 0042 1423     		movs	r3, #20
 790 0044 FB18     		adds	r3, r7, r3
 791 0046 1B68     		ldr	r3, [r3]
 792 0048 BB60     		str	r3, [r7, #8]
 984:../drivers/fsl_flash.c **** 
 985:../drivers/fsl_flash.c ****     flash_cache_clear_process(config, kFLASH_CacheClearProcessPre);
 793              		.loc 1 985 5
 794 004a FB68     		ldr	r3, [r7, #12]
 795 004c 0021     		movs	r1, #0
 796 004e 1800     		movs	r0, r3
 797 0050 FFF7FEFF 		bl	flash_cache_clear_process
 986:../drivers/fsl_flash.c **** 
 987:../drivers/fsl_flash.c ****     while (lengthInBytes > 0)
 798              		.loc 1 987 11
 799 0054 43E0     		b	.L45
 800              	.L51:
 988:../drivers/fsl_flash.c ****     {
 989:../drivers/fsl_flash.c ****         /* preparing passing parameter to program the flash block */
 990:../drivers/fsl_flash.c ****         kFCCOBx[1] = *src++;
 801              		.loc 1 990 26
 802 0056 7B68     		ldr	r3, [r7, #4]
 803 0058 1A1D     		adds	r2, r3, #4
 804 005a 7A60     		str	r2, [r7, #4]
 805              		.loc 1 990 16
 806 005c 274A     		ldr	r2, .L54
 807 005e 0432     		adds	r2, r2, #4
 808              		.loc 1 990 22
 809 0060 1B68     		ldr	r3, [r3]
 810              		.loc 1 990 20
 811 0062 1360     		str	r3, [r2]
 991:../drivers/fsl_flash.c ****         if (4 == flashOperationInfo.blockWriteUnitSize)
 812              		.loc 1 991 36
 813 0064 1423     		movs	r3, #20
 814 0066 FB18     		adds	r3, r7, r3
 815 0068 DB68     		ldr	r3, [r3, #12]
 816              		.loc 1 991 12
 817 006a 042B     		cmp	r3, #4
 818 006c 08D1     		bne	.L46
 992:../drivers/fsl_flash.c ****         {
 993:../drivers/fsl_flash.c ****             kFCCOBx[0] = BYTES_JOIN_TO_WORD_1_3(FTFx_PROGRAM_LONGWORD, start);
 819              		.loc 1 993 26
 820 006e BB68     		ldr	r3, [r7, #8]
 821 0070 1B02     		lsls	r3, r3, #8
 822 0072 1A0A     		lsrs	r2, r3, #8
 823              		.loc 1 993 20
 824 0074 214B     		ldr	r3, .L54
 825              		.loc 1 993 26
 826 0076 C021     		movs	r1, #192
 827 0078 C904     		lsls	r1, r1, #19
 828 007a 0A43     		orrs	r2, r1
 829              		.loc 1 993 24
 830 007c 1A60     		str	r2, [r3]
 831 007e 13E0     		b	.L47
 832              	.L46:
 994:../drivers/fsl_flash.c ****         }
 995:../drivers/fsl_flash.c ****         else if (8 == flashOperationInfo.blockWriteUnitSize)
 833              		.loc 1 995 41
 834 0080 1423     		movs	r3, #20
 835 0082 FB18     		adds	r3, r7, r3
 836 0084 DB68     		ldr	r3, [r3, #12]
 837              		.loc 1 995 17
 838 0086 082B     		cmp	r3, #8
 839 0088 0ED1     		bne	.L47
 996:../drivers/fsl_flash.c ****         {
 997:../drivers/fsl_flash.c ****             kFCCOBx[2] = *src++;
 840              		.loc 1 997 30
 841 008a 7B68     		ldr	r3, [r7, #4]
 842 008c 1A1D     		adds	r2, r3, #4
 843 008e 7A60     		str	r2, [r7, #4]
 844              		.loc 1 997 20
 845 0090 1A4A     		ldr	r2, .L54
 846 0092 0832     		adds	r2, r2, #8
 847              		.loc 1 997 26
 848 0094 1B68     		ldr	r3, [r3]
 849              		.loc 1 997 24
 850 0096 1360     		str	r3, [r2]
 998:../drivers/fsl_flash.c ****             kFCCOBx[0] = BYTES_JOIN_TO_WORD_1_3(FTFx_PROGRAM_PHRASE, start);
 851              		.loc 1 998 26
 852 0098 BB68     		ldr	r3, [r7, #8]
 853 009a 1B02     		lsls	r3, r3, #8
 854 009c 1A0A     		lsrs	r2, r3, #8
 855              		.loc 1 998 20
 856 009e 174B     		ldr	r3, .L54
 857              		.loc 1 998 26
 858 00a0 E021     		movs	r1, #224
 859 00a2 C904     		lsls	r1, r1, #19
 860 00a4 0A43     		orrs	r2, r1
 861              		.loc 1 998 24
 862 00a6 1A60     		str	r2, [r3]
 863              	.L47:
 999:../drivers/fsl_flash.c ****         }
1000:../drivers/fsl_flash.c ****         else
1001:../drivers/fsl_flash.c ****         {
1002:../drivers/fsl_flash.c ****         }
1003:../drivers/fsl_flash.c **** 
1004:../drivers/fsl_flash.c ****         /* calling flash command sequence function to execute the command */
1005:../drivers/fsl_flash.c ****         returnCode = flash_command_sequence(config);
 864              		.loc 1 1005 22
 865 00a8 FB68     		ldr	r3, [r7, #12]
 866 00aa 1800     		movs	r0, r3
 867 00ac FFF7FEFF 		bl	flash_command_sequence
 868 00b0 0300     		movs	r3, r0
 869 00b2 7B63     		str	r3, [r7, #52]
1006:../drivers/fsl_flash.c **** 
1007:../drivers/fsl_flash.c ****         /* calling flash callback function if it is available */
1008:../drivers/fsl_flash.c ****         if (config->PFlashCallback)
 870              		.loc 1 1008 19
 871 00b4 FB68     		ldr	r3, [r7, #12]
 872 00b6 1B69     		ldr	r3, [r3, #16]
 873              		.loc 1 1008 12
 874 00b8 002B     		cmp	r3, #0
 875 00ba 02D0     		beq	.L48
1009:../drivers/fsl_flash.c ****         {
1010:../drivers/fsl_flash.c ****             config->PFlashCallback();
 876              		.loc 1 1010 19
 877 00bc FB68     		ldr	r3, [r7, #12]
 878 00be 1B69     		ldr	r3, [r3, #16]
 879              		.loc 1 1010 13
 880 00c0 9847     		blx	r3
 881              	.LVL3:
 882              	.L48:
1011:../drivers/fsl_flash.c ****         }
1012:../drivers/fsl_flash.c **** 
1013:../drivers/fsl_flash.c ****         /* checking for the success of command execution */
1014:../drivers/fsl_flash.c ****         if (kStatus_FLASH_Success != returnCode)
 883              		.loc 1 1014 12
 884 00c2 7B6B     		ldr	r3, [r7, #52]
 885 00c4 002B     		cmp	r3, #0
 886 00c6 0ED1     		bne	.L53
1015:../drivers/fsl_flash.c ****         {
1016:../drivers/fsl_flash.c ****             break;
1017:../drivers/fsl_flash.c ****         }
1018:../drivers/fsl_flash.c ****         else
1019:../drivers/fsl_flash.c ****         {
1020:../drivers/fsl_flash.c ****             /* update start address for next iteration */
1021:../drivers/fsl_flash.c ****             start += flashOperationInfo.blockWriteUnitSize;
 887              		.loc 1 1021 40
 888 00c8 1421     		movs	r1, #20
 889 00ca 7B18     		adds	r3, r7, r1
 890 00cc DB68     		ldr	r3, [r3, #12]
 891              		.loc 1 1021 19
 892 00ce BA68     		ldr	r2, [r7, #8]
 893 00d0 D318     		adds	r3, r2, r3
 894 00d2 BB60     		str	r3, [r7, #8]
1022:../drivers/fsl_flash.c **** 
1023:../drivers/fsl_flash.c ****             /* update lengthInBytes for next iteration */
1024:../drivers/fsl_flash.c ****             lengthInBytes -= flashOperationInfo.blockWriteUnitSize;
 895              		.loc 1 1024 48
 896 00d4 7B18     		adds	r3, r7, r1
 897 00d6 DB68     		ldr	r3, [r3, #12]
 898              		.loc 1 1024 27
 899 00d8 3A68     		ldr	r2, [r7]
 900 00da D31A     		subs	r3, r2, r3
 901 00dc 3B60     		str	r3, [r7]
 902              	.L45:
 987:../drivers/fsl_flash.c ****     {
 903              		.loc 1 987 11
 904 00de 3B68     		ldr	r3, [r7]
 905 00e0 002B     		cmp	r3, #0
 906 00e2 B8D1     		bne	.L51
 907 00e4 00E0     		b	.L50
 908              	.L53:
1016:../drivers/fsl_flash.c ****         }
 909              		.loc 1 1016 13
 910 00e6 C046     		nop
 911              	.L50:
1025:../drivers/fsl_flash.c ****         }
1026:../drivers/fsl_flash.c ****     }
1027:../drivers/fsl_flash.c **** 
1028:../drivers/fsl_flash.c ****     flash_cache_clear(config);
 912              		.loc 1 1028 5
 913 00e8 FB68     		ldr	r3, [r7, #12]
 914 00ea 1800     		movs	r0, r3
 915 00ec FFF7FEFF 		bl	flash_cache_clear
1029:../drivers/fsl_flash.c **** 
1030:../drivers/fsl_flash.c ****     return (returnCode);
 916              		.loc 1 1030 12
 917 00f0 7B6B     		ldr	r3, [r7, #52]
 918              	.L52:
1031:../drivers/fsl_flash.c **** }
 919              		.loc 1 1031 1 discriminator 1
 920 00f2 1800     		movs	r0, r3
 921 00f4 BD46     		mov	sp, r7
 922 00f6 0FB0     		add	sp, sp, #60
 923              		@ sp needed
 924 00f8 90BD     		pop	{r4, r7, pc}
 925              	.L55:
 926 00fa C046     		.align	2
 927              	.L54:
 928 00fc 04000240 		.word	1073872900
 929              		.cfi_endproc
 930              	.LFE62:
 932              		.section	.text.FLASH_ProgramOnce,"ax",%progbits
 933              		.align	1
 934              		.global	FLASH_ProgramOnce
 935              		.syntax unified
 936              		.code	16
 937              		.thumb_func
 938              		.fpu softvfp
 940              	FLASH_ProgramOnce:
 941              	.LFB63:
1032:../drivers/fsl_flash.c **** 
1033:../drivers/fsl_flash.c **** status_t FLASH_ProgramOnce(flash_config_t *config, uint32_t index, uint32_t *src, uint32_t lengthIn
1034:../drivers/fsl_flash.c **** {
 942              		.loc 1 1034 1
 943              		.cfi_startproc
 944              		@ args = 0, pretend = 0, frame = 24
 945              		@ frame_needed = 1, uses_anonymous_args = 0
 946 0000 80B5     		push	{r7, lr}
 947              		.cfi_def_cfa_offset 8
 948              		.cfi_offset 7, -8
 949              		.cfi_offset 14, -4
 950 0002 86B0     		sub	sp, sp, #24
 951              		.cfi_def_cfa_offset 32
 952 0004 00AF     		add	r7, sp, #0
 953              		.cfi_def_cfa_register 7
 954 0006 F860     		str	r0, [r7, #12]
 955 0008 B960     		str	r1, [r7, #8]
 956 000a 7A60     		str	r2, [r7, #4]
 957 000c 3B60     		str	r3, [r7]
1035:../drivers/fsl_flash.c ****     status_t returnCode;
1036:../drivers/fsl_flash.c **** 
1037:../drivers/fsl_flash.c ****     if ((config == NULL) || (src == NULL))
 958              		.loc 1 1037 8
 959 000e FB68     		ldr	r3, [r7, #12]
 960 0010 002B     		cmp	r3, #0
 961 0012 02D0     		beq	.L57
 962              		.loc 1 1037 26 discriminator 1
 963 0014 7B68     		ldr	r3, [r7, #4]
 964 0016 002B     		cmp	r3, #0
 965 0018 01D1     		bne	.L58
 966              	.L57:
1038:../drivers/fsl_flash.c ****     {
1039:../drivers/fsl_flash.c ****         return kStatus_FLASH_InvalidArgument;
 967              		.loc 1 1039 16
 968 001a 0423     		movs	r3, #4
 969 001c 2EE0     		b	.L59
 970              	.L58:
1040:../drivers/fsl_flash.c ****     }
1041:../drivers/fsl_flash.c **** 
1042:../drivers/fsl_flash.c ****     /* pass paramters to FTFx */
1043:../drivers/fsl_flash.c ****     kFCCOBx[0] = BYTES_JOIN_TO_WORD_1_1_2(FTFx_PROGRAM_ONCE, index, 0xFFFFU);
 971              		.loc 1 1043 18
 972 001e BB68     		ldr	r3, [r7, #8]
 973 0020 1A04     		lsls	r2, r3, #16
 974 0022 FF23     		movs	r3, #255
 975 0024 1B04     		lsls	r3, r3, #16
 976 0026 1A40     		ands	r2, r3
 977              		.loc 1 1043 12
 978 0028 164B     		ldr	r3, .L62
 979              		.loc 1 1043 18
 980 002a 1749     		ldr	r1, .L62+4
 981 002c 0A43     		orrs	r2, r1
 982              		.loc 1 1043 16
 983 002e 1A60     		str	r2, [r3]
1044:../drivers/fsl_flash.c **** 
1045:../drivers/fsl_flash.c ****     kFCCOBx[1] = *src;
 984              		.loc 1 1045 12
 985 0030 144B     		ldr	r3, .L62
 986 0032 0433     		adds	r3, r3, #4
 987              		.loc 1 1045 18
 988 0034 7A68     		ldr	r2, [r7, #4]
 989 0036 1268     		ldr	r2, [r2]
 990              		.loc 1 1045 16
 991 0038 1A60     		str	r2, [r3]
1046:../drivers/fsl_flash.c **** 
1047:../drivers/fsl_flash.c **** /* Note: Have to seperate the first index from the rest if it equals 0
1048:../drivers/fsl_flash.c ****  * to avoid a pointless comparison of unsigned int to 0 compiler warning */
1049:../drivers/fsl_flash.c **** #if FLASH_PROGRAM_ONCE_IS_8BYTES_UNIT_SUPPORT
1050:../drivers/fsl_flash.c **** #if FLASH_PROGRAM_ONCE_IS_4BYTES_UNIT_SUPPORT
1051:../drivers/fsl_flash.c ****     if (((index == FLASH_PROGRAM_ONCE_MIN_ID_8BYTES) ||
 992              		.loc 1 1051 8
 993 003a BB68     		ldr	r3, [r7, #8]
 994 003c 102B     		cmp	r3, #16
 995 003e 05D0     		beq	.L60
 996              		.loc 1 1051 54 discriminator 1
 997 0040 BB68     		ldr	r3, [r7, #8]
 998 0042 102B     		cmp	r3, #16
 999 0044 0AD9     		bls	.L61
1052:../drivers/fsl_flash.c ****          /* Range check */
1053:../drivers/fsl_flash.c ****          ((index >= FLASH_PROGRAM_ONCE_MIN_ID_8BYTES + 1) && (index <= FLASH_PROGRAM_ONCE_MAX_ID_8B
 1000              		.loc 1 1053 59
 1001 0046 BB68     		ldr	r3, [r7, #8]
 1002 0048 132B     		cmp	r3, #19
 1003 004a 07D8     		bhi	.L61
 1004              	.L60:
 1005              		.loc 1 1053 108 discriminator 1
 1006 004c 3B68     		ldr	r3, [r7]
 1007 004e 082B     		cmp	r3, #8
 1008 0050 04D1     		bne	.L61
1054:../drivers/fsl_flash.c ****         (lengthInBytes == 8))
1055:../drivers/fsl_flash.c **** #endif /* FLASH_PROGRAM_ONCE_IS_4BYTES_UNIT_SUPPORT */
1056:../drivers/fsl_flash.c ****     {
1057:../drivers/fsl_flash.c ****         kFCCOBx[2] = *(src + 1);
 1009              		.loc 1 1057 16
 1010 0052 0C4B     		ldr	r3, .L62
 1011 0054 0833     		adds	r3, r3, #8
 1012              		.loc 1 1057 20
 1013 0056 7A68     		ldr	r2, [r7, #4]
 1014 0058 5268     		ldr	r2, [r2, #4]
 1015 005a 1A60     		str	r2, [r3]
 1016              	.L61:
1058:../drivers/fsl_flash.c ****     }
1059:../drivers/fsl_flash.c **** #endif /* FLASH_PROGRAM_ONCE_IS_8BYTES_UNIT_SUPPORT */
1060:../drivers/fsl_flash.c **** 
1061:../drivers/fsl_flash.c ****     flash_cache_clear_process(config, kFLASH_CacheClearProcessPre);
 1017              		.loc 1 1061 5
 1018 005c FB68     		ldr	r3, [r7, #12]
 1019 005e 0021     		movs	r1, #0
 1020 0060 1800     		movs	r0, r3
 1021 0062 FFF7FEFF 		bl	flash_cache_clear_process
1062:../drivers/fsl_flash.c **** 
1063:../drivers/fsl_flash.c ****     /* calling flash command sequence function to execute the command */
1064:../drivers/fsl_flash.c ****     returnCode = flash_command_sequence(config);
 1022              		.loc 1 1064 18
 1023 0066 FB68     		ldr	r3, [r7, #12]
 1024 0068 1800     		movs	r0, r3
 1025 006a FFF7FEFF 		bl	flash_command_sequence
 1026 006e 0300     		movs	r3, r0
 1027 0070 7B61     		str	r3, [r7, #20]
1065:../drivers/fsl_flash.c **** 
1066:../drivers/fsl_flash.c ****     flash_cache_clear(config);
 1028              		.loc 1 1066 5
 1029 0072 FB68     		ldr	r3, [r7, #12]
 1030 0074 1800     		movs	r0, r3
 1031 0076 FFF7FEFF 		bl	flash_cache_clear
1067:../drivers/fsl_flash.c **** 
1068:../drivers/fsl_flash.c ****     return returnCode;
 1032              		.loc 1 1068 12
 1033 007a 7B69     		ldr	r3, [r7, #20]
 1034              	.L59:
1069:../drivers/fsl_flash.c **** }
 1035              		.loc 1 1069 1
 1036 007c 1800     		movs	r0, r3
 1037 007e BD46     		mov	sp, r7
 1038 0080 06B0     		add	sp, sp, #24
 1039              		@ sp needed
 1040 0082 80BD     		pop	{r7, pc}
 1041              	.L63:
 1042              		.align	2
 1043              	.L62:
 1044 0084 04000240 		.word	1073872900
 1045 0088 FFFF0043 		.word	1124139007
 1046              		.cfi_endproc
 1047              	.LFE63:
 1049              		.section	.text.FLASH_ReadResource,"ax",%progbits
 1050              		.align	1
 1051              		.global	FLASH_ReadResource
 1052              		.syntax unified
 1053              		.code	16
 1054              		.thumb_func
 1055              		.fpu softvfp
 1057              	FLASH_ReadResource:
 1058              	.LFB64:
1070:../drivers/fsl_flash.c **** 
1071:../drivers/fsl_flash.c **** #if defined(FSL_FEATURE_FLASH_HAS_PROGRAM_SECTION_CMD) && FSL_FEATURE_FLASH_HAS_PROGRAM_SECTION_CMD
1072:../drivers/fsl_flash.c **** status_t FLASH_ProgramSection(flash_config_t *config, uint32_t start, uint32_t *src, uint32_t lengt
1073:../drivers/fsl_flash.c **** {
1074:../drivers/fsl_flash.c ****     status_t returnCode;
1075:../drivers/fsl_flash.c ****     uint32_t sectorSize;
1076:../drivers/fsl_flash.c ****     flash_operation_config_t flashOperationInfo;
1077:../drivers/fsl_flash.c **** #if defined(FSL_FEATURE_FLASH_HAS_SET_FLEXRAM_FUNCTION_CMD) && FSL_FEATURE_FLASH_HAS_SET_FLEXRAM_FU
1078:../drivers/fsl_flash.c ****     bool needSwitchFlexRamMode = false;
1079:../drivers/fsl_flash.c **** #endif /* FSL_FEATURE_FLASH_HAS_SET_FLEXRAM_FUNCTION_CMD */
1080:../drivers/fsl_flash.c **** 
1081:../drivers/fsl_flash.c ****     if (src == NULL)
1082:../drivers/fsl_flash.c ****     {
1083:../drivers/fsl_flash.c ****         return kStatus_FLASH_InvalidArgument;
1084:../drivers/fsl_flash.c ****     }
1085:../drivers/fsl_flash.c **** 
1086:../drivers/fsl_flash.c ****     flash_get_matched_operation_info(config, start, &flashOperationInfo);
1087:../drivers/fsl_flash.c **** 
1088:../drivers/fsl_flash.c ****     /* Check the supplied address range. */
1089:../drivers/fsl_flash.c ****     returnCode = flash_check_range(config, start, lengthInBytes, flashOperationInfo.sectionCmdAddre
1090:../drivers/fsl_flash.c ****     if (returnCode)
1091:../drivers/fsl_flash.c ****     {
1092:../drivers/fsl_flash.c ****         return returnCode;
1093:../drivers/fsl_flash.c ****     }
1094:../drivers/fsl_flash.c **** 
1095:../drivers/fsl_flash.c ****     start = flashOperationInfo.convertedAddress;
1096:../drivers/fsl_flash.c ****     sectorSize = flashOperationInfo.activeSectorSize;
1097:../drivers/fsl_flash.c **** 
1098:../drivers/fsl_flash.c **** #if defined(FSL_FEATURE_FLASH_HAS_SET_FLEXRAM_FUNCTION_CMD) && FSL_FEATURE_FLASH_HAS_SET_FLEXRAM_FU
1099:../drivers/fsl_flash.c ****     /* Switch function of FlexRAM if needed */
1100:../drivers/fsl_flash.c ****     if (!(FTFx->FCNFG & FTFx_FCNFG_RAMRDY_MASK))
1101:../drivers/fsl_flash.c ****     {
1102:../drivers/fsl_flash.c ****         needSwitchFlexRamMode = true;
1103:../drivers/fsl_flash.c **** 
1104:../drivers/fsl_flash.c ****         returnCode = FLASH_SetFlexramFunction(config, kFLASH_FlexramFunctionOptionAvailableAsRam);
1105:../drivers/fsl_flash.c ****         if (returnCode != kStatus_FLASH_Success)
1106:../drivers/fsl_flash.c ****         {
1107:../drivers/fsl_flash.c ****             return kStatus_FLASH_SetFlexramAsRamError;
1108:../drivers/fsl_flash.c ****         }
1109:../drivers/fsl_flash.c ****     }
1110:../drivers/fsl_flash.c **** #endif /* FSL_FEATURE_FLASH_HAS_SET_FLEXRAM_FUNCTION_CMD */
1111:../drivers/fsl_flash.c **** 
1112:../drivers/fsl_flash.c ****     flash_cache_clear_process(config, kFLASH_CacheClearProcessPre);
1113:../drivers/fsl_flash.c **** 
1114:../drivers/fsl_flash.c ****     while (lengthInBytes > 0)
1115:../drivers/fsl_flash.c ****     {
1116:../drivers/fsl_flash.c ****         /* Make sure the write operation doesn't span two sectors */
1117:../drivers/fsl_flash.c ****         uint32_t endAddressOfCurrentSector = ALIGN_UP(start, sectorSize);
1118:../drivers/fsl_flash.c ****         uint32_t lengthTobeProgrammedOfCurrentSector;
1119:../drivers/fsl_flash.c ****         uint32_t currentOffset = 0;
1120:../drivers/fsl_flash.c **** 
1121:../drivers/fsl_flash.c ****         if (endAddressOfCurrentSector == start)
1122:../drivers/fsl_flash.c ****         {
1123:../drivers/fsl_flash.c ****             endAddressOfCurrentSector += sectorSize;
1124:../drivers/fsl_flash.c ****         }
1125:../drivers/fsl_flash.c **** 
1126:../drivers/fsl_flash.c ****         if (lengthInBytes + start > endAddressOfCurrentSector)
1127:../drivers/fsl_flash.c ****         {
1128:../drivers/fsl_flash.c ****             lengthTobeProgrammedOfCurrentSector = endAddressOfCurrentSector - start;
1129:../drivers/fsl_flash.c ****         }
1130:../drivers/fsl_flash.c ****         else
1131:../drivers/fsl_flash.c ****         {
1132:../drivers/fsl_flash.c ****             lengthTobeProgrammedOfCurrentSector = lengthInBytes;
1133:../drivers/fsl_flash.c ****         }
1134:../drivers/fsl_flash.c **** 
1135:../drivers/fsl_flash.c ****         /* Program Current Sector */
1136:../drivers/fsl_flash.c ****         while (lengthTobeProgrammedOfCurrentSector > 0)
1137:../drivers/fsl_flash.c ****         {
1138:../drivers/fsl_flash.c ****             /* Make sure the program size doesn't exceeds Acceleration RAM size */
1139:../drivers/fsl_flash.c ****             uint32_t programSizeOfCurrentPass;
1140:../drivers/fsl_flash.c ****             uint32_t numberOfPhases;
1141:../drivers/fsl_flash.c **** 
1142:../drivers/fsl_flash.c ****             if (lengthTobeProgrammedOfCurrentSector > kFLASH_AccelerationRamSize)
1143:../drivers/fsl_flash.c ****             {
1144:../drivers/fsl_flash.c ****                 programSizeOfCurrentPass = kFLASH_AccelerationRamSize;
1145:../drivers/fsl_flash.c ****             }
1146:../drivers/fsl_flash.c ****             else
1147:../drivers/fsl_flash.c ****             {
1148:../drivers/fsl_flash.c ****                 programSizeOfCurrentPass = lengthTobeProgrammedOfCurrentSector;
1149:../drivers/fsl_flash.c ****             }
1150:../drivers/fsl_flash.c **** 
1151:../drivers/fsl_flash.c ****             /* Copy data to FlexRAM */
1152:../drivers/fsl_flash.c ****             memcpy((void *)FSL_FEATURE_FLASH_FLEX_RAM_START_ADDRESS, src + currentOffset / 4, progr
1153:../drivers/fsl_flash.c ****             /* Set start address of the data to be programmed */
1154:../drivers/fsl_flash.c ****             kFCCOBx[0] = BYTES_JOIN_TO_WORD_1_3(FTFx_PROGRAM_SECTION, start + currentOffset);
1155:../drivers/fsl_flash.c ****             /* Set program size in terms of FEATURE_FLASH_SECTION_CMD_ADDRESS_ALIGMENT */
1156:../drivers/fsl_flash.c ****             numberOfPhases = programSizeOfCurrentPass / flashOperationInfo.sectionCmdAddressAligmen
1157:../drivers/fsl_flash.c **** 
1158:../drivers/fsl_flash.c ****             kFCCOBx[1] = BYTES_JOIN_TO_WORD_2_2(numberOfPhases, 0xFFFFU);
1159:../drivers/fsl_flash.c **** 
1160:../drivers/fsl_flash.c ****             /* Peform command sequence */
1161:../drivers/fsl_flash.c ****             returnCode = flash_command_sequence(config);
1162:../drivers/fsl_flash.c **** 
1163:../drivers/fsl_flash.c ****             /* calling flash callback function if it is available */
1164:../drivers/fsl_flash.c ****             if (config->PFlashCallback)
1165:../drivers/fsl_flash.c ****             {
1166:../drivers/fsl_flash.c ****                 config->PFlashCallback();
1167:../drivers/fsl_flash.c ****             }
1168:../drivers/fsl_flash.c **** 
1169:../drivers/fsl_flash.c ****             if (returnCode != kStatus_FLASH_Success)
1170:../drivers/fsl_flash.c ****             {
1171:../drivers/fsl_flash.c ****                 flash_cache_clear(config);
1172:../drivers/fsl_flash.c ****                 return returnCode;
1173:../drivers/fsl_flash.c ****             }
1174:../drivers/fsl_flash.c **** 
1175:../drivers/fsl_flash.c ****             lengthTobeProgrammedOfCurrentSector -= programSizeOfCurrentPass;
1176:../drivers/fsl_flash.c ****             currentOffset += programSizeOfCurrentPass;
1177:../drivers/fsl_flash.c ****         }
1178:../drivers/fsl_flash.c **** 
1179:../drivers/fsl_flash.c ****         src += currentOffset / 4;
1180:../drivers/fsl_flash.c ****         start += currentOffset;
1181:../drivers/fsl_flash.c ****         lengthInBytes -= currentOffset;
1182:../drivers/fsl_flash.c ****     }
1183:../drivers/fsl_flash.c **** 
1184:../drivers/fsl_flash.c ****     flash_cache_clear(config);
1185:../drivers/fsl_flash.c **** 
1186:../drivers/fsl_flash.c **** #if defined(FSL_FEATURE_FLASH_HAS_SET_FLEXRAM_FUNCTION_CMD) && FSL_FEATURE_FLASH_HAS_SET_FLEXRAM_FU
1187:../drivers/fsl_flash.c ****     /* Restore function of FlexRAM if needed. */
1188:../drivers/fsl_flash.c ****     if (needSwitchFlexRamMode)
1189:../drivers/fsl_flash.c ****     {
1190:../drivers/fsl_flash.c ****         returnCode = FLASH_SetFlexramFunction(config, kFLASH_FlexramFunctionOptionAvailableForEepro
1191:../drivers/fsl_flash.c ****         if (returnCode != kStatus_FLASH_Success)
1192:../drivers/fsl_flash.c ****         {
1193:../drivers/fsl_flash.c ****             return kStatus_FLASH_RecoverFlexramAsEepromError;
1194:../drivers/fsl_flash.c ****         }
1195:../drivers/fsl_flash.c ****     }
1196:../drivers/fsl_flash.c **** #endif /* FSL_FEATURE_FLASH_HAS_SET_FLEXRAM_FUNCTION_CMD */
1197:../drivers/fsl_flash.c **** 
1198:../drivers/fsl_flash.c ****     return returnCode;
1199:../drivers/fsl_flash.c **** }
1200:../drivers/fsl_flash.c **** #endif /* FSL_FEATURE_FLASH_HAS_PROGRAM_SECTION_CMD */
1201:../drivers/fsl_flash.c **** 
1202:../drivers/fsl_flash.c **** #if FLASH_SSD_IS_FLEXNVM_ENABLED
1203:../drivers/fsl_flash.c **** status_t FLASH_EepromWrite(flash_config_t *config, uint32_t start, uint8_t *src, uint32_t lengthInB
1204:../drivers/fsl_flash.c **** {
1205:../drivers/fsl_flash.c ****     status_t returnCode;
1206:../drivers/fsl_flash.c ****     bool needSwitchFlexRamMode = false;
1207:../drivers/fsl_flash.c **** 
1208:../drivers/fsl_flash.c ****     if (config == NULL)
1209:../drivers/fsl_flash.c ****     {
1210:../drivers/fsl_flash.c ****         return kStatus_FLASH_InvalidArgument;
1211:../drivers/fsl_flash.c ****     }
1212:../drivers/fsl_flash.c **** 
1213:../drivers/fsl_flash.c ****     /* Validates the range of the given address */
1214:../drivers/fsl_flash.c ****     if ((start < config->FlexRAMBlockBase) ||
1215:../drivers/fsl_flash.c ****         ((start + lengthInBytes) > (config->FlexRAMBlockBase + config->EEpromTotalSize)))
1216:../drivers/fsl_flash.c ****     {
1217:../drivers/fsl_flash.c ****         return kStatus_FLASH_AddressError;
1218:../drivers/fsl_flash.c ****     }
1219:../drivers/fsl_flash.c **** 
1220:../drivers/fsl_flash.c ****     returnCode = kStatus_FLASH_Success;
1221:../drivers/fsl_flash.c **** 
1222:../drivers/fsl_flash.c ****     /* Switch function of FlexRAM if needed */
1223:../drivers/fsl_flash.c ****     if (!(FTFx->FCNFG & FTFx_FCNFG_EEERDY_MASK))
1224:../drivers/fsl_flash.c ****     {
1225:../drivers/fsl_flash.c ****         needSwitchFlexRamMode = true;
1226:../drivers/fsl_flash.c **** 
1227:../drivers/fsl_flash.c ****         returnCode = FLASH_SetFlexramFunction(config, kFLASH_FlexramFunctionOptionAvailableForEepro
1228:../drivers/fsl_flash.c ****         if (returnCode != kStatus_FLASH_Success)
1229:../drivers/fsl_flash.c ****         {
1230:../drivers/fsl_flash.c ****             return kStatus_FLASH_SetFlexramAsEepromError;
1231:../drivers/fsl_flash.c ****         }
1232:../drivers/fsl_flash.c ****     }
1233:../drivers/fsl_flash.c **** 
1234:../drivers/fsl_flash.c ****     /* Write data to FlexRAM when it is used as EEPROM emulator */
1235:../drivers/fsl_flash.c ****     while (lengthInBytes > 0)
1236:../drivers/fsl_flash.c ****     {
1237:../drivers/fsl_flash.c ****         if ((!(start & 0x3U)) && (lengthInBytes >= 4))
1238:../drivers/fsl_flash.c ****         {
1239:../drivers/fsl_flash.c ****             *(uint32_t *)start = *(uint32_t *)src;
1240:../drivers/fsl_flash.c ****             start += 4;
1241:../drivers/fsl_flash.c ****             src += 4;
1242:../drivers/fsl_flash.c ****             lengthInBytes -= 4;
1243:../drivers/fsl_flash.c ****         }
1244:../drivers/fsl_flash.c ****         else if ((!(start & 0x1U)) && (lengthInBytes >= 2))
1245:../drivers/fsl_flash.c ****         {
1246:../drivers/fsl_flash.c ****             *(uint16_t *)start = *(uint16_t *)src;
1247:../drivers/fsl_flash.c ****             start += 2;
1248:../drivers/fsl_flash.c ****             src += 2;
1249:../drivers/fsl_flash.c ****             lengthInBytes -= 2;
1250:../drivers/fsl_flash.c ****         }
1251:../drivers/fsl_flash.c ****         else
1252:../drivers/fsl_flash.c ****         {
1253:../drivers/fsl_flash.c ****             *(uint8_t *)start = *src;
1254:../drivers/fsl_flash.c ****             start += 1;
1255:../drivers/fsl_flash.c ****             src += 1;
1256:../drivers/fsl_flash.c ****             lengthInBytes -= 1;
1257:../drivers/fsl_flash.c ****         }
1258:../drivers/fsl_flash.c ****         /* Wait till EEERDY bit is set */
1259:../drivers/fsl_flash.c ****         while (!(FTFx->FCNFG & FTFx_FCNFG_EEERDY_MASK))
1260:../drivers/fsl_flash.c ****         {
1261:../drivers/fsl_flash.c ****         }
1262:../drivers/fsl_flash.c **** 
1263:../drivers/fsl_flash.c ****         /* Check for protection violation error */
1264:../drivers/fsl_flash.c ****         if (FTFx->FSTAT & FTFx_FSTAT_FPVIOL_MASK)
1265:../drivers/fsl_flash.c ****         {
1266:../drivers/fsl_flash.c ****             return kStatus_FLASH_ProtectionViolation;
1267:../drivers/fsl_flash.c ****         }
1268:../drivers/fsl_flash.c ****     }
1269:../drivers/fsl_flash.c **** 
1270:../drivers/fsl_flash.c ****     /* Switch function of FlexRAM if needed */
1271:../drivers/fsl_flash.c ****     if (needSwitchFlexRamMode)
1272:../drivers/fsl_flash.c ****     {
1273:../drivers/fsl_flash.c ****         returnCode = FLASH_SetFlexramFunction(config, kFLASH_FlexramFunctionOptionAvailableAsRam);
1274:../drivers/fsl_flash.c ****         if (returnCode != kStatus_FLASH_Success)
1275:../drivers/fsl_flash.c ****         {
1276:../drivers/fsl_flash.c ****             return kStatus_FLASH_RecoverFlexramAsRamError;
1277:../drivers/fsl_flash.c ****         }
1278:../drivers/fsl_flash.c ****     }
1279:../drivers/fsl_flash.c **** 
1280:../drivers/fsl_flash.c ****     return returnCode;
1281:../drivers/fsl_flash.c **** }
1282:../drivers/fsl_flash.c **** #endif /* FLASH_SSD_IS_FLEXNVM_ENABLED */
1283:../drivers/fsl_flash.c **** 
1284:../drivers/fsl_flash.c **** #if defined(FSL_FEATURE_FLASH_HAS_READ_RESOURCE_CMD) && FSL_FEATURE_FLASH_HAS_READ_RESOURCE_CMD
1285:../drivers/fsl_flash.c **** status_t FLASH_ReadResource(
1286:../drivers/fsl_flash.c ****     flash_config_t *config, uint32_t start, uint32_t *dst, uint32_t lengthInBytes, flash_read_resou
1287:../drivers/fsl_flash.c **** {
 1059              		.loc 1 1287 1
 1060              		.cfi_startproc
 1061              		@ args = 4, pretend = 0, frame = 56
 1062              		@ frame_needed = 1, uses_anonymous_args = 0
 1063 0000 90B5     		push	{r4, r7, lr}
 1064              		.cfi_def_cfa_offset 12
 1065              		.cfi_offset 4, -12
 1066              		.cfi_offset 7, -8
 1067              		.cfi_offset 14, -4
 1068 0002 8FB0     		sub	sp, sp, #60
 1069              		.cfi_def_cfa_offset 72
 1070 0004 00AF     		add	r7, sp, #0
 1071              		.cfi_def_cfa_register 7
 1072 0006 F860     		str	r0, [r7, #12]
 1073 0008 B960     		str	r1, [r7, #8]
 1074 000a 7A60     		str	r2, [r7, #4]
 1075 000c 3B60     		str	r3, [r7]
1288:../drivers/fsl_flash.c ****     status_t returnCode;
1289:../drivers/fsl_flash.c ****     flash_operation_config_t flashOperationInfo;
1290:../drivers/fsl_flash.c **** 
1291:../drivers/fsl_flash.c ****     if ((config == NULL) || (dst == NULL))
 1076              		.loc 1 1291 8
 1077 000e FB68     		ldr	r3, [r7, #12]
 1078 0010 002B     		cmp	r3, #0
 1079 0012 02D0     		beq	.L65
 1080              		.loc 1 1291 26 discriminator 1
 1081 0014 7B68     		ldr	r3, [r7, #4]
 1082 0016 002B     		cmp	r3, #0
 1083 0018 01D1     		bne	.L66
 1084              	.L65:
1292:../drivers/fsl_flash.c ****     {
1293:../drivers/fsl_flash.c ****         return kStatus_FLASH_InvalidArgument;
 1085              		.loc 1 1293 16
 1086 001a 0423     		movs	r3, #4
 1087 001c 6FE0     		b	.L76
 1088              	.L66:
1294:../drivers/fsl_flash.c ****     }
1295:../drivers/fsl_flash.c **** 
1296:../drivers/fsl_flash.c ****     flash_get_matched_operation_info(config, start, &flashOperationInfo);
 1089              		.loc 1 1296 5
 1090 001e 1424     		movs	r4, #20
 1091 0020 3A19     		adds	r2, r7, r4
 1092 0022 B968     		ldr	r1, [r7, #8]
 1093 0024 FB68     		ldr	r3, [r7, #12]
 1094 0026 1800     		movs	r0, r3
 1095 0028 FFF7FEFF 		bl	flash_get_matched_operation_info
1297:../drivers/fsl_flash.c **** 
1298:../drivers/fsl_flash.c ****     /* Check the supplied address range. */
1299:../drivers/fsl_flash.c ****     returnCode =
1300:../drivers/fsl_flash.c ****         flash_check_resource_range(start, lengthInBytes, flashOperationInfo.resourceCmdAddressAligm
 1096              		.loc 1 1300 9
 1097 002c 3B19     		adds	r3, r7, r4
 1098 002e 9A69     		ldr	r2, [r3, #24]
 1099 0030 4023     		movs	r3, #64
 1100 0032 0821     		movs	r1, #8
 1101 0034 8C46     		mov	ip, r1
 1102 0036 BC44     		add	ip, ip, r7
 1103 0038 6344     		add	r3, r3, ip
 1104 003a 1B78     		ldrb	r3, [r3]
 1105 003c 3968     		ldr	r1, [r7]
 1106 003e B868     		ldr	r0, [r7, #8]
 1107 0040 FFF7FEFF 		bl	flash_check_resource_range
 1108 0044 0300     		movs	r3, r0
 1109 0046 7B63     		str	r3, [r7, #52]
1301:../drivers/fsl_flash.c ****     if (returnCode != kStatus_FLASH_Success)
 1110              		.loc 1 1301 8
 1111 0048 7B6B     		ldr	r3, [r7, #52]
 1112 004a 002B     		cmp	r3, #0
 1113 004c 51D0     		beq	.L69
1302:../drivers/fsl_flash.c ****     {
1303:../drivers/fsl_flash.c ****         return returnCode;
 1114              		.loc 1 1303 16
 1115 004e 7B6B     		ldr	r3, [r7, #52]
 1116 0050 55E0     		b	.L76
 1117              	.L75:
1304:../drivers/fsl_flash.c ****     }
1305:../drivers/fsl_flash.c **** 
1306:../drivers/fsl_flash.c ****     while (lengthInBytes > 0)
1307:../drivers/fsl_flash.c ****     {
1308:../drivers/fsl_flash.c ****         /* preparing passing parameter */
1309:../drivers/fsl_flash.c ****         kFCCOBx[0] = BYTES_JOIN_TO_WORD_1_3(FTFx_READ_RESOURCE, start);
 1118              		.loc 1 1309 22
 1119 0052 BB68     		ldr	r3, [r7, #8]
 1120 0054 1B02     		lsls	r3, r3, #8
 1121 0056 1A0A     		lsrs	r2, r3, #8
 1122              		.loc 1 1309 16
 1123 0058 2B4B     		ldr	r3, .L78
 1124              		.loc 1 1309 22
 1125 005a C021     		movs	r1, #192
 1126 005c 8904     		lsls	r1, r1, #18
 1127 005e 0A43     		orrs	r2, r1
 1128              		.loc 1 1309 20
 1129 0060 1A60     		str	r2, [r3]
1310:../drivers/fsl_flash.c ****         if (flashOperationInfo.resourceCmdAddressAligment == 4)
 1130              		.loc 1 1310 31
 1131 0062 1423     		movs	r3, #20
 1132 0064 FB18     		adds	r3, r7, r3
 1133 0066 9B69     		ldr	r3, [r3, #24]
 1134              		.loc 1 1310 12
 1135 0068 042B     		cmp	r3, #4
 1136 006a 0CD1     		bne	.L70
1311:../drivers/fsl_flash.c ****         {
1312:../drivers/fsl_flash.c ****             kFCCOBx[2] = BYTES_JOIN_TO_WORD_1_3(option, 0xFFFFFFU);
 1137              		.loc 1 1312 26
 1138 006c 4023     		movs	r3, #64
 1139 006e 0822     		movs	r2, #8
 1140 0070 9446     		mov	ip, r2
 1141 0072 BC44     		add	ip, ip, r7
 1142 0074 6344     		add	r3, r3, ip
 1143 0076 1B78     		ldrb	r3, [r3]
 1144 0078 1A06     		lsls	r2, r3, #24
 1145              		.loc 1 1312 20
 1146 007a 234B     		ldr	r3, .L78
 1147 007c 0833     		adds	r3, r3, #8
 1148              		.loc 1 1312 26
 1149 007e 2349     		ldr	r1, .L78+4
 1150 0080 0A43     		orrs	r2, r1
 1151              		.loc 1 1312 24
 1152 0082 1A60     		str	r2, [r3]
 1153 0084 10E0     		b	.L71
 1154              	.L70:
1313:../drivers/fsl_flash.c ****         }
1314:../drivers/fsl_flash.c ****         else if (flashOperationInfo.resourceCmdAddressAligment == 8)
 1155              		.loc 1 1314 36
 1156 0086 1423     		movs	r3, #20
 1157 0088 FB18     		adds	r3, r7, r3
 1158 008a 9B69     		ldr	r3, [r3, #24]
 1159              		.loc 1 1314 17
 1160 008c 082B     		cmp	r3, #8
 1161 008e 0BD1     		bne	.L71
1315:../drivers/fsl_flash.c ****         {
1316:../drivers/fsl_flash.c ****             kFCCOBx[1] = BYTES_JOIN_TO_WORD_1_3(option, 0xFFFFFFU);
 1162              		.loc 1 1316 26
 1163 0090 4023     		movs	r3, #64
 1164 0092 0822     		movs	r2, #8
 1165 0094 9446     		mov	ip, r2
 1166 0096 BC44     		add	ip, ip, r7
 1167 0098 6344     		add	r3, r3, ip
 1168 009a 1B78     		ldrb	r3, [r3]
 1169 009c 1A06     		lsls	r2, r3, #24
 1170              		.loc 1 1316 20
 1171 009e 1A4B     		ldr	r3, .L78
 1172 00a0 0433     		adds	r3, r3, #4
 1173              		.loc 1 1316 26
 1174 00a2 1A49     		ldr	r1, .L78+4
 1175 00a4 0A43     		orrs	r2, r1
 1176              		.loc 1 1316 24
 1177 00a6 1A60     		str	r2, [r3]
 1178              	.L71:
1317:../drivers/fsl_flash.c ****         }
1318:../drivers/fsl_flash.c ****         else
1319:../drivers/fsl_flash.c ****         {
1320:../drivers/fsl_flash.c ****         }
1321:../drivers/fsl_flash.c **** 
1322:../drivers/fsl_flash.c ****         /* calling flash command sequence function to execute the command */
1323:../drivers/fsl_flash.c ****         returnCode = flash_command_sequence(config);
 1179              		.loc 1 1323 22
 1180 00a8 FB68     		ldr	r3, [r7, #12]
 1181 00aa 1800     		movs	r0, r3
 1182 00ac FFF7FEFF 		bl	flash_command_sequence
 1183 00b0 0300     		movs	r3, r0
 1184 00b2 7B63     		str	r3, [r7, #52]
1324:../drivers/fsl_flash.c **** 
1325:../drivers/fsl_flash.c ****         if (kStatus_FLASH_Success != returnCode)
 1185              		.loc 1 1325 12
 1186 00b4 7B6B     		ldr	r3, [r7, #52]
 1187 00b6 002B     		cmp	r3, #0
 1188 00b8 1FD1     		bne	.L77
1326:../drivers/fsl_flash.c ****         {
1327:../drivers/fsl_flash.c ****             break;
1328:../drivers/fsl_flash.c ****         }
1329:../drivers/fsl_flash.c **** 
1330:../drivers/fsl_flash.c ****         /* fetch data */
1331:../drivers/fsl_flash.c ****         *dst++ = kFCCOBx[1];
 1189              		.loc 1 1331 16
 1190 00ba 134A     		ldr	r2, .L78
 1191              		.loc 1 1331 13
 1192 00bc 7B68     		ldr	r3, [r7, #4]
 1193 00be 191D     		adds	r1, r3, #4
 1194 00c0 7960     		str	r1, [r7, #4]
 1195              		.loc 1 1331 16
 1196 00c2 5268     		ldr	r2, [r2, #4]
 1197 00c4 1A60     		str	r2, [r3]
1332:../drivers/fsl_flash.c ****         if (flashOperationInfo.resourceCmdAddressAligment == 8)
 1198              		.loc 1 1332 31
 1199 00c6 1423     		movs	r3, #20
 1200 00c8 FB18     		adds	r3, r7, r3
 1201 00ca 9B69     		ldr	r3, [r3, #24]
 1202              		.loc 1 1332 12
 1203 00cc 082B     		cmp	r3, #8
 1204 00ce 05D1     		bne	.L74
1333:../drivers/fsl_flash.c ****         {
1334:../drivers/fsl_flash.c ****             *dst++ = kFCCOBx[2];
 1205              		.loc 1 1334 20
 1206 00d0 0D4A     		ldr	r2, .L78
 1207              		.loc 1 1334 17
 1208 00d2 7B68     		ldr	r3, [r7, #4]
 1209 00d4 191D     		adds	r1, r3, #4
 1210 00d6 7960     		str	r1, [r7, #4]
 1211              		.loc 1 1334 20
 1212 00d8 9268     		ldr	r2, [r2, #8]
 1213 00da 1A60     		str	r2, [r3]
 1214              	.L74:
1335:../drivers/fsl_flash.c ****         }
1336:../drivers/fsl_flash.c ****         /* update start address for next iteration */
1337:../drivers/fsl_flash.c ****         start += flashOperationInfo.resourceCmdAddressAligment;
 1215              		.loc 1 1337 36
 1216 00dc 1421     		movs	r1, #20
 1217 00de 7B18     		adds	r3, r7, r1
 1218 00e0 9B69     		ldr	r3, [r3, #24]
 1219              		.loc 1 1337 15
 1220 00e2 BA68     		ldr	r2, [r7, #8]
 1221 00e4 D318     		adds	r3, r2, r3
 1222 00e6 BB60     		str	r3, [r7, #8]
1338:../drivers/fsl_flash.c ****         /* update lengthInBytes for next iteration */
1339:../drivers/fsl_flash.c ****         lengthInBytes -= flashOperationInfo.resourceCmdAddressAligment;
 1223              		.loc 1 1339 44
 1224 00e8 7B18     		adds	r3, r7, r1
 1225 00ea 9B69     		ldr	r3, [r3, #24]
 1226              		.loc 1 1339 23
 1227 00ec 3A68     		ldr	r2, [r7]
 1228 00ee D31A     		subs	r3, r2, r3
 1229 00f0 3B60     		str	r3, [r7]
 1230              	.L69:
1306:../drivers/fsl_flash.c ****     {
 1231              		.loc 1 1306 11
 1232 00f2 3B68     		ldr	r3, [r7]
 1233 00f4 002B     		cmp	r3, #0
 1234 00f6 ACD1     		bne	.L75
 1235 00f8 00E0     		b	.L73
 1236              	.L77:
1327:../drivers/fsl_flash.c ****         }
 1237              		.loc 1 1327 13
 1238 00fa C046     		nop
 1239              	.L73:
1340:../drivers/fsl_flash.c ****     }
1341:../drivers/fsl_flash.c **** 
1342:../drivers/fsl_flash.c ****     return (returnCode);
 1240              		.loc 1 1342 12
 1241 00fc 7B6B     		ldr	r3, [r7, #52]
 1242              	.L76:
1343:../drivers/fsl_flash.c **** }
 1243              		.loc 1 1343 1 discriminator 1
 1244 00fe 1800     		movs	r0, r3
 1245 0100 BD46     		mov	sp, r7
 1246 0102 0FB0     		add	sp, sp, #60
 1247              		@ sp needed
 1248 0104 90BD     		pop	{r4, r7, pc}
 1249              	.L79:
 1250 0106 C046     		.align	2
 1251              	.L78:
 1252 0108 04000240 		.word	1073872900
 1253 010c FFFFFF00 		.word	16777215
 1254              		.cfi_endproc
 1255              	.LFE64:
 1257              		.section	.text.FLASH_ReadOnce,"ax",%progbits
 1258              		.align	1
 1259              		.global	FLASH_ReadOnce
 1260              		.syntax unified
 1261              		.code	16
 1262              		.thumb_func
 1263              		.fpu softvfp
 1265              	FLASH_ReadOnce:
 1266              	.LFB65:
1344:../drivers/fsl_flash.c **** #endif /* FSL_FEATURE_FLASH_HAS_READ_RESOURCE_CMD */
1345:../drivers/fsl_flash.c **** 
1346:../drivers/fsl_flash.c **** status_t FLASH_ReadOnce(flash_config_t *config, uint32_t index, uint32_t *dst, uint32_t lengthInByt
1347:../drivers/fsl_flash.c **** {
 1267              		.loc 1 1347 1
 1268              		.cfi_startproc
 1269              		@ args = 0, pretend = 0, frame = 24
 1270              		@ frame_needed = 1, uses_anonymous_args = 0
 1271 0000 80B5     		push	{r7, lr}
 1272              		.cfi_def_cfa_offset 8
 1273              		.cfi_offset 7, -8
 1274              		.cfi_offset 14, -4
 1275 0002 86B0     		sub	sp, sp, #24
 1276              		.cfi_def_cfa_offset 32
 1277 0004 00AF     		add	r7, sp, #0
 1278              		.cfi_def_cfa_register 7
 1279 0006 F860     		str	r0, [r7, #12]
 1280 0008 B960     		str	r1, [r7, #8]
 1281 000a 7A60     		str	r2, [r7, #4]
 1282 000c 3B60     		str	r3, [r7]
1348:../drivers/fsl_flash.c ****     status_t returnCode;
1349:../drivers/fsl_flash.c **** 
1350:../drivers/fsl_flash.c ****     if ((config == NULL) || (dst == NULL))
 1283              		.loc 1 1350 8
 1284 000e FB68     		ldr	r3, [r7, #12]
 1285 0010 002B     		cmp	r3, #0
 1286 0012 02D0     		beq	.L81
 1287              		.loc 1 1350 26 discriminator 1
 1288 0014 7B68     		ldr	r3, [r7, #4]
 1289 0016 002B     		cmp	r3, #0
 1290 0018 01D1     		bne	.L82
 1291              	.L81:
1351:../drivers/fsl_flash.c ****     {
1352:../drivers/fsl_flash.c ****         return kStatus_FLASH_InvalidArgument;
 1292              		.loc 1 1352 16
 1293 001a 0423     		movs	r3, #4
 1294 001c 27E0     		b	.L83
 1295              	.L82:
1353:../drivers/fsl_flash.c ****     }
1354:../drivers/fsl_flash.c **** 
1355:../drivers/fsl_flash.c ****     /* pass paramters to FTFx */
1356:../drivers/fsl_flash.c ****     kFCCOBx[0] = BYTES_JOIN_TO_WORD_1_1_2(FTFx_READ_ONCE, index, 0xFFFFU);
 1296              		.loc 1 1356 18
 1297 001e BB68     		ldr	r3, [r7, #8]
 1298 0020 1A04     		lsls	r2, r3, #16
 1299 0022 FF23     		movs	r3, #255
 1300 0024 1B04     		lsls	r3, r3, #16
 1301 0026 1A40     		ands	r2, r3
 1302              		.loc 1 1356 12
 1303 0028 134B     		ldr	r3, .L86
 1304              		.loc 1 1356 18
 1305 002a 1449     		ldr	r1, .L86+4
 1306 002c 0A43     		orrs	r2, r1
 1307              		.loc 1 1356 16
 1308 002e 1A60     		str	r2, [r3]
1357:../drivers/fsl_flash.c **** 
1358:../drivers/fsl_flash.c ****     /* calling flash command sequence function to execute the command */
1359:../drivers/fsl_flash.c ****     returnCode = flash_command_sequence(config);
 1309              		.loc 1 1359 18
 1310 0030 FB68     		ldr	r3, [r7, #12]
 1311 0032 1800     		movs	r0, r3
 1312 0034 FFF7FEFF 		bl	flash_command_sequence
 1313 0038 0300     		movs	r3, r0
 1314 003a 7B61     		str	r3, [r7, #20]
1360:../drivers/fsl_flash.c **** 
1361:../drivers/fsl_flash.c ****     if (kStatus_FLASH_Success == returnCode)
 1315              		.loc 1 1361 8
 1316 003c 7B69     		ldr	r3, [r7, #20]
 1317 003e 002B     		cmp	r3, #0
 1318 0040 14D1     		bne	.L84
1362:../drivers/fsl_flash.c ****     {
1363:../drivers/fsl_flash.c ****         *dst = kFCCOBx[1];
 1319              		.loc 1 1363 14
 1320 0042 0D4B     		ldr	r3, .L86
 1321 0044 5A68     		ldr	r2, [r3, #4]
 1322 0046 7B68     		ldr	r3, [r7, #4]
 1323 0048 1A60     		str	r2, [r3]
1364:../drivers/fsl_flash.c **** /* Note: Have to seperate the first index from the rest if it equals 0
1365:../drivers/fsl_flash.c ****  *       to avoid a pointless comparison of unsigned int to 0 compiler warning */
1366:../drivers/fsl_flash.c **** #if FLASH_PROGRAM_ONCE_IS_8BYTES_UNIT_SUPPORT
1367:../drivers/fsl_flash.c **** #if FLASH_PROGRAM_ONCE_IS_4BYTES_UNIT_SUPPORT
1368:../drivers/fsl_flash.c ****         if (((index == FLASH_PROGRAM_ONCE_MIN_ID_8BYTES) ||
 1324              		.loc 1 1368 12
 1325 004a BB68     		ldr	r3, [r7, #8]
 1326 004c 102B     		cmp	r3, #16
 1327 004e 05D0     		beq	.L85
 1328              		.loc 1 1368 58 discriminator 1
 1329 0050 BB68     		ldr	r3, [r7, #8]
 1330 0052 102B     		cmp	r3, #16
 1331 0054 0AD9     		bls	.L84
1369:../drivers/fsl_flash.c ****              /* Range check */
1370:../drivers/fsl_flash.c ****              ((index >= FLASH_PROGRAM_ONCE_MIN_ID_8BYTES + 1) && (index <= FLASH_PROGRAM_ONCE_MAX_I
 1332              		.loc 1 1370 63
 1333 0056 BB68     		ldr	r3, [r7, #8]
 1334 0058 132B     		cmp	r3, #19
 1335 005a 07D8     		bhi	.L84
 1336              	.L85:
 1337              		.loc 1 1370 112 discriminator 1
 1338 005c 3B68     		ldr	r3, [r7]
 1339 005e 082B     		cmp	r3, #8
 1340 0060 04D1     		bne	.L84
1371:../drivers/fsl_flash.c ****             (lengthInBytes == 8))
1372:../drivers/fsl_flash.c **** #endif /* FLASH_PROGRAM_ONCE_IS_4BYTES_UNIT_SUPPORT */
1373:../drivers/fsl_flash.c ****         {
1374:../drivers/fsl_flash.c ****             *(dst + 1) = kFCCOBx[2];
 1341              		.loc 1 1374 24
 1342 0062 054A     		ldr	r2, .L86
 1343              		.loc 1 1374 19
 1344 0064 7B68     		ldr	r3, [r7, #4]
 1345 0066 0433     		adds	r3, r3, #4
 1346              		.loc 1 1374 24
 1347 0068 9268     		ldr	r2, [r2, #8]
 1348 006a 1A60     		str	r2, [r3]
 1349              	.L84:
1375:../drivers/fsl_flash.c ****         }
1376:../drivers/fsl_flash.c **** #endif /* FLASH_PROGRAM_ONCE_IS_8BYTES_UNIT_SUPPORT */
1377:../drivers/fsl_flash.c ****     }
1378:../drivers/fsl_flash.c **** 
1379:../drivers/fsl_flash.c ****     return returnCode;
 1350              		.loc 1 1379 12
 1351 006c 7B69     		ldr	r3, [r7, #20]
 1352              	.L83:
1380:../drivers/fsl_flash.c **** }
 1353              		.loc 1 1380 1
 1354 006e 1800     		movs	r0, r3
 1355 0070 BD46     		mov	sp, r7
 1356 0072 06B0     		add	sp, sp, #24
 1357              		@ sp needed
 1358 0074 80BD     		pop	{r7, pc}
 1359              	.L87:
 1360 0076 C046     		.align	2
 1361              	.L86:
 1362 0078 04000240 		.word	1073872900
 1363 007c FFFF0041 		.word	1090584575
 1364              		.cfi_endproc
 1365              	.LFE65:
 1367              		.section	.text.FLASH_GetSecurityState,"ax",%progbits
 1368              		.align	1
 1369              		.global	FLASH_GetSecurityState
 1370              		.syntax unified
 1371              		.code	16
 1372              		.thumb_func
 1373              		.fpu softvfp
 1375              	FLASH_GetSecurityState:
 1376              	.LFB66:
1381:../drivers/fsl_flash.c **** 
1382:../drivers/fsl_flash.c **** status_t FLASH_GetSecurityState(flash_config_t *config, flash_security_state_t *state)
1383:../drivers/fsl_flash.c **** {
 1377              		.loc 1 1383 1
 1378              		.cfi_startproc
 1379              		@ args = 0, pretend = 0, frame = 16
 1380              		@ frame_needed = 1, uses_anonymous_args = 0
 1381 0000 80B5     		push	{r7, lr}
 1382              		.cfi_def_cfa_offset 8
 1383              		.cfi_offset 7, -8
 1384              		.cfi_offset 14, -4
 1385 0002 84B0     		sub	sp, sp, #16
 1386              		.cfi_def_cfa_offset 24
 1387 0004 00AF     		add	r7, sp, #0
 1388              		.cfi_def_cfa_register 7
 1389 0006 7860     		str	r0, [r7, #4]
 1390 0008 3960     		str	r1, [r7]
1384:../drivers/fsl_flash.c ****     /* store data read from flash register */
1385:../drivers/fsl_flash.c ****     uint8_t registerValue;
1386:../drivers/fsl_flash.c **** 
1387:../drivers/fsl_flash.c ****     if ((config == NULL) || (state == NULL))
 1391              		.loc 1 1387 8
 1392 000a 7B68     		ldr	r3, [r7, #4]
 1393 000c 002B     		cmp	r3, #0
 1394 000e 02D0     		beq	.L89
 1395              		.loc 1 1387 26 discriminator 1
 1396 0010 3B68     		ldr	r3, [r7]
 1397 0012 002B     		cmp	r3, #0
 1398 0014 01D1     		bne	.L90
 1399              	.L89:
1388:../drivers/fsl_flash.c ****     {
1389:../drivers/fsl_flash.c ****         return kStatus_FLASH_InvalidArgument;
 1400              		.loc 1 1389 16
 1401 0016 0423     		movs	r3, #4
 1402 0018 1DE0     		b	.L91
 1403              	.L90:
1390:../drivers/fsl_flash.c ****     }
1391:../drivers/fsl_flash.c **** 
1392:../drivers/fsl_flash.c ****     /* Get flash security register value */
1393:../drivers/fsl_flash.c ****     registerValue = FTFx->FSEC;
 1404              		.loc 1 1393 25
 1405 001a 114A     		ldr	r2, .L95
 1406              		.loc 1 1393 19
 1407 001c 0F21     		movs	r1, #15
 1408 001e 7B18     		adds	r3, r7, r1
 1409 0020 9278     		ldrb	r2, [r2, #2]
 1410 0022 1A70     		strb	r2, [r3]
1394:../drivers/fsl_flash.c **** 
1395:../drivers/fsl_flash.c ****     /* check the status of the flash security bits in the security register */
1396:../drivers/fsl_flash.c ****     if (FLASH_SECURITY_STATE_UNSECURED == (registerValue & FTFx_FSEC_SEC_MASK))
 1411              		.loc 1 1396 58
 1412 0024 7B18     		adds	r3, r7, r1
 1413 0026 1B78     		ldrb	r3, [r3]
 1414 0028 0322     		movs	r2, #3
 1415 002a 1340     		ands	r3, r2
 1416              		.loc 1 1396 8
 1417 002c 022B     		cmp	r3, #2
 1418 002e 03D1     		bne	.L92
1397:../drivers/fsl_flash.c ****     {
1398:../drivers/fsl_flash.c ****         /* Flash in unsecured state */
1399:../drivers/fsl_flash.c ****         *state = kFLASH_SecurityStateNotSecure;
 1419              		.loc 1 1399 16
 1420 0030 3B68     		ldr	r3, [r7]
 1421 0032 0022     		movs	r2, #0
 1422 0034 1A70     		strb	r2, [r3]
 1423 0036 0DE0     		b	.L93
 1424              	.L92:
1400:../drivers/fsl_flash.c ****     }
1401:../drivers/fsl_flash.c ****     else
1402:../drivers/fsl_flash.c ****     {
1403:../drivers/fsl_flash.c ****         /* Flash in secured state
1404:../drivers/fsl_flash.c ****          * check for backdoor key security enable bit */
1405:../drivers/fsl_flash.c ****         if (FLASH_SECURITY_STATE_KEYEN == (registerValue & FTFx_FSEC_KEYEN_MASK))
 1425              		.loc 1 1405 58
 1426 0038 0F23     		movs	r3, #15
 1427 003a FB18     		adds	r3, r7, r3
 1428 003c 1B78     		ldrb	r3, [r3]
 1429 003e C022     		movs	r2, #192
 1430 0040 1340     		ands	r3, r2
 1431              		.loc 1 1405 12
 1432 0042 802B     		cmp	r3, #128
 1433 0044 03D1     		bne	.L94
1406:../drivers/fsl_flash.c ****         {
1407:../drivers/fsl_flash.c ****             /* Backdoor key security enabled */
1408:../drivers/fsl_flash.c ****             *state = kFLASH_SecurityStateBackdoorEnabled;
 1434              		.loc 1 1408 20
 1435 0046 3B68     		ldr	r3, [r7]
 1436 0048 0122     		movs	r2, #1
 1437 004a 1A70     		strb	r2, [r3]
 1438 004c 02E0     		b	.L93
 1439              	.L94:
1409:../drivers/fsl_flash.c ****         }
1410:../drivers/fsl_flash.c ****         else
1411:../drivers/fsl_flash.c ****         {
1412:../drivers/fsl_flash.c ****             /* Backdoor key security disabled */
1413:../drivers/fsl_flash.c ****             *state = kFLASH_SecurityStateBackdoorDisabled;
 1440              		.loc 1 1413 20
 1441 004e 3B68     		ldr	r3, [r7]
 1442 0050 0222     		movs	r2, #2
 1443 0052 1A70     		strb	r2, [r3]
 1444              	.L93:
1414:../drivers/fsl_flash.c ****         }
1415:../drivers/fsl_flash.c ****     }
1416:../drivers/fsl_flash.c **** 
1417:../drivers/fsl_flash.c ****     return (kStatus_FLASH_Success);
 1445              		.loc 1 1417 12
 1446 0054 0023     		movs	r3, #0
 1447              	.L91:
1418:../drivers/fsl_flash.c **** }
 1448              		.loc 1 1418 1
 1449 0056 1800     		movs	r0, r3
 1450 0058 BD46     		mov	sp, r7
 1451 005a 04B0     		add	sp, sp, #16
 1452              		@ sp needed
 1453 005c 80BD     		pop	{r7, pc}
 1454              	.L96:
 1455 005e C046     		.align	2
 1456              	.L95:
 1457 0060 00000240 		.word	1073872896
 1458              		.cfi_endproc
 1459              	.LFE66:
 1461              		.section	.text.FLASH_SecurityBypass,"ax",%progbits
 1462              		.align	1
 1463              		.global	FLASH_SecurityBypass
 1464              		.syntax unified
 1465              		.code	16
 1466              		.thumb_func
 1467              		.fpu softvfp
 1469              	FLASH_SecurityBypass:
 1470              	.LFB67:
1419:../drivers/fsl_flash.c **** 
1420:../drivers/fsl_flash.c **** status_t FLASH_SecurityBypass(flash_config_t *config, const uint8_t *backdoorKey)
1421:../drivers/fsl_flash.c **** {
 1471              		.loc 1 1421 1
 1472              		.cfi_startproc
 1473              		@ args = 0, pretend = 0, frame = 16
 1474              		@ frame_needed = 1, uses_anonymous_args = 0
 1475 0000 80B5     		push	{r7, lr}
 1476              		.cfi_def_cfa_offset 8
 1477              		.cfi_offset 7, -8
 1478              		.cfi_offset 14, -4
 1479 0002 84B0     		sub	sp, sp, #16
 1480              		.cfi_def_cfa_offset 24
 1481 0004 00AF     		add	r7, sp, #0
 1482              		.cfi_def_cfa_register 7
 1483 0006 7860     		str	r0, [r7, #4]
 1484 0008 3960     		str	r1, [r7]
1422:../drivers/fsl_flash.c ****     uint8_t registerValue; /* registerValue */
1423:../drivers/fsl_flash.c ****     status_t returnCode;   /* return code variable */
1424:../drivers/fsl_flash.c **** 
1425:../drivers/fsl_flash.c ****     if ((config == NULL) || (backdoorKey == NULL))
 1485              		.loc 1 1425 8
 1486 000a 7B68     		ldr	r3, [r7, #4]
 1487 000c 002B     		cmp	r3, #0
 1488 000e 02D0     		beq	.L98
 1489              		.loc 1 1425 26 discriminator 1
 1490 0010 3B68     		ldr	r3, [r7]
 1491 0012 002B     		cmp	r3, #0
 1492 0014 01D1     		bne	.L99
 1493              	.L98:
1426:../drivers/fsl_flash.c ****     {
1427:../drivers/fsl_flash.c ****         return kStatus_FLASH_InvalidArgument;
 1494              		.loc 1 1427 16
 1495 0016 0423     		movs	r3, #4
 1496 0018 41E0     		b	.L100
 1497              	.L99:
1428:../drivers/fsl_flash.c ****     }
1429:../drivers/fsl_flash.c **** 
1430:../drivers/fsl_flash.c ****     /* set the default return code as kStatus_Success */
1431:../drivers/fsl_flash.c ****     returnCode = kStatus_FLASH_Success;
 1498              		.loc 1 1431 16
 1499 001a 0023     		movs	r3, #0
 1500 001c FB60     		str	r3, [r7, #12]
1432:../drivers/fsl_flash.c **** 
1433:../drivers/fsl_flash.c ****     /* Get flash security register value */
1434:../drivers/fsl_flash.c ****     registerValue = FTFx->FSEC;
 1501              		.loc 1 1434 25
 1502 001e 224A     		ldr	r2, .L102
 1503              		.loc 1 1434 19
 1504 0020 0B21     		movs	r1, #11
 1505 0022 7B18     		adds	r3, r7, r1
 1506 0024 9278     		ldrb	r2, [r2, #2]
 1507 0026 1A70     		strb	r2, [r3]
1435:../drivers/fsl_flash.c **** 
1436:../drivers/fsl_flash.c ****     /* Check to see if flash is in secure state (any state other than 0x2)
1437:../drivers/fsl_flash.c ****      * If not, then skip this since flash is not secure */
1438:../drivers/fsl_flash.c ****     if (0x02 != (registerValue & 0x03))
 1508              		.loc 1 1438 32
 1509 0028 7B18     		adds	r3, r7, r1
 1510 002a 1B78     		ldrb	r3, [r3]
 1511 002c 0322     		movs	r2, #3
 1512 002e 1340     		ands	r3, r2
 1513              		.loc 1 1438 8
 1514 0030 022B     		cmp	r3, #2
 1515 0032 33D0     		beq	.L101
1439:../drivers/fsl_flash.c ****     {
1440:../drivers/fsl_flash.c ****         /* preparing passing parameter to erase a flash block */
1441:../drivers/fsl_flash.c ****         kFCCOBx[0] = BYTES_JOIN_TO_WORD_1_3(FTFx_SECURITY_BY_PASS, 0xFFFFFFU);
 1516              		.loc 1 1441 16
 1517 0034 1D4B     		ldr	r3, .L102+4
 1518              		.loc 1 1441 20
 1519 0036 1E4A     		ldr	r2, .L102+8
 1520 0038 1A60     		str	r2, [r3]
1442:../drivers/fsl_flash.c ****         kFCCOBx[1] = BYTES_JOIN_TO_WORD_1_1_1_1(backdoorKey[0], backdoorKey[1], backdoorKey[2], bac
 1521              		.loc 1 1442 22
 1522 003a 3B68     		ldr	r3, [r7]
 1523 003c 1B78     		ldrb	r3, [r3]
 1524 003e 1A06     		lsls	r2, r3, #24
 1525 0040 3B68     		ldr	r3, [r7]
 1526 0042 0133     		adds	r3, r3, #1
 1527 0044 1B78     		ldrb	r3, [r3]
 1528 0046 1B04     		lsls	r3, r3, #16
 1529 0048 1A43     		orrs	r2, r3
 1530 004a 3B68     		ldr	r3, [r7]
 1531 004c 0233     		adds	r3, r3, #2
 1532 004e 1B78     		ldrb	r3, [r3]
 1533 0050 1B02     		lsls	r3, r3, #8
 1534 0052 1A43     		orrs	r2, r3
 1535 0054 3B68     		ldr	r3, [r7]
 1536 0056 0333     		adds	r3, r3, #3
 1537 0058 1B78     		ldrb	r3, [r3]
 1538 005a 1900     		movs	r1, r3
 1539              		.loc 1 1442 16
 1540 005c 134B     		ldr	r3, .L102+4
 1541 005e 0433     		adds	r3, r3, #4
 1542              		.loc 1 1442 22
 1543 0060 0A43     		orrs	r2, r1
 1544              		.loc 1 1442 20
 1545 0062 1A60     		str	r2, [r3]
1443:../drivers/fsl_flash.c ****         kFCCOBx[2] = BYTES_JOIN_TO_WORD_1_1_1_1(backdoorKey[4], backdoorKey[5], backdoorKey[6], bac
 1546              		.loc 1 1443 22
 1547 0064 3B68     		ldr	r3, [r7]
 1548 0066 0433     		adds	r3, r3, #4
 1549 0068 1B78     		ldrb	r3, [r3]
 1550 006a 1A06     		lsls	r2, r3, #24
 1551 006c 3B68     		ldr	r3, [r7]
 1552 006e 0533     		adds	r3, r3, #5
 1553 0070 1B78     		ldrb	r3, [r3]
 1554 0072 1B04     		lsls	r3, r3, #16
 1555 0074 1A43     		orrs	r2, r3
 1556 0076 3B68     		ldr	r3, [r7]
 1557 0078 0633     		adds	r3, r3, #6
 1558 007a 1B78     		ldrb	r3, [r3]
 1559 007c 1B02     		lsls	r3, r3, #8
 1560 007e 1A43     		orrs	r2, r3
 1561 0080 3B68     		ldr	r3, [r7]
 1562 0082 0733     		adds	r3, r3, #7
 1563 0084 1B78     		ldrb	r3, [r3]
 1564 0086 1900     		movs	r1, r3
 1565              		.loc 1 1443 16
 1566 0088 084B     		ldr	r3, .L102+4
 1567 008a 0833     		adds	r3, r3, #8
 1568              		.loc 1 1443 22
 1569 008c 0A43     		orrs	r2, r1
 1570              		.loc 1 1443 20
 1571 008e 1A60     		str	r2, [r3]
1444:../drivers/fsl_flash.c **** 
1445:../drivers/fsl_flash.c ****         /* calling flash command sequence function to execute the command */
1446:../drivers/fsl_flash.c ****         returnCode = flash_command_sequence(config);
 1572              		.loc 1 1446 22
 1573 0090 7B68     		ldr	r3, [r7, #4]
 1574 0092 1800     		movs	r0, r3
 1575 0094 FFF7FEFF 		bl	flash_command_sequence
 1576 0098 0300     		movs	r3, r0
 1577 009a FB60     		str	r3, [r7, #12]
 1578              	.L101:
1447:../drivers/fsl_flash.c ****     }
1448:../drivers/fsl_flash.c **** 
1449:../drivers/fsl_flash.c ****     return (returnCode);
 1579              		.loc 1 1449 12
 1580 009c FB68     		ldr	r3, [r7, #12]
 1581              	.L100:
1450:../drivers/fsl_flash.c **** }
 1582              		.loc 1 1450 1
 1583 009e 1800     		movs	r0, r3
 1584 00a0 BD46     		mov	sp, r7
 1585 00a2 04B0     		add	sp, sp, #16
 1586              		@ sp needed
 1587 00a4 80BD     		pop	{r7, pc}
 1588              	.L103:
 1589 00a6 C046     		.align	2
 1590              	.L102:
 1591 00a8 00000240 		.word	1073872896
 1592 00ac 04000240 		.word	1073872900
 1593 00b0 FFFFFF45 		.word	1174405119
 1594              		.cfi_endproc
 1595              	.LFE67:
 1597              		.section	.text.FLASH_VerifyEraseAll,"ax",%progbits
 1598              		.align	1
 1599              		.global	FLASH_VerifyEraseAll
 1600              		.syntax unified
 1601              		.code	16
 1602              		.thumb_func
 1603              		.fpu softvfp
 1605              	FLASH_VerifyEraseAll:
 1606              	.LFB68:
1451:../drivers/fsl_flash.c **** 
1452:../drivers/fsl_flash.c **** status_t FLASH_VerifyEraseAll(flash_config_t *config, flash_margin_value_t margin)
1453:../drivers/fsl_flash.c **** {
 1607              		.loc 1 1453 1
 1608              		.cfi_startproc
 1609              		@ args = 0, pretend = 0, frame = 8
 1610              		@ frame_needed = 1, uses_anonymous_args = 0
 1611 0000 80B5     		push	{r7, lr}
 1612              		.cfi_def_cfa_offset 8
 1613              		.cfi_offset 7, -8
 1614              		.cfi_offset 14, -4
 1615 0002 82B0     		sub	sp, sp, #8
 1616              		.cfi_def_cfa_offset 16
 1617 0004 00AF     		add	r7, sp, #0
 1618              		.cfi_def_cfa_register 7
 1619 0006 7860     		str	r0, [r7, #4]
 1620 0008 0A00     		movs	r2, r1
 1621 000a FB1C     		adds	r3, r7, #3
 1622 000c 1A70     		strb	r2, [r3]
1454:../drivers/fsl_flash.c ****     if (config == NULL)
 1623              		.loc 1 1454 8
 1624 000e 7B68     		ldr	r3, [r7, #4]
 1625 0010 002B     		cmp	r3, #0
 1626 0012 01D1     		bne	.L105
1455:../drivers/fsl_flash.c ****     {
1456:../drivers/fsl_flash.c ****         return kStatus_FLASH_InvalidArgument;
 1627              		.loc 1 1456 16
 1628 0014 0423     		movs	r3, #4
 1629 0016 0BE0     		b	.L106
 1630              	.L105:
1457:../drivers/fsl_flash.c ****     }
1458:../drivers/fsl_flash.c **** 
1459:../drivers/fsl_flash.c ****     /* preparing passing parameter to verify all block command */
1460:../drivers/fsl_flash.c ****     kFCCOBx[0] = BYTES_JOIN_TO_WORD_1_1_2(FTFx_VERIFY_ALL_BLOCK, margin, 0xFFFFU);
 1631              		.loc 1 1460 18
 1632 0018 FB1C     		adds	r3, r7, #3
 1633 001a 1B78     		ldrb	r3, [r3]
 1634 001c 1A04     		lsls	r2, r3, #16
 1635              		.loc 1 1460 12
 1636 001e 064B     		ldr	r3, .L107
 1637              		.loc 1 1460 18
 1638 0020 0649     		ldr	r1, .L107+4
 1639 0022 0A43     		orrs	r2, r1
 1640              		.loc 1 1460 16
 1641 0024 1A60     		str	r2, [r3]
1461:../drivers/fsl_flash.c **** 
1462:../drivers/fsl_flash.c ****     /* calling flash command sequence function to execute the command */
1463:../drivers/fsl_flash.c ****     return flash_command_sequence(config);
 1642              		.loc 1 1463 12
 1643 0026 7B68     		ldr	r3, [r7, #4]
 1644 0028 1800     		movs	r0, r3
 1645 002a FFF7FEFF 		bl	flash_command_sequence
 1646 002e 0300     		movs	r3, r0
 1647              	.L106:
1464:../drivers/fsl_flash.c **** }
 1648              		.loc 1 1464 1
 1649 0030 1800     		movs	r0, r3
 1650 0032 BD46     		mov	sp, r7
 1651 0034 02B0     		add	sp, sp, #8
 1652              		@ sp needed
 1653 0036 80BD     		pop	{r7, pc}
 1654              	.L108:
 1655              		.align	2
 1656              	.L107:
 1657 0038 04000240 		.word	1073872900
 1658 003c FFFF0040 		.word	1073807359
 1659              		.cfi_endproc
 1660              	.LFE68:
 1662              		.section	.text.FLASH_VerifyErase,"ax",%progbits
 1663              		.align	1
 1664              		.global	FLASH_VerifyErase
 1665              		.syntax unified
 1666              		.code	16
 1667              		.thumb_func
 1668              		.fpu softvfp
 1670              	FLASH_VerifyErase:
 1671              	.LFB69:
1465:../drivers/fsl_flash.c **** 
1466:../drivers/fsl_flash.c **** status_t FLASH_VerifyErase(flash_config_t *config, uint32_t start, uint32_t lengthInBytes, flash_ma
1467:../drivers/fsl_flash.c **** {
 1672              		.loc 1 1467 1
 1673              		.cfi_startproc
 1674              		@ args = 0, pretend = 0, frame = 72
 1675              		@ frame_needed = 1, uses_anonymous_args = 0
 1676 0000 90B5     		push	{r4, r7, lr}
 1677              		.cfi_def_cfa_offset 12
 1678              		.cfi_offset 4, -12
 1679              		.cfi_offset 7, -8
 1680              		.cfi_offset 14, -4
 1681 0002 93B0     		sub	sp, sp, #76
 1682              		.cfi_def_cfa_offset 88
 1683 0004 00AF     		add	r7, sp, #0
 1684              		.cfi_def_cfa_register 7
 1685 0006 F860     		str	r0, [r7, #12]
 1686 0008 B960     		str	r1, [r7, #8]
 1687 000a 7A60     		str	r2, [r7, #4]
 1688 000c 1A00     		movs	r2, r3
 1689 000e FB1C     		adds	r3, r7, #3
 1690 0010 1A70     		strb	r2, [r3]
1468:../drivers/fsl_flash.c ****     /* Check arguments. */
1469:../drivers/fsl_flash.c ****     uint32_t blockSize;
1470:../drivers/fsl_flash.c ****     flash_operation_config_t flashOperationInfo;
1471:../drivers/fsl_flash.c ****     uint32_t nextBlockStartAddress;
1472:../drivers/fsl_flash.c ****     uint32_t remainingBytes;
1473:../drivers/fsl_flash.c ****     status_t returnCode;
1474:../drivers/fsl_flash.c **** 
1475:../drivers/fsl_flash.c ****     flash_get_matched_operation_info(config, start, &flashOperationInfo);
 1691              		.loc 1 1475 5
 1692 0012 1024     		movs	r4, #16
 1693 0014 3A19     		adds	r2, r7, r4
 1694 0016 B968     		ldr	r1, [r7, #8]
 1695 0018 FB68     		ldr	r3, [r7, #12]
 1696 001a 1800     		movs	r0, r3
 1697 001c FFF7FEFF 		bl	flash_get_matched_operation_info
1476:../drivers/fsl_flash.c **** 
1477:../drivers/fsl_flash.c ****     returnCode = flash_check_range(config, start, lengthInBytes, flashOperationInfo.sectionCmdAddre
 1698              		.loc 1 1477 18
 1699 0020 3B19     		adds	r3, r7, r4
 1700 0022 5B69     		ldr	r3, [r3, #20]
 1701 0024 7A68     		ldr	r2, [r7, #4]
 1702 0026 B968     		ldr	r1, [r7, #8]
 1703 0028 F868     		ldr	r0, [r7, #12]
 1704 002a FFF7FEFF 		bl	flash_check_range
 1705 002e 0300     		movs	r3, r0
 1706 0030 BB63     		str	r3, [r7, #56]
1478:../drivers/fsl_flash.c ****     if (returnCode)
 1707              		.loc 1 1478 8
 1708 0032 BB6B     		ldr	r3, [r7, #56]
 1709 0034 002B     		cmp	r3, #0
 1710 0036 01D0     		beq	.L110
1479:../drivers/fsl_flash.c ****     {
1480:../drivers/fsl_flash.c ****         return returnCode;
 1711              		.loc 1 1480 16
 1712 0038 BB6B     		ldr	r3, [r7, #56]
 1713 003a 61E0     		b	.L117
 1714              	.L110:
1481:../drivers/fsl_flash.c ****     }
1482:../drivers/fsl_flash.c **** 
1483:../drivers/fsl_flash.c ****     flash_get_matched_operation_info(config, start, &flashOperationInfo);
 1715              		.loc 1 1483 5
 1716 003c 1024     		movs	r4, #16
 1717 003e 3A19     		adds	r2, r7, r4
 1718 0040 B968     		ldr	r1, [r7, #8]
 1719 0042 FB68     		ldr	r3, [r7, #12]
 1720 0044 1800     		movs	r0, r3
 1721 0046 FFF7FEFF 		bl	flash_get_matched_operation_info
1484:../drivers/fsl_flash.c ****     start = flashOperationInfo.convertedAddress;
 1722              		.loc 1 1484 11
 1723 004a 2200     		movs	r2, r4
 1724 004c BB18     		adds	r3, r7, r2
 1725 004e 1B68     		ldr	r3, [r3]
 1726 0050 BB60     		str	r3, [r7, #8]
1485:../drivers/fsl_flash.c ****     blockSize = flashOperationInfo.activeBlockSize;
 1727              		.loc 1 1485 15
 1728 0052 BB18     		adds	r3, r7, r2
 1729 0054 9B68     		ldr	r3, [r3, #8]
 1730 0056 7B63     		str	r3, [r7, #52]
1486:../drivers/fsl_flash.c **** 
1487:../drivers/fsl_flash.c ****     nextBlockStartAddress = ALIGN_UP(start, blockSize);
 1731              		.loc 1 1487 29
 1732 0058 BB68     		ldr	r3, [r7, #8]
 1733 005a 5B42     		rsbs	r3, r3, #0
 1734 005c 1A00     		movs	r2, r3
 1735 005e 7B6B     		ldr	r3, [r7, #52]
 1736 0060 5B42     		rsbs	r3, r3, #0
 1737 0062 1340     		ands	r3, r2
 1738 0064 5B42     		rsbs	r3, r3, #0
 1739              		.loc 1 1487 27
 1740 0066 7B64     		str	r3, [r7, #68]
1488:../drivers/fsl_flash.c ****     if (nextBlockStartAddress == start)
 1741              		.loc 1 1488 8
 1742 0068 7A6C     		ldr	r2, [r7, #68]
 1743 006a BB68     		ldr	r3, [r7, #8]
 1744 006c 9A42     		cmp	r2, r3
 1745 006e 03D1     		bne	.L112
1489:../drivers/fsl_flash.c ****     {
1490:../drivers/fsl_flash.c ****         nextBlockStartAddress += blockSize;
 1746              		.loc 1 1490 31
 1747 0070 7A6C     		ldr	r2, [r7, #68]
 1748 0072 7B6B     		ldr	r3, [r7, #52]
 1749 0074 D318     		adds	r3, r2, r3
 1750 0076 7B64     		str	r3, [r7, #68]
 1751              	.L112:
1491:../drivers/fsl_flash.c ****     }
1492:../drivers/fsl_flash.c **** 
1493:../drivers/fsl_flash.c ****     remainingBytes = lengthInBytes;
 1752              		.loc 1 1493 20
 1753 0078 7B68     		ldr	r3, [r7, #4]
 1754 007a 3B64     		str	r3, [r7, #64]
1494:../drivers/fsl_flash.c **** 
1495:../drivers/fsl_flash.c ****     while (remainingBytes)
 1755              		.loc 1 1495 11
 1756 007c 3CE0     		b	.L113
 1757              	.L116:
 1758              	.LBB3:
1496:../drivers/fsl_flash.c ****     {
1497:../drivers/fsl_flash.c ****         uint32_t numberOfPhrases;
1498:../drivers/fsl_flash.c ****         uint32_t verifyLength = nextBlockStartAddress - start;
 1759              		.loc 1 1498 18
 1760 007e 7A6C     		ldr	r2, [r7, #68]
 1761 0080 BB68     		ldr	r3, [r7, #8]
 1762 0082 D31A     		subs	r3, r2, r3
 1763 0084 FB63     		str	r3, [r7, #60]
1499:../drivers/fsl_flash.c ****         if (verifyLength > remainingBytes)
 1764              		.loc 1 1499 12
 1765 0086 FA6B     		ldr	r2, [r7, #60]
 1766 0088 3B6C     		ldr	r3, [r7, #64]
 1767 008a 9A42     		cmp	r2, r3
 1768 008c 01D9     		bls	.L114
1500:../drivers/fsl_flash.c ****         {
1501:../drivers/fsl_flash.c ****             verifyLength = remainingBytes;
 1769              		.loc 1 1501 26
 1770 008e 3B6C     		ldr	r3, [r7, #64]
 1771 0090 FB63     		str	r3, [r7, #60]
 1772              	.L114:
1502:../drivers/fsl_flash.c ****         }
1503:../drivers/fsl_flash.c **** 
1504:../drivers/fsl_flash.c ****         numberOfPhrases = verifyLength / flashOperationInfo.sectionCmdAddressAligment;
 1773              		.loc 1 1504 60
 1774 0092 1023     		movs	r3, #16
 1775 0094 FB18     		adds	r3, r7, r3
 1776 0096 5B69     		ldr	r3, [r3, #20]
 1777              		.loc 1 1504 25
 1778 0098 1900     		movs	r1, r3
 1779 009a F86B     		ldr	r0, [r7, #60]
 1780 009c FFF7FEFF 		bl	__aeabi_uidiv
 1781              	.LVL4:
 1782 00a0 0300     		movs	r3, r0
 1783 00a2 3B63     		str	r3, [r7, #48]
1505:../drivers/fsl_flash.c **** 
1506:../drivers/fsl_flash.c ****         /* Fill in verify section command parameters. */
1507:../drivers/fsl_flash.c ****         kFCCOBx[0] = BYTES_JOIN_TO_WORD_1_3(FTFx_VERIFY_SECTION, start);
 1784              		.loc 1 1507 22
 1785 00a4 BB68     		ldr	r3, [r7, #8]
 1786 00a6 1B02     		lsls	r3, r3, #8
 1787 00a8 1A0A     		lsrs	r2, r3, #8
 1788              		.loc 1 1507 16
 1789 00aa 174B     		ldr	r3, .L118
 1790              		.loc 1 1507 22
 1791 00ac 8021     		movs	r1, #128
 1792 00ae 4904     		lsls	r1, r1, #17
 1793 00b0 0A43     		orrs	r2, r1
 1794              		.loc 1 1507 20
 1795 00b2 1A60     		str	r2, [r3]
1508:../drivers/fsl_flash.c ****         kFCCOBx[1] = BYTES_JOIN_TO_WORD_2_1_1(numberOfPhrases, margin, 0xFFU);
 1796              		.loc 1 1508 22
 1797 00b4 3B6B     		ldr	r3, [r7, #48]
 1798 00b6 1A04     		lsls	r2, r3, #16
 1799 00b8 FB1C     		adds	r3, r7, #3
 1800 00ba 1B78     		ldrb	r3, [r3]
 1801 00bc 1B02     		lsls	r3, r3, #8
 1802 00be 1A43     		orrs	r2, r3
 1803              		.loc 1 1508 16
 1804 00c0 114B     		ldr	r3, .L118
 1805 00c2 0433     		adds	r3, r3, #4
 1806              		.loc 1 1508 22
 1807 00c4 FF21     		movs	r1, #255
 1808 00c6 0A43     		orrs	r2, r1
 1809              		.loc 1 1508 20
 1810 00c8 1A60     		str	r2, [r3]
1509:../drivers/fsl_flash.c **** 
1510:../drivers/fsl_flash.c ****         /* calling flash command sequence function to execute the command */
1511:../drivers/fsl_flash.c ****         returnCode = flash_command_sequence(config);
 1811              		.loc 1 1511 22
 1812 00ca FB68     		ldr	r3, [r7, #12]
 1813 00cc 1800     		movs	r0, r3
 1814 00ce FFF7FEFF 		bl	flash_command_sequence
 1815 00d2 0300     		movs	r3, r0
 1816 00d4 BB63     		str	r3, [r7, #56]
1512:../drivers/fsl_flash.c ****         if (returnCode)
 1817              		.loc 1 1512 12
 1818 00d6 BB6B     		ldr	r3, [r7, #56]
 1819 00d8 002B     		cmp	r3, #0
 1820 00da 01D0     		beq	.L115
1513:../drivers/fsl_flash.c ****         {
1514:../drivers/fsl_flash.c ****             return returnCode;
 1821              		.loc 1 1514 20
 1822 00dc BB6B     		ldr	r3, [r7, #56]
 1823 00de 0FE0     		b	.L117
 1824              	.L115:
1515:../drivers/fsl_flash.c ****         }
1516:../drivers/fsl_flash.c **** 
1517:../drivers/fsl_flash.c ****         remainingBytes -= verifyLength;
 1825              		.loc 1 1517 24
 1826 00e0 3A6C     		ldr	r2, [r7, #64]
 1827 00e2 FB6B     		ldr	r3, [r7, #60]
 1828 00e4 D31A     		subs	r3, r2, r3
 1829 00e6 3B64     		str	r3, [r7, #64]
1518:../drivers/fsl_flash.c ****         start += verifyLength;
 1830              		.loc 1 1518 15
 1831 00e8 BA68     		ldr	r2, [r7, #8]
 1832 00ea FB6B     		ldr	r3, [r7, #60]
 1833 00ec D318     		adds	r3, r2, r3
 1834 00ee BB60     		str	r3, [r7, #8]
1519:../drivers/fsl_flash.c ****         nextBlockStartAddress += blockSize;
 1835              		.loc 1 1519 31
 1836 00f0 7A6C     		ldr	r2, [r7, #68]
 1837 00f2 7B6B     		ldr	r3, [r7, #52]
 1838 00f4 D318     		adds	r3, r2, r3
 1839 00f6 7B64     		str	r3, [r7, #68]
 1840              	.L113:
 1841              	.LBE3:
1495:../drivers/fsl_flash.c ****     {
 1842              		.loc 1 1495 11
 1843 00f8 3B6C     		ldr	r3, [r7, #64]
 1844 00fa 002B     		cmp	r3, #0
 1845 00fc BFD1     		bne	.L116
1520:../drivers/fsl_flash.c ****     }
1521:../drivers/fsl_flash.c **** 
1522:../drivers/fsl_flash.c ****     return kStatus_FLASH_Success;
 1846              		.loc 1 1522 12
 1847 00fe 0023     		movs	r3, #0
 1848              	.L117:
1523:../drivers/fsl_flash.c **** }
 1849              		.loc 1 1523 1 discriminator 1
 1850 0100 1800     		movs	r0, r3
 1851 0102 BD46     		mov	sp, r7
 1852 0104 13B0     		add	sp, sp, #76
 1853              		@ sp needed
 1854 0106 90BD     		pop	{r4, r7, pc}
 1855              	.L119:
 1856              		.align	2
 1857              	.L118:
 1858 0108 04000240 		.word	1073872900
 1859              		.cfi_endproc
 1860              	.LFE69:
 1862              		.section	.text.FLASH_VerifyProgram,"ax",%progbits
 1863              		.align	1
 1864              		.global	FLASH_VerifyProgram
 1865              		.syntax unified
 1866              		.code	16
 1867              		.thumb_func
 1868              		.fpu softvfp
 1870              	FLASH_VerifyProgram:
 1871              	.LFB70:
1524:../drivers/fsl_flash.c **** 
1525:../drivers/fsl_flash.c **** status_t FLASH_VerifyProgram(flash_config_t *config,
1526:../drivers/fsl_flash.c ****                              uint32_t start,
1527:../drivers/fsl_flash.c ****                              uint32_t lengthInBytes,
1528:../drivers/fsl_flash.c ****                              const uint32_t *expectedData,
1529:../drivers/fsl_flash.c ****                              flash_margin_value_t margin,
1530:../drivers/fsl_flash.c ****                              uint32_t *failedAddress,
1531:../drivers/fsl_flash.c ****                              uint32_t *failedData)
1532:../drivers/fsl_flash.c **** {
 1872              		.loc 1 1532 1
 1873              		.cfi_startproc
 1874              		@ args = 12, pretend = 0, frame = 56
 1875              		@ frame_needed = 1, uses_anonymous_args = 0
 1876 0000 90B5     		push	{r4, r7, lr}
 1877              		.cfi_def_cfa_offset 12
 1878              		.cfi_offset 4, -12
 1879              		.cfi_offset 7, -8
 1880              		.cfi_offset 14, -4
 1881 0002 8FB0     		sub	sp, sp, #60
 1882              		.cfi_def_cfa_offset 72
 1883 0004 00AF     		add	r7, sp, #0
 1884              		.cfi_def_cfa_register 7
 1885 0006 F860     		str	r0, [r7, #12]
 1886 0008 B960     		str	r1, [r7, #8]
 1887 000a 7A60     		str	r2, [r7, #4]
 1888 000c 3B60     		str	r3, [r7]
1533:../drivers/fsl_flash.c ****     status_t returnCode;
1534:../drivers/fsl_flash.c ****     flash_operation_config_t flashOperationInfo;
1535:../drivers/fsl_flash.c **** 
1536:../drivers/fsl_flash.c ****     if (expectedData == NULL)
 1889              		.loc 1 1536 8
 1890 000e 3B68     		ldr	r3, [r7]
 1891 0010 002B     		cmp	r3, #0
 1892 0012 01D1     		bne	.L121
1537:../drivers/fsl_flash.c ****     {
1538:../drivers/fsl_flash.c ****         return kStatus_FLASH_InvalidArgument;
 1893              		.loc 1 1538 16
 1894 0014 0423     		movs	r3, #4
 1895 0016 60E0     		b	.L130
 1896              	.L121:
1539:../drivers/fsl_flash.c ****     }
1540:../drivers/fsl_flash.c **** 
1541:../drivers/fsl_flash.c ****     flash_get_matched_operation_info(config, start, &flashOperationInfo);
 1897              		.loc 1 1541 5
 1898 0018 1424     		movs	r4, #20
 1899 001a 3A19     		adds	r2, r7, r4
 1900 001c B968     		ldr	r1, [r7, #8]
 1901 001e FB68     		ldr	r3, [r7, #12]
 1902 0020 1800     		movs	r0, r3
 1903 0022 FFF7FEFF 		bl	flash_get_matched_operation_info
1542:../drivers/fsl_flash.c **** 
1543:../drivers/fsl_flash.c ****     returnCode = flash_check_range(config, start, lengthInBytes, flashOperationInfo.checkCmdAddress
 1904              		.loc 1 1543 18
 1905 0026 3B19     		adds	r3, r7, r4
 1906 0028 DB69     		ldr	r3, [r3, #28]
 1907 002a 7A68     		ldr	r2, [r7, #4]
 1908 002c B968     		ldr	r1, [r7, #8]
 1909 002e F868     		ldr	r0, [r7, #12]
 1910 0030 FFF7FEFF 		bl	flash_check_range
 1911 0034 0300     		movs	r3, r0
 1912 0036 7B63     		str	r3, [r7, #52]
1544:../drivers/fsl_flash.c ****     if (returnCode)
 1913              		.loc 1 1544 8
 1914 0038 7B6B     		ldr	r3, [r7, #52]
 1915 003a 002B     		cmp	r3, #0
 1916 003c 01D0     		beq	.L123
1545:../drivers/fsl_flash.c ****     {
1546:../drivers/fsl_flash.c ****         return returnCode;
 1917              		.loc 1 1546 16
 1918 003e 7B6B     		ldr	r3, [r7, #52]
 1919 0040 4BE0     		b	.L130
 1920              	.L123:
1547:../drivers/fsl_flash.c ****     }
1548:../drivers/fsl_flash.c **** 
1549:../drivers/fsl_flash.c ****     start = flashOperationInfo.convertedAddress;
 1921              		.loc 1 1549 11
 1922 0042 1423     		movs	r3, #20
 1923 0044 FB18     		adds	r3, r7, r3
 1924 0046 1B68     		ldr	r3, [r3]
 1925 0048 BB60     		str	r3, [r7, #8]
1550:../drivers/fsl_flash.c **** 
1551:../drivers/fsl_flash.c ****     while (lengthInBytes)
 1926              		.loc 1 1551 11
 1927 004a 40E0     		b	.L124
 1928              	.L129:
1552:../drivers/fsl_flash.c ****     {
1553:../drivers/fsl_flash.c ****         /* preparing passing parameter to program check the flash block */
1554:../drivers/fsl_flash.c ****         kFCCOBx[0] = BYTES_JOIN_TO_WORD_1_3(FTFx_PROGRAM_CHECK, start);
 1929              		.loc 1 1554 22
 1930 004c BB68     		ldr	r3, [r7, #8]
 1931 004e 1B02     		lsls	r3, r3, #8
 1932 0050 1A0A     		lsrs	r2, r3, #8
 1933              		.loc 1 1554 16
 1934 0052 244B     		ldr	r3, .L132
 1935              		.loc 1 1554 22
 1936 0054 8021     		movs	r1, #128
 1937 0056 8904     		lsls	r1, r1, #18
 1938 0058 0A43     		orrs	r2, r1
 1939              		.loc 1 1554 20
 1940 005a 1A60     		str	r2, [r3]
1555:../drivers/fsl_flash.c ****         kFCCOBx[1] = BYTES_JOIN_TO_WORD_1_3(margin, 0xFFFFFFU);
 1941              		.loc 1 1555 22
 1942 005c 4023     		movs	r3, #64
 1943 005e 0822     		movs	r2, #8
 1944 0060 9446     		mov	ip, r2
 1945 0062 BC44     		add	ip, ip, r7
 1946 0064 6344     		add	r3, r3, ip
 1947 0066 1B78     		ldrb	r3, [r3]
 1948 0068 1A06     		lsls	r2, r3, #24
 1949              		.loc 1 1555 16
 1950 006a 1E4B     		ldr	r3, .L132
 1951 006c 0433     		adds	r3, r3, #4
 1952              		.loc 1 1555 22
 1953 006e 1E49     		ldr	r1, .L132+4
 1954 0070 0A43     		orrs	r2, r1
 1955              		.loc 1 1555 20
 1956 0072 1A60     		str	r2, [r3]
1556:../drivers/fsl_flash.c ****         kFCCOBx[2] = *expectedData;
 1957              		.loc 1 1556 16
 1958 0074 1B4B     		ldr	r3, .L132
 1959 0076 0833     		adds	r3, r3, #8
 1960              		.loc 1 1556 22
 1961 0078 3A68     		ldr	r2, [r7]
 1962 007a 1268     		ldr	r2, [r2]
 1963              		.loc 1 1556 20
 1964 007c 1A60     		str	r2, [r3]
1557:../drivers/fsl_flash.c **** 
1558:../drivers/fsl_flash.c ****         /* calling flash command sequence function to execute the command */
1559:../drivers/fsl_flash.c ****         returnCode = flash_command_sequence(config);
 1965              		.loc 1 1559 22
 1966 007e FB68     		ldr	r3, [r7, #12]
 1967 0080 1800     		movs	r0, r3
 1968 0082 FFF7FEFF 		bl	flash_command_sequence
 1969 0086 0300     		movs	r3, r0
 1970 0088 7B63     		str	r3, [r7, #52]
1560:../drivers/fsl_flash.c **** 
1561:../drivers/fsl_flash.c ****         /* checking for the success of command execution */
1562:../drivers/fsl_flash.c ****         if (kStatus_FLASH_Success != returnCode)
 1971              		.loc 1 1562 12
 1972 008a 7B6B     		ldr	r3, [r7, #52]
 1973 008c 002B     		cmp	r3, #0
 1974 008e 0CD0     		beq	.L125
1563:../drivers/fsl_flash.c ****         {
1564:../drivers/fsl_flash.c ****             if (failedAddress)
 1975              		.loc 1 1564 16
 1976 0090 FB6C     		ldr	r3, [r7, #76]
 1977 0092 002B     		cmp	r3, #0
 1978 0094 02D0     		beq	.L126
1565:../drivers/fsl_flash.c ****             {
1566:../drivers/fsl_flash.c ****                 *failedAddress = start;
 1979              		.loc 1 1566 32
 1980 0096 FB6C     		ldr	r3, [r7, #76]
 1981 0098 BA68     		ldr	r2, [r7, #8]
 1982 009a 1A60     		str	r2, [r3]
 1983              	.L126:
1567:../drivers/fsl_flash.c ****             }
1568:../drivers/fsl_flash.c ****             if (failedData)
 1984              		.loc 1 1568 16
 1985 009c 3B6D     		ldr	r3, [r7, #80]
 1986 009e 002B     		cmp	r3, #0
 1987 00a0 19D0     		beq	.L131
1569:../drivers/fsl_flash.c ****             {
1570:../drivers/fsl_flash.c ****                 *failedData = 0;
 1988              		.loc 1 1570 29
 1989 00a2 3B6D     		ldr	r3, [r7, #80]
 1990 00a4 0022     		movs	r2, #0
 1991 00a6 1A60     		str	r2, [r3]
1571:../drivers/fsl_flash.c ****             }
1572:../drivers/fsl_flash.c ****             break;
 1992              		.loc 1 1572 13
 1993 00a8 15E0     		b	.L131
 1994              	.L125:
1573:../drivers/fsl_flash.c ****         }
1574:../drivers/fsl_flash.c **** 
1575:../drivers/fsl_flash.c ****         lengthInBytes -= flashOperationInfo.checkCmdAddressAligment;
 1995              		.loc 1 1575 44
 1996 00aa 1421     		movs	r1, #20
 1997 00ac 7B18     		adds	r3, r7, r1
 1998 00ae DB69     		ldr	r3, [r3, #28]
 1999              		.loc 1 1575 23
 2000 00b0 7A68     		ldr	r2, [r7, #4]
 2001 00b2 D31A     		subs	r3, r2, r3
 2002 00b4 7B60     		str	r3, [r7, #4]
1576:../drivers/fsl_flash.c ****         expectedData += flashOperationInfo.checkCmdAddressAligment / sizeof(*expectedData);
 2003              		.loc 1 1576 43
 2004 00b6 7B18     		adds	r3, r7, r1
 2005 00b8 DB69     		ldr	r3, [r3, #28]
 2006              		.loc 1 1576 22
 2007 00ba 0322     		movs	r2, #3
 2008 00bc 9343     		bics	r3, r2
 2009 00be 3A68     		ldr	r2, [r7]
 2010 00c0 D318     		adds	r3, r2, r3
 2011 00c2 3B60     		str	r3, [r7]
1577:../drivers/fsl_flash.c ****         start += flashOperationInfo.checkCmdAddressAligment;
 2012              		.loc 1 1577 36
 2013 00c4 7B18     		adds	r3, r7, r1
 2014 00c6 DB69     		ldr	r3, [r3, #28]
 2015              		.loc 1 1577 15
 2016 00c8 BA68     		ldr	r2, [r7, #8]
 2017 00ca D318     		adds	r3, r2, r3
 2018 00cc BB60     		str	r3, [r7, #8]
 2019              	.L124:
1551:../drivers/fsl_flash.c ****     {
 2020              		.loc 1 1551 11
 2021 00ce 7B68     		ldr	r3, [r7, #4]
 2022 00d0 002B     		cmp	r3, #0
 2023 00d2 BBD1     		bne	.L129
 2024 00d4 00E0     		b	.L128
 2025              	.L131:
1572:../drivers/fsl_flash.c ****         }
 2026              		.loc 1 1572 13
 2027 00d6 C046     		nop
 2028              	.L128:
1578:../drivers/fsl_flash.c ****     }
1579:../drivers/fsl_flash.c **** 
1580:../drivers/fsl_flash.c ****     return (returnCode);
 2029              		.loc 1 1580 12
 2030 00d8 7B6B     		ldr	r3, [r7, #52]
 2031              	.L130:
1581:../drivers/fsl_flash.c **** }
 2032              		.loc 1 1581 1 discriminator 1
 2033 00da 1800     		movs	r0, r3
 2034 00dc BD46     		mov	sp, r7
 2035 00de 0FB0     		add	sp, sp, #60
 2036              		@ sp needed
 2037 00e0 90BD     		pop	{r4, r7, pc}
 2038              	.L133:
 2039 00e2 C046     		.align	2
 2040              	.L132:
 2041 00e4 04000240 		.word	1073872900
 2042 00e8 FFFFFF00 		.word	16777215
 2043              		.cfi_endproc
 2044              	.LFE70:
 2046              		.section	.text.FLASH_VerifyEraseAllExecuteOnlySegments,"ax",%progbits
 2047              		.align	1
 2048              		.global	FLASH_VerifyEraseAllExecuteOnlySegments
 2049              		.syntax unified
 2050              		.code	16
 2051              		.thumb_func
 2052              		.fpu softvfp
 2054              	FLASH_VerifyEraseAllExecuteOnlySegments:
 2055              	.LFB71:
1582:../drivers/fsl_flash.c **** 
1583:../drivers/fsl_flash.c **** status_t FLASH_VerifyEraseAllExecuteOnlySegments(flash_config_t *config, flash_margin_value_t margi
1584:../drivers/fsl_flash.c **** {
 2056              		.loc 1 1584 1
 2057              		.cfi_startproc
 2058              		@ args = 0, pretend = 0, frame = 8
 2059              		@ frame_needed = 1, uses_anonymous_args = 0
 2060 0000 80B5     		push	{r7, lr}
 2061              		.cfi_def_cfa_offset 8
 2062              		.cfi_offset 7, -8
 2063              		.cfi_offset 14, -4
 2064 0002 82B0     		sub	sp, sp, #8
 2065              		.cfi_def_cfa_offset 16
 2066 0004 00AF     		add	r7, sp, #0
 2067              		.cfi_def_cfa_register 7
 2068 0006 7860     		str	r0, [r7, #4]
 2069 0008 0A00     		movs	r2, r1
 2070 000a FB1C     		adds	r3, r7, #3
 2071 000c 1A70     		strb	r2, [r3]
1585:../drivers/fsl_flash.c ****     if (config == NULL)
 2072              		.loc 1 1585 8
 2073 000e 7B68     		ldr	r3, [r7, #4]
 2074 0010 002B     		cmp	r3, #0
 2075 0012 01D1     		bne	.L135
1586:../drivers/fsl_flash.c ****     {
1587:../drivers/fsl_flash.c ****         return kStatus_FLASH_InvalidArgument;
 2076              		.loc 1 1587 16
 2077 0014 0423     		movs	r3, #4
 2078 0016 0BE0     		b	.L136
 2079              	.L135:
1588:../drivers/fsl_flash.c ****     }
1589:../drivers/fsl_flash.c **** 
1590:../drivers/fsl_flash.c ****     /* preparing passing parameter to verify erase all execute-only segments command */
1591:../drivers/fsl_flash.c ****     kFCCOBx[0] = BYTES_JOIN_TO_WORD_1_1_2(FTFx_VERIFY_ALL_EXECUTE_ONLY_SEGMENT, margin, 0xFFFFU);
 2080              		.loc 1 1591 18
 2081 0018 FB1C     		adds	r3, r7, #3
 2082 001a 1B78     		ldrb	r3, [r3]
 2083 001c 1A04     		lsls	r2, r3, #16
 2084              		.loc 1 1591 12
 2085 001e 064B     		ldr	r3, .L137
 2086              		.loc 1 1591 18
 2087 0020 0649     		ldr	r1, .L137+4
 2088 0022 0A43     		orrs	r2, r1
 2089              		.loc 1 1591 16
 2090 0024 1A60     		str	r2, [r3]
1592:../drivers/fsl_flash.c **** 
1593:../drivers/fsl_flash.c ****     /* calling flash command sequence function to execute the command */
1594:../drivers/fsl_flash.c ****     return flash_command_sequence(config);
 2091              		.loc 1 1594 12
 2092 0026 7B68     		ldr	r3, [r7, #4]
 2093 0028 1800     		movs	r0, r3
 2094 002a FFF7FEFF 		bl	flash_command_sequence
 2095 002e 0300     		movs	r3, r0
 2096              	.L136:
1595:../drivers/fsl_flash.c **** }
 2097              		.loc 1 1595 1
 2098 0030 1800     		movs	r0, r3
 2099 0032 BD46     		mov	sp, r7
 2100 0034 02B0     		add	sp, sp, #8
 2101              		@ sp needed
 2102 0036 80BD     		pop	{r7, pc}
 2103              	.L138:
 2104              		.align	2
 2105              	.L137:
 2106 0038 04000240 		.word	1073872900
 2107 003c FFFF004A 		.word	1241579519
 2108              		.cfi_endproc
 2109              	.LFE71:
 2111              		.section	.text.FLASH_IsProtected,"ax",%progbits
 2112              		.align	1
 2113              		.global	FLASH_IsProtected
 2114              		.syntax unified
 2115              		.code	16
 2116              		.thumb_func
 2117              		.fpu softvfp
 2119              	FLASH_IsProtected:
 2120              	.LFB72:
1596:../drivers/fsl_flash.c **** 
1597:../drivers/fsl_flash.c **** status_t FLASH_IsProtected(flash_config_t *config,
1598:../drivers/fsl_flash.c ****                            uint32_t start,
1599:../drivers/fsl_flash.c ****                            uint32_t lengthInBytes,
1600:../drivers/fsl_flash.c ****                            flash_protection_state_t *protection_state)
1601:../drivers/fsl_flash.c **** {
 2121              		.loc 1 1601 1
 2122              		.cfi_startproc
 2123              		@ args = 0, pretend = 0, frame = 216
 2124              		@ frame_needed = 1, uses_anonymous_args = 0
 2125 0000 80B5     		push	{r7, lr}
 2126              		.cfi_def_cfa_offset 8
 2127              		.cfi_offset 7, -8
 2128              		.cfi_offset 14, -4
 2129 0002 B6B0     		sub	sp, sp, #216
 2130              		.cfi_def_cfa_offset 224
 2131 0004 00AF     		add	r7, sp, #0
 2132              		.cfi_def_cfa_register 7
 2133 0006 F860     		str	r0, [r7, #12]
 2134 0008 B960     		str	r1, [r7, #8]
 2135 000a 7A60     		str	r2, [r7, #4]
 2136 000c 3B60     		str	r3, [r7]
1602:../drivers/fsl_flash.c ****     uint32_t endAddress;           /* end address for protection check */
1603:../drivers/fsl_flash.c ****     uint32_t regionCheckedCounter; /* increments each time the flash address was checked for
1604:../drivers/fsl_flash.c ****                                     * protection status */
1605:../drivers/fsl_flash.c ****     uint32_t regionCounter;        /* incrementing variable used to increment through the flash
1606:../drivers/fsl_flash.c ****                                     * protection regions */
1607:../drivers/fsl_flash.c ****     uint32_t protectStatusCounter; /* increments each time a flash region was detected as protected
1608:../drivers/fsl_flash.c **** 
1609:../drivers/fsl_flash.c ****     uint8_t flashRegionProtectStatus[FSL_FEATURE_FLASH_PFLASH_PROTECTION_REGION_COUNT]; /* array of
1610:../drivers/fsl_flash.c ****                                                                       * status for each
1611:../drivers/fsl_flash.c ****                                                                       * protection region */
1612:../drivers/fsl_flash.c ****     uint32_t flashRegionAddress[FSL_FEATURE_FLASH_PFLASH_PROTECTION_REGION_COUNT +
1613:../drivers/fsl_flash.c ****                                 1];                /* array of the start addresses for each flash
1614:../drivers/fsl_flash.c ****                                  * protection region. Note this is REGION_COUNT+1
1615:../drivers/fsl_flash.c ****                                  * due to requiring the next start address after
1616:../drivers/fsl_flash.c ****                                  * the end of flash for loop-check purposes below */
1617:../drivers/fsl_flash.c ****     flash_protection_config_t flashProtectionInfo; /* flash protection information */
1618:../drivers/fsl_flash.c ****     status_t returnCode;
1619:../drivers/fsl_flash.c **** 
1620:../drivers/fsl_flash.c ****     if (protection_state == NULL)
 2137              		.loc 1 1620 8
 2138 000e 3B68     		ldr	r3, [r7]
 2139 0010 002B     		cmp	r3, #0
 2140 0012 01D1     		bne	.L140
1621:../drivers/fsl_flash.c ****     {
1622:../drivers/fsl_flash.c ****         return kStatus_FLASH_InvalidArgument;
 2141              		.loc 1 1622 16
 2142 0014 0423     		movs	r3, #4
 2143 0016 30E1     		b	.L160
 2144              	.L140:
1623:../drivers/fsl_flash.c ****     }
1624:../drivers/fsl_flash.c **** 
1625:../drivers/fsl_flash.c ****     /* Check the supplied address range. */
1626:../drivers/fsl_flash.c ****     returnCode = flash_check_range(config, start, lengthInBytes, FSL_FEATURE_FLASH_PFLASH_BLOCK_WRI
 2145              		.loc 1 1626 18
 2146 0018 7A68     		ldr	r2, [r7, #4]
 2147 001a B968     		ldr	r1, [r7, #8]
 2148 001c F868     		ldr	r0, [r7, #12]
 2149 001e 0423     		movs	r3, #4
 2150 0020 FFF7FEFF 		bl	flash_check_range
 2151 0024 0300     		movs	r3, r0
 2152 0026 C822     		movs	r2, #200
 2153 0028 B918     		adds	r1, r7, r2
 2154 002a 0B60     		str	r3, [r1]
1627:../drivers/fsl_flash.c ****     if (returnCode)
 2155              		.loc 1 1627 8
 2156 002c BB18     		adds	r3, r7, r2
 2157 002e 1B68     		ldr	r3, [r3]
 2158 0030 002B     		cmp	r3, #0
 2159 0032 02D0     		beq	.L142
1628:../drivers/fsl_flash.c ****     {
1629:../drivers/fsl_flash.c ****         return returnCode;
 2160              		.loc 1 1629 16
 2161 0034 BB18     		adds	r3, r7, r2
 2162 0036 1B68     		ldr	r3, [r3]
 2163 0038 1FE1     		b	.L160
 2164              	.L142:
1630:../drivers/fsl_flash.c ****     }
1631:../drivers/fsl_flash.c **** 
1632:../drivers/fsl_flash.c ****     /* Get necessary flash protection information. */
1633:../drivers/fsl_flash.c ****     returnCode = flash_get_protection_info(config, &flashProtectionInfo);
 2165              		.loc 1 1633 18
 2166 003a 1423     		movs	r3, #20
 2167 003c FA18     		adds	r2, r7, r3
 2168 003e FB68     		ldr	r3, [r7, #12]
 2169 0040 1100     		movs	r1, r2
 2170 0042 1800     		movs	r0, r3
 2171 0044 FFF7FEFF 		bl	flash_get_protection_info
 2172 0048 0300     		movs	r3, r0
 2173 004a C822     		movs	r2, #200
 2174 004c B918     		adds	r1, r7, r2
 2175 004e 0B60     		str	r3, [r1]
1634:../drivers/fsl_flash.c ****     if (returnCode)
 2176              		.loc 1 1634 8
 2177 0050 BB18     		adds	r3, r7, r2
 2178 0052 1B68     		ldr	r3, [r3]
 2179 0054 002B     		cmp	r3, #0
 2180 0056 02D0     		beq	.L143
1635:../drivers/fsl_flash.c ****     {
1636:../drivers/fsl_flash.c ****         return returnCode;
 2181              		.loc 1 1636 16
 2182 0058 BB18     		adds	r3, r7, r2
 2183 005a 1B68     		ldr	r3, [r3]
 2184 005c 0DE1     		b	.L160
 2185              	.L143:
1637:../drivers/fsl_flash.c ****     }
1638:../drivers/fsl_flash.c **** 
1639:../drivers/fsl_flash.c ****     /* calculating Flash end address */
1640:../drivers/fsl_flash.c ****     endAddress = start + lengthInBytes;
 2186              		.loc 1 1640 16
 2187 005e BA68     		ldr	r2, [r7, #8]
 2188 0060 7B68     		ldr	r3, [r7, #4]
 2189 0062 D318     		adds	r3, r2, r3
 2190 0064 C422     		movs	r2, #196
 2191 0066 BA18     		adds	r2, r7, r2
 2192 0068 1360     		str	r3, [r2]
1641:../drivers/fsl_flash.c **** 
1642:../drivers/fsl_flash.c ****     /* populate the flashRegionAddress array with the start address of each flash region */
1643:../drivers/fsl_flash.c ****     regionCounter = 0; /* make sure regionCounter is initialized to 0 first */
 2193              		.loc 1 1643 19
 2194 006a 0023     		movs	r3, #0
 2195 006c D022     		movs	r2, #208
 2196 006e BA18     		adds	r2, r7, r2
 2197 0070 1360     		str	r3, [r2]
1644:../drivers/fsl_flash.c **** 
1645:../drivers/fsl_flash.c ****     /* populate up to 33rd element of array, this is the next address after end of flash array */
1646:../drivers/fsl_flash.c ****     while (regionCounter <= flashProtectionInfo.regionCount)
 2198              		.loc 1 1646 11
 2199 0072 14E0     		b	.L144
 2200              	.L145:
1647:../drivers/fsl_flash.c ****     {
1648:../drivers/fsl_flash.c ****         flashRegionAddress[regionCounter] =
1649:../drivers/fsl_flash.c ****             flashProtectionInfo.regionBase + flashProtectionInfo.regionSize * regionCounter;
 2201              		.loc 1 1649 32
 2202 0074 1421     		movs	r1, #20
 2203 0076 7B18     		adds	r3, r7, r1
 2204 0078 1A68     		ldr	r2, [r3]
 2205              		.loc 1 1649 65
 2206 007a 7B18     		adds	r3, r7, r1
 2207 007c 5B68     		ldr	r3, [r3, #4]
 2208              		.loc 1 1649 77
 2209 007e D020     		movs	r0, #208
 2210 0080 3918     		adds	r1, r7, r0
 2211 0082 0968     		ldr	r1, [r1]
 2212 0084 4B43     		muls	r3, r1
 2213              		.loc 1 1649 44
 2214 0086 D118     		adds	r1, r2, r3
1648:../drivers/fsl_flash.c ****             flashProtectionInfo.regionBase + flashProtectionInfo.regionSize * regionCounter;
 2215              		.loc 1 1648 43
 2216 0088 2023     		movs	r3, #32
 2217 008a FB18     		adds	r3, r7, r3
 2218 008c 3A18     		adds	r2, r7, r0
 2219 008e 1268     		ldr	r2, [r2]
 2220 0090 9200     		lsls	r2, r2, #2
 2221 0092 D150     		str	r1, [r2, r3]
1650:../drivers/fsl_flash.c ****         regionCounter++;
 2222              		.loc 1 1650 22
 2223 0094 3B18     		adds	r3, r7, r0
 2224 0096 1B68     		ldr	r3, [r3]
 2225 0098 0133     		adds	r3, r3, #1
 2226 009a 3A18     		adds	r2, r7, r0
 2227 009c 1360     		str	r3, [r2]
 2228              	.L144:
1646:../drivers/fsl_flash.c ****     {
 2229              		.loc 1 1646 48
 2230 009e 1423     		movs	r3, #20
 2231 00a0 FB18     		adds	r3, r7, r3
 2232 00a2 9B68     		ldr	r3, [r3, #8]
1646:../drivers/fsl_flash.c ****     {
 2233              		.loc 1 1646 11
 2234 00a4 D021     		movs	r1, #208
 2235 00a6 7A18     		adds	r2, r7, r1
 2236 00a8 1268     		ldr	r2, [r2]
 2237 00aa 9A42     		cmp	r2, r3
 2238 00ac E2D9     		bls	.L145
1651:../drivers/fsl_flash.c ****     }
1652:../drivers/fsl_flash.c **** 
1653:../drivers/fsl_flash.c ****     /* populate flashRegionProtectStatus array with status information
1654:../drivers/fsl_flash.c ****      * Protection status for each region is stored in the FPROT[3:0] registers
1655:../drivers/fsl_flash.c ****      * Each bit represents one region of flash
1656:../drivers/fsl_flash.c ****      * 4 registers * 8-bits-per-register = 32-bits (32-regions)
1657:../drivers/fsl_flash.c ****      * The convention is:
1658:../drivers/fsl_flash.c ****      * FPROT3[bit 0] is the first protection region (start of flash memory)
1659:../drivers/fsl_flash.c ****      * FPROT0[bit 7] is the last protection region (end of flash memory)
1660:../drivers/fsl_flash.c ****      * regionCounter is used to determine which FPROT[3:0] register to check for protection status
1661:../drivers/fsl_flash.c ****      * Note: FPROT=1 means NOT protected, FPROT=0 means protected */
1662:../drivers/fsl_flash.c ****     regionCounter = 0; /* make sure regionCounter is initialized to 0 first */
 2239              		.loc 1 1662 19
 2240 00ae 0023     		movs	r3, #0
 2241 00b0 7A18     		adds	r2, r7, r1
 2242 00b2 1360     		str	r3, [r2]
1663:../drivers/fsl_flash.c ****     while (regionCounter < flashProtectionInfo.regionCount)
 2243              		.loc 1 1663 11
 2244 00b4 77E0     		b	.L146
 2245              	.L152:
1664:../drivers/fsl_flash.c ****     {
1665:../drivers/fsl_flash.c **** #if FLASH_SSD_IS_SECONDARY_FLASH_ENABLED && FLASH_SSD_SECONDARY_FLASH_HAS_ITS_OWN_PROTECTION_REGIST
1666:../drivers/fsl_flash.c ****         if (config->FlashMemoryIndex == (uint8_t)kFLASH_MemoryIndexSecondaryFlash)
1667:../drivers/fsl_flash.c ****         {
1668:../drivers/fsl_flash.c ****             if (regionCounter < 8)
1669:../drivers/fsl_flash.c ****             {
1670:../drivers/fsl_flash.c ****                 flashRegionProtectStatus[regionCounter] = (FTFx_FPROTSL_REG >> regionCounter) & (0x
1671:../drivers/fsl_flash.c ****             }
1672:../drivers/fsl_flash.c ****             else if ((regionCounter >= 8) && (regionCounter < 16))
1673:../drivers/fsl_flash.c ****             {
1674:../drivers/fsl_flash.c ****                 flashRegionProtectStatus[regionCounter] = (FTFx_FPROTSH_REG >> (regionCounter - 8))
1675:../drivers/fsl_flash.c ****             }
1676:../drivers/fsl_flash.c ****             else
1677:../drivers/fsl_flash.c ****             {
1678:../drivers/fsl_flash.c ****                 break;
1679:../drivers/fsl_flash.c ****             }
1680:../drivers/fsl_flash.c ****         }
1681:../drivers/fsl_flash.c ****         else
1682:../drivers/fsl_flash.c **** #endif
1683:../drivers/fsl_flash.c ****         {
1684:../drivers/fsl_flash.c ****             /* Note: So far protection region count may be 16/20/24/32/64 */
1685:../drivers/fsl_flash.c ****             if (regionCounter < 8)
 2246              		.loc 1 1685 16
 2247 00b6 D020     		movs	r0, #208
 2248 00b8 3B18     		adds	r3, r7, r0
 2249 00ba 1B68     		ldr	r3, [r3]
 2250 00bc 072B     		cmp	r3, #7
 2251 00be 13D8     		bhi	.L147
1686:../drivers/fsl_flash.c ****             {
1687:../drivers/fsl_flash.c ****                 flashRegionProtectStatus[regionCounter] = (FTFx_FPROTL3_REG >> regionCounter) & (0x
 2252              		.loc 1 1687 60
 2253 00c0 704B     		ldr	r3, .L161
 2254 00c2 1B7C     		ldrb	r3, [r3, #16]
 2255 00c4 DBB2     		uxtb	r3, r3
 2256 00c6 1A00     		movs	r2, r3
 2257              		.loc 1 1687 77
 2258 00c8 3B18     		adds	r3, r7, r0
 2259 00ca 1B68     		ldr	r3, [r3]
 2260 00cc 1A41     		asrs	r2, r2, r3
 2261 00ce 1300     		movs	r3, r2
 2262              		.loc 1 1687 95
 2263 00d0 DBB2     		uxtb	r3, r3
 2264 00d2 0122     		movs	r2, #1
 2265 00d4 1340     		ands	r3, r2
 2266 00d6 D9B2     		uxtb	r1, r3
 2267              		.loc 1 1687 57
 2268 00d8 A423     		movs	r3, #164
 2269 00da FA18     		adds	r2, r7, r3
 2270 00dc 3B18     		adds	r3, r7, r0
 2271 00de 1B68     		ldr	r3, [r3]
 2272 00e0 D318     		adds	r3, r2, r3
 2273 00e2 0A1C     		adds	r2, r1, #0
 2274 00e4 1A70     		strb	r2, [r3]
 2275 00e6 58E0     		b	.L148
 2276              	.L147:
1688:../drivers/fsl_flash.c ****             }
1689:../drivers/fsl_flash.c ****             else if ((regionCounter >= 8) && (regionCounter < 16))
 2277              		.loc 1 1689 21
 2278 00e8 D020     		movs	r0, #208
 2279 00ea 3B18     		adds	r3, r7, r0
 2280 00ec 1B68     		ldr	r3, [r3]
 2281 00ee 072B     		cmp	r3, #7
 2282 00f0 18D9     		bls	.L149
 2283              		.loc 1 1689 43 discriminator 1
 2284 00f2 3B18     		adds	r3, r7, r0
 2285 00f4 1B68     		ldr	r3, [r3]
 2286 00f6 0F2B     		cmp	r3, #15
 2287 00f8 14D8     		bhi	.L149
1690:../drivers/fsl_flash.c ****             {
1691:../drivers/fsl_flash.c ****                 flashRegionProtectStatus[regionCounter] = (FTFx_FPROTL2_REG >> (regionCounter - 8))
 2288              		.loc 1 1691 60
 2289 00fa 624B     		ldr	r3, .L161
 2290 00fc 5B7C     		ldrb	r3, [r3, #17]
 2291 00fe DBB2     		uxtb	r3, r3
 2292 0100 1A00     		movs	r2, r3
 2293              		.loc 1 1691 95
 2294 0102 3B18     		adds	r3, r7, r0
 2295 0104 1B68     		ldr	r3, [r3]
 2296 0106 083B     		subs	r3, r3, #8
 2297              		.loc 1 1691 77
 2298 0108 1A41     		asrs	r2, r2, r3
 2299 010a 1300     		movs	r3, r2
 2300              		.loc 1 1691 101
 2301 010c DBB2     		uxtb	r3, r3
 2302 010e 0122     		movs	r2, #1
 2303 0110 1340     		ands	r3, r2
 2304 0112 D9B2     		uxtb	r1, r3
 2305              		.loc 1 1691 57
 2306 0114 A423     		movs	r3, #164
 2307 0116 FA18     		adds	r2, r7, r3
 2308 0118 3B18     		adds	r3, r7, r0
 2309 011a 1B68     		ldr	r3, [r3]
 2310 011c D318     		adds	r3, r2, r3
 2311 011e 0A1C     		adds	r2, r1, #0
 2312 0120 1A70     		strb	r2, [r3]
 2313 0122 3AE0     		b	.L148
 2314              	.L149:
1692:../drivers/fsl_flash.c ****             }
1693:../drivers/fsl_flash.c **** #if defined(FSL_FEATURE_FLASH_PFLASH_PROTECTION_REGION_COUNT) && (FSL_FEATURE_FLASH_PFLASH_PROTECTI
1694:../drivers/fsl_flash.c **** #if (FSL_FEATURE_FLASH_PFLASH_PROTECTION_REGION_COUNT == 20)
1695:../drivers/fsl_flash.c ****             else if ((regionCounter >= 16) && (regionCounter < 20))
1696:../drivers/fsl_flash.c ****             {
1697:../drivers/fsl_flash.c ****                 flashRegionProtectStatus[regionCounter] = (FTFx_FPROTL1_REG >> (regionCounter - 16)
1698:../drivers/fsl_flash.c ****             }
1699:../drivers/fsl_flash.c **** #else
1700:../drivers/fsl_flash.c ****             else if ((regionCounter >= 16) && (regionCounter < 24))
 2315              		.loc 1 1700 21
 2316 0124 D020     		movs	r0, #208
 2317 0126 3B18     		adds	r3, r7, r0
 2318 0128 1B68     		ldr	r3, [r3]
 2319 012a 0F2B     		cmp	r3, #15
 2320 012c 18D9     		bls	.L150
 2321              		.loc 1 1700 44 discriminator 1
 2322 012e 3B18     		adds	r3, r7, r0
 2323 0130 1B68     		ldr	r3, [r3]
 2324 0132 172B     		cmp	r3, #23
 2325 0134 14D8     		bhi	.L150
1701:../drivers/fsl_flash.c ****             {
1702:../drivers/fsl_flash.c ****                 flashRegionProtectStatus[regionCounter] = (FTFx_FPROTL1_REG >> (regionCounter - 16)
 2326              		.loc 1 1702 60
 2327 0136 534B     		ldr	r3, .L161
 2328 0138 9B7C     		ldrb	r3, [r3, #18]
 2329 013a DBB2     		uxtb	r3, r3
 2330 013c 1A00     		movs	r2, r3
 2331              		.loc 1 1702 95
 2332 013e 3B18     		adds	r3, r7, r0
 2333 0140 1B68     		ldr	r3, [r3]
 2334 0142 103B     		subs	r3, r3, #16
 2335              		.loc 1 1702 77
 2336 0144 1A41     		asrs	r2, r2, r3
 2337 0146 1300     		movs	r3, r2
 2338              		.loc 1 1702 102
 2339 0148 DBB2     		uxtb	r3, r3
 2340 014a 0122     		movs	r2, #1
 2341 014c 1340     		ands	r3, r2
 2342 014e D9B2     		uxtb	r1, r3
 2343              		.loc 1 1702 57
 2344 0150 A423     		movs	r3, #164
 2345 0152 FA18     		adds	r2, r7, r3
 2346 0154 3B18     		adds	r3, r7, r0
 2347 0156 1B68     		ldr	r3, [r3]
 2348 0158 D318     		adds	r3, r2, r3
 2349 015a 0A1C     		adds	r2, r1, #0
 2350 015c 1A70     		strb	r2, [r3]
 2351 015e 1CE0     		b	.L148
 2352              	.L150:
1703:../drivers/fsl_flash.c ****             }
1704:../drivers/fsl_flash.c **** #endif /* (FSL_FEATURE_FLASH_PFLASH_PROTECTION_REGION_COUNT == 20) */
1705:../drivers/fsl_flash.c **** #endif
1706:../drivers/fsl_flash.c **** #if defined(FSL_FEATURE_FLASH_PFLASH_PROTECTION_REGION_COUNT) && (FSL_FEATURE_FLASH_PFLASH_PROTECTI
1707:../drivers/fsl_flash.c ****             else if ((regionCounter >= 24) && (regionCounter < 32))
 2353              		.loc 1 1707 21
 2354 0160 D020     		movs	r0, #208
 2355 0162 3B18     		adds	r3, r7, r0
 2356 0164 1B68     		ldr	r3, [r3]
 2357 0166 172B     		cmp	r3, #23
 2358 0168 26D9     		bls	.L151
 2359              		.loc 1 1707 44 discriminator 1
 2360 016a 3B18     		adds	r3, r7, r0
 2361 016c 1B68     		ldr	r3, [r3]
 2362 016e 1F2B     		cmp	r3, #31
 2363 0170 22D8     		bhi	.L151
1708:../drivers/fsl_flash.c ****             {
1709:../drivers/fsl_flash.c ****                 flashRegionProtectStatus[regionCounter] = (FTFx_FPROTL0_REG >> (regionCounter - 24)
 2364              		.loc 1 1709 60
 2365 0172 444B     		ldr	r3, .L161
 2366 0174 DB7C     		ldrb	r3, [r3, #19]
 2367 0176 DBB2     		uxtb	r3, r3
 2368 0178 1A00     		movs	r2, r3
 2369              		.loc 1 1709 95
 2370 017a 3B18     		adds	r3, r7, r0
 2371 017c 1B68     		ldr	r3, [r3]
 2372 017e 183B     		subs	r3, r3, #24
 2373              		.loc 1 1709 77
 2374 0180 1A41     		asrs	r2, r2, r3
 2375 0182 1300     		movs	r3, r2
 2376              		.loc 1 1709 102
 2377 0184 DBB2     		uxtb	r3, r3
 2378 0186 0122     		movs	r2, #1
 2379 0188 1340     		ands	r3, r2
 2380 018a D9B2     		uxtb	r1, r3
 2381              		.loc 1 1709 57
 2382 018c A423     		movs	r3, #164
 2383 018e FA18     		adds	r2, r7, r3
 2384 0190 3B18     		adds	r3, r7, r0
 2385 0192 1B68     		ldr	r3, [r3]
 2386 0194 D318     		adds	r3, r2, r3
 2387 0196 0A1C     		adds	r2, r1, #0
 2388 0198 1A70     		strb	r2, [r3]
 2389              	.L148:
1710:../drivers/fsl_flash.c ****             }
1711:../drivers/fsl_flash.c **** #endif
1712:../drivers/fsl_flash.c **** #if defined(FSL_FEATURE_FLASH_PFLASH_PROTECTION_REGION_COUNT) && \
1713:../drivers/fsl_flash.c ****     (FSL_FEATURE_FLASH_PFLASH_PROTECTION_REGION_COUNT == 64)
1714:../drivers/fsl_flash.c ****             else if (regionCounter < 40)
1715:../drivers/fsl_flash.c ****             {
1716:../drivers/fsl_flash.c ****                 flashRegionProtectStatus[regionCounter] = (FTFx_FPROTH3_REG >> (regionCounter - 32)
1717:../drivers/fsl_flash.c ****             }
1718:../drivers/fsl_flash.c ****             else if (regionCounter < 48)
1719:../drivers/fsl_flash.c ****             {
1720:../drivers/fsl_flash.c ****                 flashRegionProtectStatus[regionCounter] = (FTFx_FPROTH2_REG >> (regionCounter - 40)
1721:../drivers/fsl_flash.c ****             }
1722:../drivers/fsl_flash.c ****             else if (regionCounter < 56)
1723:../drivers/fsl_flash.c ****             {
1724:../drivers/fsl_flash.c ****                 flashRegionProtectStatus[regionCounter] = (FTFx_FPROTH1_REG >> (regionCounter - 48)
1725:../drivers/fsl_flash.c ****             }
1726:../drivers/fsl_flash.c ****             else if (regionCounter < 64)
1727:../drivers/fsl_flash.c ****             {
1728:../drivers/fsl_flash.c ****                 flashRegionProtectStatus[regionCounter] = (FTFx_FPROTH0_REG >> (regionCounter - 56)
1729:../drivers/fsl_flash.c ****             }
1730:../drivers/fsl_flash.c **** #endif
1731:../drivers/fsl_flash.c ****             else
1732:../drivers/fsl_flash.c ****             {
1733:../drivers/fsl_flash.c ****                 break;
1734:../drivers/fsl_flash.c ****             }
1735:../drivers/fsl_flash.c ****         }
1736:../drivers/fsl_flash.c **** 
1737:../drivers/fsl_flash.c ****         regionCounter++;
 2390              		.loc 1 1737 22
 2391 019a D022     		movs	r2, #208
 2392 019c BB18     		adds	r3, r7, r2
 2393 019e 1B68     		ldr	r3, [r3]
 2394 01a0 0133     		adds	r3, r3, #1
 2395 01a2 BA18     		adds	r2, r7, r2
 2396 01a4 1360     		str	r3, [r2]
 2397              	.L146:
1663:../drivers/fsl_flash.c ****     {
 2398              		.loc 1 1663 47
 2399 01a6 1423     		movs	r3, #20
 2400 01a8 FB18     		adds	r3, r7, r3
 2401 01aa 9B68     		ldr	r3, [r3, #8]
1663:../drivers/fsl_flash.c ****     {
 2402              		.loc 1 1663 11
 2403 01ac D022     		movs	r2, #208
 2404 01ae BA18     		adds	r2, r7, r2
 2405 01b0 1268     		ldr	r2, [r2]
 2406 01b2 9A42     		cmp	r2, r3
 2407 01b4 00D2     		bcs	.LCB1976
 2408 01b6 7EE7     		b	.L152	@long jump
 2409              	.LCB1976:
 2410              	.L151:
1738:../drivers/fsl_flash.c ****     }
1739:../drivers/fsl_flash.c **** 
1740:../drivers/fsl_flash.c ****     /* loop through the flash regions and check
1741:../drivers/fsl_flash.c ****      * desired flash address range for protection status
1742:../drivers/fsl_flash.c ****      * loop stops when it is detected that start has exceeded the endAddress */
1743:../drivers/fsl_flash.c ****     regionCounter = 0; /* make sure regionCounter is initialized to 0 first */
 2411              		.loc 1 1743 19
 2412 01b8 0023     		movs	r3, #0
 2413 01ba D022     		movs	r2, #208
 2414 01bc BA18     		adds	r2, r7, r2
 2415 01be 1360     		str	r3, [r2]
1744:../drivers/fsl_flash.c ****     regionCheckedCounter = 0;
 2416              		.loc 1 1744 26
 2417 01c0 0023     		movs	r3, #0
 2418 01c2 D422     		movs	r2, #212
 2419 01c4 BA18     		adds	r2, r7, r2
 2420 01c6 1360     		str	r3, [r2]
1745:../drivers/fsl_flash.c ****     protectStatusCounter = 0; /* make sure protectStatusCounter is initialized to 0 first */
 2421              		.loc 1 1745 26
 2422 01c8 0023     		movs	r3, #0
 2423 01ca CC22     		movs	r2, #204
 2424 01cc BA18     		adds	r2, r7, r2
 2425 01ce 1360     		str	r3, [r2]
1746:../drivers/fsl_flash.c ****     while (start < endAddress)
 2426              		.loc 1 1746 11
 2427 01d0 32E0     		b	.L153
 2428              	.L156:
1747:../drivers/fsl_flash.c ****     {
1748:../drivers/fsl_flash.c ****         /* check to see if the address falls within this protection region
1749:../drivers/fsl_flash.c ****          * Note that if the entire flash is to be checked, the last protection
1750:../drivers/fsl_flash.c ****          * region checked would consist of the last protection start address and
1751:../drivers/fsl_flash.c ****          * the start address following the end of flash */
1752:../drivers/fsl_flash.c ****         if ((start >= flashRegionAddress[regionCounter]) && (start < flashRegionAddress[regionCount
 2429              		.loc 1 1752 41
 2430 01d2 2020     		movs	r0, #32
 2431 01d4 3B18     		adds	r3, r7, r0
 2432 01d6 D021     		movs	r1, #208
 2433 01d8 7A18     		adds	r2, r7, r1
 2434 01da 1268     		ldr	r2, [r2]
 2435 01dc 9200     		lsls	r2, r2, #2
 2436 01de D358     		ldr	r3, [r2, r3]
 2437              		.loc 1 1752 12
 2438 01e0 BA68     		ldr	r2, [r7, #8]
 2439 01e2 9A42     		cmp	r2, r3
 2440 01e4 22D3     		bcc	.L154
 2441              		.loc 1 1752 103 discriminator 1
 2442 01e6 7B18     		adds	r3, r7, r1
 2443 01e8 1B68     		ldr	r3, [r3]
 2444 01ea 5A1C     		adds	r2, r3, #1
 2445              		.loc 1 1752 88 discriminator 1
 2446 01ec 3B18     		adds	r3, r7, r0
 2447 01ee 9200     		lsls	r2, r2, #2
 2448 01f0 D358     		ldr	r3, [r2, r3]
 2449              		.loc 1 1752 58 discriminator 1
 2450 01f2 BA68     		ldr	r2, [r7, #8]
 2451 01f4 9A42     		cmp	r2, r3
 2452 01f6 19D2     		bcs	.L154
1753:../drivers/fsl_flash.c ****         {
1754:../drivers/fsl_flash.c ****             /* increment regionCheckedCounter to indicate this region was checked */
1755:../drivers/fsl_flash.c ****             regionCheckedCounter++;
 2453              		.loc 1 1755 33
 2454 01f8 D422     		movs	r2, #212
 2455 01fa BB18     		adds	r3, r7, r2
 2456 01fc 1B68     		ldr	r3, [r3]
 2457 01fe 0133     		adds	r3, r3, #1
 2458 0200 BA18     		adds	r2, r7, r2
 2459 0202 1360     		str	r3, [r2]
1756:../drivers/fsl_flash.c **** 
1757:../drivers/fsl_flash.c ****             /* check the protection status of this region
1758:../drivers/fsl_flash.c ****              * Note: FPROT=1 means NOT protected, FPROT=0 means protected */
1759:../drivers/fsl_flash.c ****             if (!flashRegionProtectStatus[regionCounter])
 2460              		.loc 1 1759 42
 2461 0204 A423     		movs	r3, #164
 2462 0206 FA18     		adds	r2, r7, r3
 2463 0208 7B18     		adds	r3, r7, r1
 2464 020a 1B68     		ldr	r3, [r3]
 2465 020c D318     		adds	r3, r2, r3
 2466 020e 1B78     		ldrb	r3, [r3]
 2467              		.loc 1 1759 16
 2468 0210 002B     		cmp	r3, #0
 2469 0212 05D1     		bne	.L155
1760:../drivers/fsl_flash.c ****             {
1761:../drivers/fsl_flash.c ****                 /* increment protectStatusCounter to indicate this region is protected */
1762:../drivers/fsl_flash.c ****                 protectStatusCounter++;
 2470              		.loc 1 1762 37
 2471 0214 CC22     		movs	r2, #204
 2472 0216 BB18     		adds	r3, r7, r2
 2473 0218 1B68     		ldr	r3, [r3]
 2474 021a 0133     		adds	r3, r3, #1
 2475 021c BA18     		adds	r2, r7, r2
 2476 021e 1360     		str	r3, [r2]
 2477              	.L155:
1763:../drivers/fsl_flash.c ****             }
1764:../drivers/fsl_flash.c ****             start += flashProtectionInfo.regionSize; /* increment to an address within the next reg
 2478              		.loc 1 1764 41
 2479 0220 1423     		movs	r3, #20
 2480 0222 FB18     		adds	r3, r7, r3
 2481 0224 5B68     		ldr	r3, [r3, #4]
 2482              		.loc 1 1764 19
 2483 0226 BA68     		ldr	r2, [r7, #8]
 2484 0228 D318     		adds	r3, r2, r3
 2485 022a BB60     		str	r3, [r7, #8]
 2486              	.L154:
1765:../drivers/fsl_flash.c ****         }
1766:../drivers/fsl_flash.c ****         regionCounter++; /* increment regionCounter to check for the next flash protection region *
 2487              		.loc 1 1766 22
 2488 022c D022     		movs	r2, #208
 2489 022e BB18     		adds	r3, r7, r2
 2490 0230 1B68     		ldr	r3, [r3]
 2491 0232 0133     		adds	r3, r3, #1
 2492 0234 BA18     		adds	r2, r7, r2
 2493 0236 1360     		str	r3, [r2]
 2494              	.L153:
1746:../drivers/fsl_flash.c ****     {
 2495              		.loc 1 1746 11
 2496 0238 BA68     		ldr	r2, [r7, #8]
 2497 023a C423     		movs	r3, #196
 2498 023c FB18     		adds	r3, r7, r3
 2499 023e 1B68     		ldr	r3, [r3]
 2500 0240 9A42     		cmp	r2, r3
 2501 0242 C6D3     		bcc	.L156
1767:../drivers/fsl_flash.c ****     }
1768:../drivers/fsl_flash.c **** 
1769:../drivers/fsl_flash.c ****     /* if protectStatusCounter == 0, then no region of the desired flash region is protected */
1770:../drivers/fsl_flash.c ****     if (protectStatusCounter == 0)
 2502              		.loc 1 1770 8
 2503 0244 CC23     		movs	r3, #204
 2504 0246 FB18     		adds	r3, r7, r3
 2505 0248 1B68     		ldr	r3, [r3]
 2506 024a 002B     		cmp	r3, #0
 2507 024c 03D1     		bne	.L157
1771:../drivers/fsl_flash.c ****     {
1772:../drivers/fsl_flash.c ****         *protection_state = kFLASH_ProtectionStateUnprotected;
 2508              		.loc 1 1772 27
 2509 024e 3B68     		ldr	r3, [r7]
 2510 0250 0022     		movs	r2, #0
 2511 0252 1A70     		strb	r2, [r3]
 2512 0254 0EE0     		b	.L158
 2513              	.L157:
1773:../drivers/fsl_flash.c ****     }
1774:../drivers/fsl_flash.c ****     /* if protectStatusCounter == regionCheckedCounter, then each region checked was protected */
1775:../drivers/fsl_flash.c ****     else if (protectStatusCounter == regionCheckedCounter)
 2514              		.loc 1 1775 13
 2515 0256 CC23     		movs	r3, #204
 2516 0258 FB18     		adds	r3, r7, r3
 2517 025a 1A68     		ldr	r2, [r3]
 2518 025c D423     		movs	r3, #212
 2519 025e FB18     		adds	r3, r7, r3
 2520 0260 1B68     		ldr	r3, [r3]
 2521 0262 9A42     		cmp	r2, r3
 2522 0264 03D1     		bne	.L159
1776:../drivers/fsl_flash.c ****     {
1777:../drivers/fsl_flash.c ****         *protection_state = kFLASH_ProtectionStateProtected;
 2523              		.loc 1 1777 27
 2524 0266 3B68     		ldr	r3, [r7]
 2525 0268 0122     		movs	r2, #1
 2526 026a 1A70     		strb	r2, [r3]
 2527 026c 02E0     		b	.L158
 2528              	.L159:
1778:../drivers/fsl_flash.c ****     }
1779:../drivers/fsl_flash.c ****     /* if protectStatusCounter != regionCheckedCounter, then protection status is mixed
1780:../drivers/fsl_flash.c ****      * In other words, some regions are protected while others are unprotected */
1781:../drivers/fsl_flash.c ****     else
1782:../drivers/fsl_flash.c ****     {
1783:../drivers/fsl_flash.c ****         *protection_state = kFLASH_ProtectionStateMixed;
 2529              		.loc 1 1783 27
 2530 026e 3B68     		ldr	r3, [r7]
 2531 0270 0222     		movs	r2, #2
 2532 0272 1A70     		strb	r2, [r3]
 2533              	.L158:
1784:../drivers/fsl_flash.c ****     }
1785:../drivers/fsl_flash.c **** 
1786:../drivers/fsl_flash.c ****     return (returnCode);
 2534              		.loc 1 1786 12
 2535 0274 C823     		movs	r3, #200
 2536 0276 FB18     		adds	r3, r7, r3
 2537 0278 1B68     		ldr	r3, [r3]
 2538              	.L160:
1787:../drivers/fsl_flash.c **** }
 2539              		.loc 1 1787 1 discriminator 1
 2540 027a 1800     		movs	r0, r3
 2541 027c BD46     		mov	sp, r7
 2542 027e 36B0     		add	sp, sp, #216
 2543              		@ sp needed
 2544 0280 80BD     		pop	{r7, pc}
 2545              	.L162:
 2546 0282 C046     		.align	2
 2547              	.L161:
 2548 0284 00000240 		.word	1073872896
 2549              		.cfi_endproc
 2550              	.LFE72:
 2552              		.section	.text.FLASH_IsExecuteOnly,"ax",%progbits
 2553              		.align	1
 2554              		.global	FLASH_IsExecuteOnly
 2555              		.syntax unified
 2556              		.code	16
 2557              		.thumb_func
 2558              		.fpu softvfp
 2560              	FLASH_IsExecuteOnly:
 2561              	.LFB73:
1788:../drivers/fsl_flash.c **** 
1789:../drivers/fsl_flash.c **** status_t FLASH_IsExecuteOnly(flash_config_t *config,
1790:../drivers/fsl_flash.c ****                              uint32_t start,
1791:../drivers/fsl_flash.c ****                              uint32_t lengthInBytes,
1792:../drivers/fsl_flash.c ****                              flash_execute_only_access_state_t *access_state)
1793:../drivers/fsl_flash.c **** {
 2562              		.loc 1 1793 1
 2563              		.cfi_startproc
 2564              		@ args = 0, pretend = 0, frame = 24
 2565              		@ frame_needed = 1, uses_anonymous_args = 0
 2566 0000 80B5     		push	{r7, lr}
 2567              		.cfi_def_cfa_offset 8
 2568              		.cfi_offset 7, -8
 2569              		.cfi_offset 14, -4
 2570 0002 86B0     		sub	sp, sp, #24
 2571              		.cfi_def_cfa_offset 32
 2572 0004 00AF     		add	r7, sp, #0
 2573              		.cfi_def_cfa_register 7
 2574 0006 F860     		str	r0, [r7, #12]
 2575 0008 B960     		str	r1, [r7, #8]
 2576 000a 7A60     		str	r2, [r7, #4]
 2577 000c 3B60     		str	r3, [r7]
1794:../drivers/fsl_flash.c **** #if defined(FSL_FEATURE_FLASH_HAS_ACCESS_CONTROL) && FSL_FEATURE_FLASH_HAS_ACCESS_CONTROL
1795:../drivers/fsl_flash.c ****     flash_access_config_t flashAccessInfo; /* flash Execute-Only information */
1796:../drivers/fsl_flash.c **** #endif                                     /* FSL_FEATURE_FLASH_HAS_ACCESS_CONTROL */
1797:../drivers/fsl_flash.c ****     status_t returnCode;
1798:../drivers/fsl_flash.c **** 
1799:../drivers/fsl_flash.c ****     if (access_state == NULL)
 2578              		.loc 1 1799 8
 2579 000e 3B68     		ldr	r3, [r7]
 2580 0010 002B     		cmp	r3, #0
 2581 0012 01D1     		bne	.L164
1800:../drivers/fsl_flash.c ****     {
1801:../drivers/fsl_flash.c ****         return kStatus_FLASH_InvalidArgument;
 2582              		.loc 1 1801 16
 2583 0014 0423     		movs	r3, #4
 2584 0016 10E0     		b	.L165
 2585              	.L164:
1802:../drivers/fsl_flash.c ****     }
1803:../drivers/fsl_flash.c **** 
1804:../drivers/fsl_flash.c ****     /* Check the supplied address range. */
1805:../drivers/fsl_flash.c ****     returnCode = flash_check_range(config, start, lengthInBytes, FSL_FEATURE_FLASH_PFLASH_BLOCK_WRI
 2586              		.loc 1 1805 18
 2587 0018 7A68     		ldr	r2, [r7, #4]
 2588 001a B968     		ldr	r1, [r7, #8]
 2589 001c F868     		ldr	r0, [r7, #12]
 2590 001e 0423     		movs	r3, #4
 2591 0020 FFF7FEFF 		bl	flash_check_range
 2592 0024 0300     		movs	r3, r0
 2593 0026 7B61     		str	r3, [r7, #20]
1806:../drivers/fsl_flash.c ****     if (returnCode)
 2594              		.loc 1 1806 8
 2595 0028 7B69     		ldr	r3, [r7, #20]
 2596 002a 002B     		cmp	r3, #0
 2597 002c 01D0     		beq	.L166
1807:../drivers/fsl_flash.c ****     {
1808:../drivers/fsl_flash.c ****         return returnCode;
 2598              		.loc 1 1808 16
 2599 002e 7B69     		ldr	r3, [r7, #20]
 2600 0030 03E0     		b	.L165
 2601              	.L166:
1809:../drivers/fsl_flash.c ****     }
1810:../drivers/fsl_flash.c **** 
1811:../drivers/fsl_flash.c **** #if defined(FSL_FEATURE_FLASH_HAS_ACCESS_CONTROL) && FSL_FEATURE_FLASH_HAS_ACCESS_CONTROL
1812:../drivers/fsl_flash.c ****     /* Get necessary flash Execute-Only information. */
1813:../drivers/fsl_flash.c ****     returnCode = flash_get_access_info(config, &flashAccessInfo);
1814:../drivers/fsl_flash.c ****     if (returnCode)
1815:../drivers/fsl_flash.c ****     {
1816:../drivers/fsl_flash.c ****         return returnCode;
1817:../drivers/fsl_flash.c ****     }
1818:../drivers/fsl_flash.c **** 
1819:../drivers/fsl_flash.c ****     {
1820:../drivers/fsl_flash.c ****         uint32_t executeOnlySegmentCounter = 0;
1821:../drivers/fsl_flash.c **** 
1822:../drivers/fsl_flash.c ****         /* calculating end address */
1823:../drivers/fsl_flash.c ****         uint32_t endAddress = start + lengthInBytes;
1824:../drivers/fsl_flash.c **** 
1825:../drivers/fsl_flash.c ****         /* Aligning start address and end address */
1826:../drivers/fsl_flash.c ****         uint32_t alignedStartAddress = ALIGN_DOWN(start, flashAccessInfo.SegmentSize);
1827:../drivers/fsl_flash.c ****         uint32_t alignedEndAddress = ALIGN_UP(endAddress, flashAccessInfo.SegmentSize);
1828:../drivers/fsl_flash.c **** 
1829:../drivers/fsl_flash.c ****         uint32_t segmentIndex = 0;
1830:../drivers/fsl_flash.c ****         uint32_t maxSupportedExecuteOnlySegmentCount =
1831:../drivers/fsl_flash.c ****             (alignedEndAddress - alignedStartAddress) / flashAccessInfo.SegmentSize;
1832:../drivers/fsl_flash.c **** 
1833:../drivers/fsl_flash.c ****         while (start < endAddress)
1834:../drivers/fsl_flash.c ****         {
1835:../drivers/fsl_flash.c ****             uint32_t xacc;
1836:../drivers/fsl_flash.c **** 
1837:../drivers/fsl_flash.c ****             segmentIndex = (start - flashAccessInfo.SegmentBase) / flashAccessInfo.SegmentSize;
1838:../drivers/fsl_flash.c **** 
1839:../drivers/fsl_flash.c **** #if FLASH_SSD_IS_SECONDARY_FLASH_ENABLED && FLASH_SSD_SECONDARY_FLASH_HAS_ITS_OWN_ACCESS_REGISTER
1840:../drivers/fsl_flash.c ****             if (config->FlashMemoryIndex == (uint8_t)kFLASH_MemoryIndexSecondaryFlash)
1841:../drivers/fsl_flash.c ****             {
1842:../drivers/fsl_flash.c ****                 /* For secondary flash, The two XACCS registers allow up to 16 restricted segments 
1843:../drivers/fsl_flash.c ****                  */
1844:../drivers/fsl_flash.c ****                 if (segmentIndex < 8)
1845:../drivers/fsl_flash.c ****                 {
1846:../drivers/fsl_flash.c ****                     xacc = *(const volatile uint8_t *)&FTFx_XACCSL_REG;
1847:../drivers/fsl_flash.c ****                 }
1848:../drivers/fsl_flash.c ****                 else if (segmentIndex < flashAccessInfo.SegmentCount)
1849:../drivers/fsl_flash.c ****                 {
1850:../drivers/fsl_flash.c ****                     xacc = *(const volatile uint8_t *)&FTFx_XACCSH_REG;
1851:../drivers/fsl_flash.c ****                     segmentIndex -= 8;
1852:../drivers/fsl_flash.c ****                 }
1853:../drivers/fsl_flash.c ****                 else
1854:../drivers/fsl_flash.c ****                 {
1855:../drivers/fsl_flash.c ****                     break;
1856:../drivers/fsl_flash.c ****                 }
1857:../drivers/fsl_flash.c ****             }
1858:../drivers/fsl_flash.c ****             else
1859:../drivers/fsl_flash.c **** #endif
1860:../drivers/fsl_flash.c ****             {
1861:../drivers/fsl_flash.c ****                 /* For primary flash, The eight XACC registers allow up to 64 restricted segments o
1862:../drivers/fsl_flash.c ****                  */
1863:../drivers/fsl_flash.c ****                 if (segmentIndex < 32)
1864:../drivers/fsl_flash.c ****                 {
1865:../drivers/fsl_flash.c ****                     xacc = *(const volatile uint32_t *)&FTFx_XACCL3_REG;
1866:../drivers/fsl_flash.c ****                 }
1867:../drivers/fsl_flash.c ****                 else if (segmentIndex < flashAccessInfo.SegmentCount)
1868:../drivers/fsl_flash.c ****                 {
1869:../drivers/fsl_flash.c ****                     xacc = *(const volatile uint32_t *)&FTFx_XACCH3_REG;
1870:../drivers/fsl_flash.c ****                     segmentIndex -= 32;
1871:../drivers/fsl_flash.c ****                 }
1872:../drivers/fsl_flash.c ****                 else
1873:../drivers/fsl_flash.c ****                 {
1874:../drivers/fsl_flash.c ****                     break;
1875:../drivers/fsl_flash.c ****                 }
1876:../drivers/fsl_flash.c ****             }
1877:../drivers/fsl_flash.c **** 
1878:../drivers/fsl_flash.c ****             /* Determine if this address range is in a execute-only protection flash segment. */
1879:../drivers/fsl_flash.c ****             if ((~xacc) & (1u << segmentIndex))
1880:../drivers/fsl_flash.c ****             {
1881:../drivers/fsl_flash.c ****                 executeOnlySegmentCounter++;
1882:../drivers/fsl_flash.c ****             }
1883:../drivers/fsl_flash.c **** 
1884:../drivers/fsl_flash.c ****             start += flashAccessInfo.SegmentSize;
1885:../drivers/fsl_flash.c ****         }
1886:../drivers/fsl_flash.c **** 
1887:../drivers/fsl_flash.c ****         if (executeOnlySegmentCounter < 1u)
1888:../drivers/fsl_flash.c ****         {
1889:../drivers/fsl_flash.c ****             *access_state = kFLASH_AccessStateUnLimited;
1890:../drivers/fsl_flash.c ****         }
1891:../drivers/fsl_flash.c ****         else if (executeOnlySegmentCounter < maxSupportedExecuteOnlySegmentCount)
1892:../drivers/fsl_flash.c ****         {
1893:../drivers/fsl_flash.c ****             *access_state = kFLASH_AccessStateMixed;
1894:../drivers/fsl_flash.c ****         }
1895:../drivers/fsl_flash.c ****         else
1896:../drivers/fsl_flash.c ****         {
1897:../drivers/fsl_flash.c ****             *access_state = kFLASH_AccessStateExecuteOnly;
1898:../drivers/fsl_flash.c ****         }
1899:../drivers/fsl_flash.c ****     }
1900:../drivers/fsl_flash.c **** #else
1901:../drivers/fsl_flash.c ****     *access_state = kFLASH_AccessStateUnLimited;
 2602              		.loc 1 1901 19
 2603 0032 3B68     		ldr	r3, [r7]
 2604 0034 0022     		movs	r2, #0
 2605 0036 1A70     		strb	r2, [r3]
1902:../drivers/fsl_flash.c **** #endif /* FSL_FEATURE_FLASH_HAS_ACCESS_CONTROL */
1903:../drivers/fsl_flash.c **** 
1904:../drivers/fsl_flash.c ****     return (returnCode);
 2606              		.loc 1 1904 12
 2607 0038 7B69     		ldr	r3, [r7, #20]
 2608              	.L165:
1905:../drivers/fsl_flash.c **** }
 2609              		.loc 1 1905 1
 2610 003a 1800     		movs	r0, r3
 2611 003c BD46     		mov	sp, r7
 2612 003e 06B0     		add	sp, sp, #24
 2613              		@ sp needed
 2614 0040 80BD     		pop	{r7, pc}
 2615              		.cfi_endproc
 2616              	.LFE73:
 2618              		.section	.text.FLASH_GetProperty,"ax",%progbits
 2619              		.align	1
 2620              		.global	FLASH_GetProperty
 2621              		.syntax unified
 2622              		.code	16
 2623              		.thumb_func
 2624              		.fpu softvfp
 2626              	FLASH_GetProperty:
 2627              	.LFB74:
1906:../drivers/fsl_flash.c **** 
1907:../drivers/fsl_flash.c **** status_t FLASH_GetProperty(flash_config_t *config, flash_property_tag_t whichProperty, uint32_t *va
1908:../drivers/fsl_flash.c **** {
 2628              		.loc 1 1908 1
 2629              		.cfi_startproc
 2630              		@ args = 0, pretend = 0, frame = 16
 2631              		@ frame_needed = 1, uses_anonymous_args = 0
 2632 0000 80B5     		push	{r7, lr}
 2633              		.cfi_def_cfa_offset 8
 2634              		.cfi_offset 7, -8
 2635              		.cfi_offset 14, -4
 2636 0002 84B0     		sub	sp, sp, #16
 2637              		.cfi_def_cfa_offset 24
 2638 0004 00AF     		add	r7, sp, #0
 2639              		.cfi_def_cfa_register 7
 2640 0006 F860     		str	r0, [r7, #12]
 2641 0008 7A60     		str	r2, [r7, #4]
 2642 000a 0B23     		movs	r3, #11
 2643 000c FB18     		adds	r3, r7, r3
 2644 000e 0A1C     		adds	r2, r1, #0
 2645 0010 1A70     		strb	r2, [r3]
1909:../drivers/fsl_flash.c ****     if ((config == NULL) || (value == NULL))
 2646              		.loc 1 1909 8
 2647 0012 FB68     		ldr	r3, [r7, #12]
 2648 0014 002B     		cmp	r3, #0
 2649 0016 02D0     		beq	.L168
 2650              		.loc 1 1909 26 discriminator 1
 2651 0018 7B68     		ldr	r3, [r7, #4]
 2652 001a 002B     		cmp	r3, #0
 2653 001c 01D1     		bne	.L169
 2654              	.L168:
1910:../drivers/fsl_flash.c ****     {
1911:../drivers/fsl_flash.c ****         return kStatus_FLASH_InvalidArgument;
 2655              		.loc 1 1911 16
 2656 001e 0423     		movs	r3, #4
 2657 0020 3EE0     		b	.L170
 2658              	.L169:
1912:../drivers/fsl_flash.c ****     }
1913:../drivers/fsl_flash.c **** 
1914:../drivers/fsl_flash.c ****     switch (whichProperty)
 2659              		.loc 1 1914 5
 2660 0022 0B23     		movs	r3, #11
 2661 0024 FB18     		adds	r3, r7, r3
 2662 0026 1B78     		ldrb	r3, [r3]
 2663 0028 092B     		cmp	r3, #9
 2664 002a 36D8     		bhi	.L171
 2665 002c 9A00     		lsls	r2, r3, #2
 2666 002e 1E4B     		ldr	r3, .L184
 2667 0030 D318     		adds	r3, r2, r3
 2668 0032 1B68     		ldr	r3, [r3]
 2669 0034 9F46     		mov	pc, r3
 2670              		.section	.rodata.FLASH_GetProperty,"a",%progbits
 2671              		.align	2
 2672              	.L173:
 2673 0000 36000000 		.word	.L182
 2674 0004 40000000 		.word	.L181
 2675 0008 4A000000 		.word	.L180
 2676 000c 54000000 		.word	.L179
 2677 0010 60000000 		.word	.L178
 2678 0014 6A000000 		.word	.L177
 2679 0018 72000000 		.word	.L176
 2680 001c 7C000000 		.word	.L175
 2681 0020 86000000 		.word	.L174
 2682 0024 90000000 		.word	.L172
 2683              		.section	.text.FLASH_GetProperty
 2684              	.L182:
1915:../drivers/fsl_flash.c ****     {
1916:../drivers/fsl_flash.c ****         case kFLASH_PropertyPflashSectorSize:
1917:../drivers/fsl_flash.c ****             *value = config->PFlashSectorSize;
 2685              		.loc 1 1917 28
 2686 0036 FB68     		ldr	r3, [r7, #12]
 2687 0038 DA68     		ldr	r2, [r3, #12]
 2688              		.loc 1 1917 20
 2689 003a 7B68     		ldr	r3, [r7, #4]
 2690 003c 1A60     		str	r2, [r3]
1918:../drivers/fsl_flash.c ****             break;
 2691              		.loc 1 1918 13
 2692 003e 2EE0     		b	.L183
 2693              	.L181:
1919:../drivers/fsl_flash.c **** 
1920:../drivers/fsl_flash.c ****         case kFLASH_PropertyPflashTotalSize:
1921:../drivers/fsl_flash.c ****             *value = config->PFlashTotalSize;
 2694              		.loc 1 1921 28
 2695 0040 FB68     		ldr	r3, [r7, #12]
 2696 0042 5A68     		ldr	r2, [r3, #4]
 2697              		.loc 1 1921 20
 2698 0044 7B68     		ldr	r3, [r7, #4]
 2699 0046 1A60     		str	r2, [r3]
1922:../drivers/fsl_flash.c ****             break;
 2700              		.loc 1 1922 13
 2701 0048 29E0     		b	.L183
 2702              	.L180:
1923:../drivers/fsl_flash.c **** 
1924:../drivers/fsl_flash.c ****         case kFLASH_PropertyPflashBlockSize:
1925:../drivers/fsl_flash.c ****             *value = config->PFlashTotalSize / FSL_FEATURE_FLASH_PFLASH_BLOCK_COUNT;
 2703              		.loc 1 1925 46
 2704 004a FB68     		ldr	r3, [r7, #12]
 2705 004c 5A68     		ldr	r2, [r3, #4]
 2706              		.loc 1 1925 20
 2707 004e 7B68     		ldr	r3, [r7, #4]
 2708 0050 1A60     		str	r2, [r3]
1926:../drivers/fsl_flash.c ****             break;
 2709              		.loc 1 1926 13
 2710 0052 24E0     		b	.L183
 2711              	.L179:
1927:../drivers/fsl_flash.c **** 
1928:../drivers/fsl_flash.c ****         case kFLASH_PropertyPflashBlockCount:
1929:../drivers/fsl_flash.c ****             *value = (uint32_t)config->PFlashBlockCount;
 2712              		.loc 1 1929 38
 2713 0054 FB68     		ldr	r3, [r7, #12]
 2714 0056 1B7A     		ldrb	r3, [r3, #8]
 2715              		.loc 1 1929 22
 2716 0058 1A00     		movs	r2, r3
 2717              		.loc 1 1929 20
 2718 005a 7B68     		ldr	r3, [r7, #4]
 2719 005c 1A60     		str	r2, [r3]
1930:../drivers/fsl_flash.c ****             break;
 2720              		.loc 1 1930 13
 2721 005e 1EE0     		b	.L183
 2722              	.L178:
1931:../drivers/fsl_flash.c **** 
1932:../drivers/fsl_flash.c ****         case kFLASH_PropertyPflashBlockBaseAddr:
1933:../drivers/fsl_flash.c ****             *value = config->PFlashBlockBase;
 2723              		.loc 1 1933 28
 2724 0060 FB68     		ldr	r3, [r7, #12]
 2725 0062 1A68     		ldr	r2, [r3]
 2726              		.loc 1 1933 20
 2727 0064 7B68     		ldr	r3, [r7, #4]
 2728 0066 1A60     		str	r2, [r3]
1934:../drivers/fsl_flash.c ****             break;
 2729              		.loc 1 1934 13
 2730 0068 19E0     		b	.L183
 2731              	.L177:
1935:../drivers/fsl_flash.c **** 
1936:../drivers/fsl_flash.c ****         case kFLASH_PropertyPflashFacSupport:
1937:../drivers/fsl_flash.c **** #if defined(FSL_FEATURE_FLASH_HAS_ACCESS_CONTROL)
1938:../drivers/fsl_flash.c ****             *value = FSL_FEATURE_FLASH_HAS_ACCESS_CONTROL;
 2732              		.loc 1 1938 20
 2733 006a 7B68     		ldr	r3, [r7, #4]
 2734 006c 0022     		movs	r2, #0
 2735 006e 1A60     		str	r2, [r3]
1939:../drivers/fsl_flash.c **** #else
1940:../drivers/fsl_flash.c ****             *value = 0;
1941:../drivers/fsl_flash.c **** #endif /* FSL_FEATURE_FLASH_HAS_ACCESS_CONTROL */
1942:../drivers/fsl_flash.c ****             break;
 2736              		.loc 1 1942 13
 2737 0070 15E0     		b	.L183
 2738              	.L176:
1943:../drivers/fsl_flash.c **** 
1944:../drivers/fsl_flash.c ****         case kFLASH_PropertyPflashAccessSegmentSize:
1945:../drivers/fsl_flash.c ****             *value = config->PFlashAccessSegmentSize;
 2739              		.loc 1 1945 28
 2740 0072 FB68     		ldr	r3, [r7, #12]
 2741 0074 5A69     		ldr	r2, [r3, #20]
 2742              		.loc 1 1945 20
 2743 0076 7B68     		ldr	r3, [r7, #4]
 2744 0078 1A60     		str	r2, [r3]
1946:../drivers/fsl_flash.c ****             break;
 2745              		.loc 1 1946 13
 2746 007a 10E0     		b	.L183
 2747              	.L175:
1947:../drivers/fsl_flash.c **** 
1948:../drivers/fsl_flash.c ****         case kFLASH_PropertyPflashAccessSegmentCount:
1949:../drivers/fsl_flash.c ****             *value = config->PFlashAccessSegmentCount;
 2748              		.loc 1 1949 28
 2749 007c FB68     		ldr	r3, [r7, #12]
 2750 007e 9A69     		ldr	r2, [r3, #24]
 2751              		.loc 1 1949 20
 2752 0080 7B68     		ldr	r3, [r7, #4]
 2753 0082 1A60     		str	r2, [r3]
1950:../drivers/fsl_flash.c ****             break;
 2754              		.loc 1 1950 13
 2755 0084 0BE0     		b	.L183
 2756              	.L174:
1951:../drivers/fsl_flash.c **** 
1952:../drivers/fsl_flash.c ****         case kFLASH_PropertyFlexRamBlockBaseAddr:
1953:../drivers/fsl_flash.c ****             *value = config->FlexRAMBlockBase;
 2757              		.loc 1 1953 28
 2758 0086 FB68     		ldr	r3, [r7, #12]
 2759 0088 1A6A     		ldr	r2, [r3, #32]
 2760              		.loc 1 1953 20
 2761 008a 7B68     		ldr	r3, [r7, #4]
 2762 008c 1A60     		str	r2, [r3]
1954:../drivers/fsl_flash.c ****             break;
 2763              		.loc 1 1954 13
 2764 008e 06E0     		b	.L183
 2765              	.L172:
1955:../drivers/fsl_flash.c **** 
1956:../drivers/fsl_flash.c ****         case kFLASH_PropertyFlexRamTotalSize:
1957:../drivers/fsl_flash.c ****             *value = config->FlexRAMTotalSize;
 2766              		.loc 1 1957 28
 2767 0090 FB68     		ldr	r3, [r7, #12]
 2768 0092 5A6A     		ldr	r2, [r3, #36]
 2769              		.loc 1 1957 20
 2770 0094 7B68     		ldr	r3, [r7, #4]
 2771 0096 1A60     		str	r2, [r3]
1958:../drivers/fsl_flash.c ****             break;
 2772              		.loc 1 1958 13
 2773 0098 01E0     		b	.L183
 2774              	.L171:
1959:../drivers/fsl_flash.c **** 
1960:../drivers/fsl_flash.c **** #if FLASH_SSD_IS_FLEXNVM_ENABLED
1961:../drivers/fsl_flash.c ****         case kFLASH_PropertyDflashSectorSize:
1962:../drivers/fsl_flash.c ****             *value = FSL_FEATURE_FLASH_FLEX_NVM_BLOCK_SECTOR_SIZE;
1963:../drivers/fsl_flash.c ****             break;
1964:../drivers/fsl_flash.c ****         case kFLASH_PropertyDflashTotalSize:
1965:../drivers/fsl_flash.c ****             *value = config->DFlashTotalSize;
1966:../drivers/fsl_flash.c ****             break;
1967:../drivers/fsl_flash.c ****         case kFLASH_PropertyDflashBlockSize:
1968:../drivers/fsl_flash.c ****             *value = FSL_FEATURE_FLASH_FLEX_NVM_BLOCK_SIZE;
1969:../drivers/fsl_flash.c ****             break;
1970:../drivers/fsl_flash.c ****         case kFLASH_PropertyDflashBlockCount:
1971:../drivers/fsl_flash.c ****             *value = FSL_FEATURE_FLASH_FLEX_NVM_BLOCK_COUNT;
1972:../drivers/fsl_flash.c ****             break;
1973:../drivers/fsl_flash.c ****         case kFLASH_PropertyDflashBlockBaseAddr:
1974:../drivers/fsl_flash.c ****             *value = config->DFlashBlockBase;
1975:../drivers/fsl_flash.c ****             break;
1976:../drivers/fsl_flash.c ****         case kFLASH_PropertyEepromTotalSize:
1977:../drivers/fsl_flash.c ****             *value = config->EEpromTotalSize;
1978:../drivers/fsl_flash.c ****             break;
1979:../drivers/fsl_flash.c **** #endif /* FLASH_SSD_IS_FLEXNVM_ENABLED */
1980:../drivers/fsl_flash.c **** 
1981:../drivers/fsl_flash.c ****         default: /* catch inputs that are not recognized */
1982:../drivers/fsl_flash.c ****             return kStatus_FLASH_UnknownProperty;
 2775              		.loc 1 1982 20
 2776 009a 6A23     		movs	r3, #106
 2777 009c 00E0     		b	.L170
 2778              	.L183:
1983:../drivers/fsl_flash.c ****     }
1984:../drivers/fsl_flash.c **** 
1985:../drivers/fsl_flash.c ****     return kStatus_FLASH_Success;
 2779              		.loc 1 1985 12
 2780 009e 0023     		movs	r3, #0
 2781              	.L170:
1986:../drivers/fsl_flash.c **** }
 2782              		.loc 1 1986 1
 2783 00a0 1800     		movs	r0, r3
 2784 00a2 BD46     		mov	sp, r7
 2785 00a4 04B0     		add	sp, sp, #16
 2786              		@ sp needed
 2787 00a6 80BD     		pop	{r7, pc}
 2788              	.L185:
 2789              		.align	2
 2790              	.L184:
 2791 00a8 00000000 		.word	.L173
 2792              		.cfi_endproc
 2793              	.LFE74:
 2795              		.section	.text.FLASH_SetProperty,"ax",%progbits
 2796              		.align	1
 2797              		.global	FLASH_SetProperty
 2798              		.syntax unified
 2799              		.code	16
 2800              		.thumb_func
 2801              		.fpu softvfp
 2803              	FLASH_SetProperty:
 2804              	.LFB75:
1987:../drivers/fsl_flash.c **** 
1988:../drivers/fsl_flash.c **** status_t FLASH_SetProperty(flash_config_t *config, flash_property_tag_t whichProperty, uint32_t val
1989:../drivers/fsl_flash.c **** {
 2805              		.loc 1 1989 1
 2806              		.cfi_startproc
 2807              		@ args = 0, pretend = 0, frame = 24
 2808              		@ frame_needed = 1, uses_anonymous_args = 0
 2809 0000 80B5     		push	{r7, lr}
 2810              		.cfi_def_cfa_offset 8
 2811              		.cfi_offset 7, -8
 2812              		.cfi_offset 14, -4
 2813 0002 86B0     		sub	sp, sp, #24
 2814              		.cfi_def_cfa_offset 32
 2815 0004 00AF     		add	r7, sp, #0
 2816              		.cfi_def_cfa_register 7
 2817 0006 F860     		str	r0, [r7, #12]
 2818 0008 7A60     		str	r2, [r7, #4]
 2819 000a 0B23     		movs	r3, #11
 2820 000c FB18     		adds	r3, r7, r3
 2821 000e 0A1C     		adds	r2, r1, #0
 2822 0010 1A70     		strb	r2, [r3]
1990:../drivers/fsl_flash.c ****     status_t status = kStatus_FLASH_Success;
 2823              		.loc 1 1990 14
 2824 0012 0023     		movs	r3, #0
 2825 0014 7B61     		str	r3, [r7, #20]
1991:../drivers/fsl_flash.c **** 
1992:../drivers/fsl_flash.c ****     if (config == NULL)
 2826              		.loc 1 1992 8
 2827 0016 FB68     		ldr	r3, [r7, #12]
 2828 0018 002B     		cmp	r3, #0
 2829 001a 01D1     		bne	.L187
1993:../drivers/fsl_flash.c ****     {
1994:../drivers/fsl_flash.c ****         return kStatus_FLASH_InvalidArgument;
 2830              		.loc 1 1994 16
 2831 001c 0423     		movs	r3, #4
 2832 001e 1DE0     		b	.L188
 2833              	.L187:
1995:../drivers/fsl_flash.c ****     }
1996:../drivers/fsl_flash.c **** 
1997:../drivers/fsl_flash.c ****     switch (whichProperty)
 2834              		.loc 1 1997 5
 2835 0020 0B23     		movs	r3, #11
 2836 0022 FB18     		adds	r3, r7, r3
 2837 0024 1B78     		ldrb	r3, [r3]
 2838 0026 092B     		cmp	r3, #9
 2839 0028 02DC     		bgt	.L189
 2840 002a 002B     		cmp	r3, #0
 2841 002c 0FDA     		bge	.L190
 2842 002e 11E0     		b	.L191
 2843              	.L189:
 2844 0030 212B     		cmp	r3, #33
 2845 0032 0FD1     		bne	.L191
1998:../drivers/fsl_flash.c ****     {
1999:../drivers/fsl_flash.c **** #if FLASH_SSD_IS_SECONDARY_FLASH_ENABLED
2000:../drivers/fsl_flash.c ****         case kFLASH_PropertyFlashMemoryIndex:
2001:../drivers/fsl_flash.c ****             if ((value != (uint32_t)kFLASH_MemoryIndexPrimaryFlash) &&
2002:../drivers/fsl_flash.c ****                 (value != (uint32_t)kFLASH_MemoryIndexSecondaryFlash))
2003:../drivers/fsl_flash.c ****             {
2004:../drivers/fsl_flash.c ****                 return kStatus_FLASH_InvalidPropertyValue;
2005:../drivers/fsl_flash.c ****             }
2006:../drivers/fsl_flash.c ****             config->FlashMemoryIndex = (uint8_t)value;
2007:../drivers/fsl_flash.c ****             break;
2008:../drivers/fsl_flash.c **** #endif /* FLASH_SSD_IS_SECONDARY_FLASH_ENABLED */
2009:../drivers/fsl_flash.c **** 
2010:../drivers/fsl_flash.c ****         case kFLASH_PropertyFlashCacheControllerIndex:
2011:../drivers/fsl_flash.c ****             if ((value != (uint32_t)kFLASH_CacheControllerIndexForCore0) &&
 2846              		.loc 1 2011 16
 2847 0034 7B68     		ldr	r3, [r7, #4]
 2848 0036 002B     		cmp	r3, #0
 2849 0038 04D0     		beq	.L192
 2850              		.loc 1 2011 74 discriminator 1
 2851 003a 7B68     		ldr	r3, [r7, #4]
 2852 003c 012B     		cmp	r3, #1
 2853 003e 01D0     		beq	.L192
2012:../drivers/fsl_flash.c ****                 (value != (uint32_t)kFLASH_CacheControllerIndexForCore1))
2013:../drivers/fsl_flash.c ****             {
2014:../drivers/fsl_flash.c ****                 return kStatus_FLASH_InvalidPropertyValue;
 2854              		.loc 1 2014 24
 2855 0040 7723     		movs	r3, #119
 2856 0042 0BE0     		b	.L188
 2857              	.L192:
2015:../drivers/fsl_flash.c ****             }
2016:../drivers/fsl_flash.c ****             config->FlashCacheControllerIndex = (uint8_t)value;
 2858              		.loc 1 2016 49
 2859 0044 7B68     		ldr	r3, [r7, #4]
 2860 0046 DAB2     		uxtb	r2, r3
 2861              		.loc 1 2016 47
 2862 0048 FB68     		ldr	r3, [r7, #12]
 2863 004a 9A72     		strb	r2, [r3, #10]
2017:../drivers/fsl_flash.c ****             break;
 2864              		.loc 1 2017 13
 2865 004c 05E0     		b	.L193
 2866              	.L190:
2018:../drivers/fsl_flash.c **** 
2019:../drivers/fsl_flash.c ****         case kFLASH_PropertyPflashSectorSize:
2020:../drivers/fsl_flash.c ****         case kFLASH_PropertyPflashTotalSize:
2021:../drivers/fsl_flash.c ****         case kFLASH_PropertyPflashBlockSize:
2022:../drivers/fsl_flash.c ****         case kFLASH_PropertyPflashBlockCount:
2023:../drivers/fsl_flash.c ****         case kFLASH_PropertyPflashBlockBaseAddr:
2024:../drivers/fsl_flash.c ****         case kFLASH_PropertyPflashFacSupport:
2025:../drivers/fsl_flash.c ****         case kFLASH_PropertyPflashAccessSegmentSize:
2026:../drivers/fsl_flash.c ****         case kFLASH_PropertyPflashAccessSegmentCount:
2027:../drivers/fsl_flash.c ****         case kFLASH_PropertyFlexRamBlockBaseAddr:
2028:../drivers/fsl_flash.c ****         case kFLASH_PropertyFlexRamTotalSize:
2029:../drivers/fsl_flash.c **** #if FLASH_SSD_IS_FLEXNVM_ENABLED
2030:../drivers/fsl_flash.c ****         case kFLASH_PropertyDflashSectorSize:
2031:../drivers/fsl_flash.c ****         case kFLASH_PropertyDflashTotalSize:
2032:../drivers/fsl_flash.c ****         case kFLASH_PropertyDflashBlockSize:
2033:../drivers/fsl_flash.c ****         case kFLASH_PropertyDflashBlockCount:
2034:../drivers/fsl_flash.c ****         case kFLASH_PropertyDflashBlockBaseAddr:
2035:../drivers/fsl_flash.c ****         case kFLASH_PropertyEepromTotalSize:
2036:../drivers/fsl_flash.c **** #endif /* FLASH_SSD_IS_FLEXNVM_ENABLED */
2037:../drivers/fsl_flash.c ****             status = kStatus_FLASH_ReadOnlyProperty;
 2867              		.loc 1 2037 20
 2868 004e 7623     		movs	r3, #118
 2869 0050 7B61     		str	r3, [r7, #20]
2038:../drivers/fsl_flash.c ****             break;
 2870              		.loc 1 2038 13
 2871 0052 02E0     		b	.L193
 2872              	.L191:
2039:../drivers/fsl_flash.c ****         default: /* catch inputs that are not recognized */
2040:../drivers/fsl_flash.c ****             status = kStatus_FLASH_UnknownProperty;
 2873              		.loc 1 2040 20
 2874 0054 6A23     		movs	r3, #106
 2875 0056 7B61     		str	r3, [r7, #20]
2041:../drivers/fsl_flash.c ****             break;
 2876              		.loc 1 2041 13
 2877 0058 C046     		nop
 2878              	.L193:
2042:../drivers/fsl_flash.c ****     }
2043:../drivers/fsl_flash.c **** 
2044:../drivers/fsl_flash.c ****     return status;
 2879              		.loc 1 2044 12
 2880 005a 7B69     		ldr	r3, [r7, #20]
 2881              	.L188:
2045:../drivers/fsl_flash.c **** }
 2882              		.loc 1 2045 1
 2883 005c 1800     		movs	r0, r3
 2884 005e BD46     		mov	sp, r7
 2885 0060 06B0     		add	sp, sp, #24
 2886              		@ sp needed
 2887 0062 80BD     		pop	{r7, pc}
 2888              		.cfi_endproc
 2889              	.LFE75:
 2891              		.section	.text.FLASH_PflashSetProtection,"ax",%progbits
 2892              		.align	1
 2893              		.global	FLASH_PflashSetProtection
 2894              		.syntax unified
 2895              		.code	16
 2896              		.thumb_func
 2897              		.fpu softvfp
 2899              	FLASH_PflashSetProtection:
 2900              	.LFB76:
2046:../drivers/fsl_flash.c **** 
2047:../drivers/fsl_flash.c **** #if defined(FSL_FEATURE_FLASH_HAS_SET_FLEXRAM_FUNCTION_CMD) && FSL_FEATURE_FLASH_HAS_SET_FLEXRAM_FU
2048:../drivers/fsl_flash.c **** status_t FLASH_SetFlexramFunction(flash_config_t *config, flash_flexram_function_option_t option)
2049:../drivers/fsl_flash.c **** {
2050:../drivers/fsl_flash.c ****     status_t status;
2051:../drivers/fsl_flash.c **** 
2052:../drivers/fsl_flash.c ****     if (config == NULL)
2053:../drivers/fsl_flash.c ****     {
2054:../drivers/fsl_flash.c ****         return kStatus_FLASH_InvalidArgument;
2055:../drivers/fsl_flash.c ****     }
2056:../drivers/fsl_flash.c **** 
2057:../drivers/fsl_flash.c ****     status = flasn_check_flexram_function_option_range(option);
2058:../drivers/fsl_flash.c ****     if (status != kStatus_FLASH_Success)
2059:../drivers/fsl_flash.c ****     {
2060:../drivers/fsl_flash.c ****         return status;
2061:../drivers/fsl_flash.c ****     }
2062:../drivers/fsl_flash.c **** 
2063:../drivers/fsl_flash.c ****     /* preparing passing parameter to verify all block command */
2064:../drivers/fsl_flash.c ****     kFCCOBx[0] = BYTES_JOIN_TO_WORD_1_1_2(FTFx_SET_FLEXRAM_FUNCTION, option, 0xFFFFU);
2065:../drivers/fsl_flash.c **** 
2066:../drivers/fsl_flash.c ****     /* calling flash command sequence function to execute the command */
2067:../drivers/fsl_flash.c ****     return flash_command_sequence(config);
2068:../drivers/fsl_flash.c **** }
2069:../drivers/fsl_flash.c **** #endif /* FSL_FEATURE_FLASH_HAS_SET_FLEXRAM_FUNCTION_CMD */
2070:../drivers/fsl_flash.c **** 
2071:../drivers/fsl_flash.c **** #if defined(FSL_FEATURE_FLASH_HAS_SWAP_CONTROL_CMD) && FSL_FEATURE_FLASH_HAS_SWAP_CONTROL_CMD
2072:../drivers/fsl_flash.c **** status_t FLASH_SwapControl(flash_config_t *config,
2073:../drivers/fsl_flash.c ****                            uint32_t address,
2074:../drivers/fsl_flash.c ****                            flash_swap_control_option_t option,
2075:../drivers/fsl_flash.c ****                            flash_swap_state_config_t *returnInfo)
2076:../drivers/fsl_flash.c **** {
2077:../drivers/fsl_flash.c ****     status_t returnCode;
2078:../drivers/fsl_flash.c **** 
2079:../drivers/fsl_flash.c ****     if ((config == NULL) || (returnInfo == NULL))
2080:../drivers/fsl_flash.c ****     {
2081:../drivers/fsl_flash.c ****         return kStatus_FLASH_InvalidArgument;
2082:../drivers/fsl_flash.c ****     }
2083:../drivers/fsl_flash.c **** 
2084:../drivers/fsl_flash.c ****     if (address & (FSL_FEATURE_FLASH_PFLASH_SWAP_CONTROL_CMD_ADDRESS_ALIGMENT - 1))
2085:../drivers/fsl_flash.c ****     {
2086:../drivers/fsl_flash.c ****         return kStatus_FLASH_AlignmentError;
2087:../drivers/fsl_flash.c ****     }
2088:../drivers/fsl_flash.c **** 
2089:../drivers/fsl_flash.c ****     /* Make sure address provided is in the lower half of Program flash but not in the Flash Config
2090:../drivers/fsl_flash.c ****     if ((address >= (config->PFlashTotalSize / 2)) ||
2091:../drivers/fsl_flash.c ****         ((address >= kFLASH_ConfigAreaStart) && (address <= kFLASH_ConfigAreaEnd)))
2092:../drivers/fsl_flash.c ****     {
2093:../drivers/fsl_flash.c ****         return kStatus_FLASH_SwapIndicatorAddressError;
2094:../drivers/fsl_flash.c ****     }
2095:../drivers/fsl_flash.c **** 
2096:../drivers/fsl_flash.c ****     /* Check the option. */
2097:../drivers/fsl_flash.c ****     returnCode = flash_check_swap_control_option(option);
2098:../drivers/fsl_flash.c ****     if (returnCode)
2099:../drivers/fsl_flash.c ****     {
2100:../drivers/fsl_flash.c ****         return returnCode;
2101:../drivers/fsl_flash.c ****     }
2102:../drivers/fsl_flash.c **** 
2103:../drivers/fsl_flash.c ****     kFCCOBx[0] = BYTES_JOIN_TO_WORD_1_3(FTFx_SWAP_CONTROL, address);
2104:../drivers/fsl_flash.c ****     kFCCOBx[1] = BYTES_JOIN_TO_WORD_1_3(option, 0xFFFFFFU);
2105:../drivers/fsl_flash.c **** 
2106:../drivers/fsl_flash.c ****     returnCode = flash_command_sequence(config);
2107:../drivers/fsl_flash.c **** 
2108:../drivers/fsl_flash.c ****     returnInfo->flashSwapState = (flash_swap_state_t)FTFx_FCCOB5_REG;
2109:../drivers/fsl_flash.c ****     returnInfo->currentSwapBlockStatus = (flash_swap_block_status_t)FTFx_FCCOB6_REG;
2110:../drivers/fsl_flash.c ****     returnInfo->nextSwapBlockStatus = (flash_swap_block_status_t)FTFx_FCCOB7_REG;
2111:../drivers/fsl_flash.c **** 
2112:../drivers/fsl_flash.c ****     return returnCode;
2113:../drivers/fsl_flash.c **** }
2114:../drivers/fsl_flash.c **** #endif /* FSL_FEATURE_FLASH_HAS_SWAP_CONTROL_CMD */
2115:../drivers/fsl_flash.c **** 
2116:../drivers/fsl_flash.c **** #if defined(FSL_FEATURE_FLASH_HAS_PFLASH_BLOCK_SWAP) && FSL_FEATURE_FLASH_HAS_PFLASH_BLOCK_SWAP
2117:../drivers/fsl_flash.c **** status_t FLASH_Swap(flash_config_t *config, uint32_t address, flash_swap_function_option_t option)
2118:../drivers/fsl_flash.c **** {
2119:../drivers/fsl_flash.c ****     flash_swap_state_config_t returnInfo;
2120:../drivers/fsl_flash.c ****     status_t returnCode;
2121:../drivers/fsl_flash.c **** 
2122:../drivers/fsl_flash.c ****     memset(&returnInfo, 0xFFU, sizeof(returnInfo));
2123:../drivers/fsl_flash.c **** 
2124:../drivers/fsl_flash.c ****     do
2125:../drivers/fsl_flash.c ****     {
2126:../drivers/fsl_flash.c ****         returnCode = FLASH_SwapControl(config, address, kFLASH_SwapControlOptionReportStatus, &retu
2127:../drivers/fsl_flash.c ****         if (returnCode != kStatus_FLASH_Success)
2128:../drivers/fsl_flash.c ****         {
2129:../drivers/fsl_flash.c ****             return returnCode;
2130:../drivers/fsl_flash.c ****         }
2131:../drivers/fsl_flash.c **** 
2132:../drivers/fsl_flash.c ****         if (kFLASH_SwapFunctionOptionDisable == option)
2133:../drivers/fsl_flash.c ****         {
2134:../drivers/fsl_flash.c ****             if (returnInfo.flashSwapState == kFLASH_SwapStateDisabled)
2135:../drivers/fsl_flash.c ****             {
2136:../drivers/fsl_flash.c ****                 return kStatus_FLASH_Success;
2137:../drivers/fsl_flash.c ****             }
2138:../drivers/fsl_flash.c ****             else if (returnInfo.flashSwapState == kFLASH_SwapStateUninitialized)
2139:../drivers/fsl_flash.c ****             {
2140:../drivers/fsl_flash.c ****                 /* The swap system changed to the DISABLED state with Program flash block 0
2141:../drivers/fsl_flash.c ****                  * located at relative flash address 0x0_0000 */
2142:../drivers/fsl_flash.c ****                 returnCode = FLASH_SwapControl(config, address, kFLASH_SwapControlOptionDisableSyst
2143:../drivers/fsl_flash.c ****             }
2144:../drivers/fsl_flash.c ****             else
2145:../drivers/fsl_flash.c ****             {
2146:../drivers/fsl_flash.c ****                 /* Swap disable should be requested only when swap system is in the uninitialized s
2147:../drivers/fsl_flash.c ****                 return kStatus_FLASH_SwapSystemNotInUninitialized;
2148:../drivers/fsl_flash.c ****             }
2149:../drivers/fsl_flash.c ****         }
2150:../drivers/fsl_flash.c ****         else
2151:../drivers/fsl_flash.c ****         {
2152:../drivers/fsl_flash.c ****             /* When first swap: the initial swap state is Uninitialized, flash swap inidicator addr
2153:../drivers/fsl_flash.c ****              *    the swap procedure should be Uninitialized -> Update-Erased -> Complete.
2154:../drivers/fsl_flash.c ****              * After the first swap has been completed, the flash swap inidicator address cannot be
2155:../drivers/fsl_flash.c ****              *    unless EraseAllBlocks command is issued, the swap procedure is changed to Update 
2156:../drivers/fsl_flash.c ****              *    Complete. */
2157:../drivers/fsl_flash.c ****             switch (returnInfo.flashSwapState)
2158:../drivers/fsl_flash.c ****             {
2159:../drivers/fsl_flash.c ****                 case kFLASH_SwapStateUninitialized:
2160:../drivers/fsl_flash.c ****                     /* If current swap mode is Uninitialized, Initialize Swap to Initialized/READY 
2161:../drivers/fsl_flash.c ****                     returnCode =
2162:../drivers/fsl_flash.c ****                         FLASH_SwapControl(config, address, kFLASH_SwapControlOptionIntializeSystem,
2163:../drivers/fsl_flash.c ****                     break;
2164:../drivers/fsl_flash.c ****                 case kFLASH_SwapStateReady:
2165:../drivers/fsl_flash.c ****                     /* Validate whether the address provided to the swap system is matched to
2166:../drivers/fsl_flash.c ****                      * swap indicator address in the IFR */
2167:../drivers/fsl_flash.c ****                     returnCode = flash_validate_swap_indicator_address(config, address);
2168:../drivers/fsl_flash.c ****                     if (returnCode == kStatus_FLASH_Success)
2169:../drivers/fsl_flash.c ****                     {
2170:../drivers/fsl_flash.c ****                         /* If current swap mode is Initialized/Ready, Initialize Swap to UPDATE sta
2171:../drivers/fsl_flash.c ****                         returnCode =
2172:../drivers/fsl_flash.c ****                             FLASH_SwapControl(config, address, kFLASH_SwapControlOptionSetInUpdateS
2173:../drivers/fsl_flash.c ****                     }
2174:../drivers/fsl_flash.c ****                     break;
2175:../drivers/fsl_flash.c ****                 case kFLASH_SwapStateUpdate:
2176:../drivers/fsl_flash.c ****                     /* If current swap mode is Update, Erase indicator sector in non active block
2177:../drivers/fsl_flash.c ****                      * to proceed swap system to update-erased state */
2178:../drivers/fsl_flash.c ****                     returnCode = FLASH_Erase(config, address + (config->PFlashTotalSize >> 1),
2179:../drivers/fsl_flash.c ****                                              FSL_FEATURE_FLASH_PFLASH_SECTOR_CMD_ADDRESS_ALIGMENT, 
2180:../drivers/fsl_flash.c ****                     break;
2181:../drivers/fsl_flash.c ****                 case kFLASH_SwapStateUpdateErased:
2182:../drivers/fsl_flash.c ****                     /* If current swap mode is Update or Update-Erased, progress Swap to COMPLETE S
2183:../drivers/fsl_flash.c ****                     returnCode =
2184:../drivers/fsl_flash.c ****                         FLASH_SwapControl(config, address, kFLASH_SwapControlOptionSetInCompleteSta
2185:../drivers/fsl_flash.c ****                     break;
2186:../drivers/fsl_flash.c ****                 case kFLASH_SwapStateComplete:
2187:../drivers/fsl_flash.c ****                     break;
2188:../drivers/fsl_flash.c ****                 case kFLASH_SwapStateDisabled:
2189:../drivers/fsl_flash.c ****                     /* When swap system is in disabled state, We need to clear swap system back to 
2190:../drivers/fsl_flash.c ****                      * by issuing EraseAllBlocks command */
2191:../drivers/fsl_flash.c ****                     returnCode = kStatus_FLASH_SwapSystemNotInUninitialized;
2192:../drivers/fsl_flash.c ****                     break;
2193:../drivers/fsl_flash.c ****                 default:
2194:../drivers/fsl_flash.c ****                     returnCode = kStatus_FLASH_InvalidArgument;
2195:../drivers/fsl_flash.c ****                     break;
2196:../drivers/fsl_flash.c ****             }
2197:../drivers/fsl_flash.c ****         }
2198:../drivers/fsl_flash.c ****         if (returnCode != kStatus_FLASH_Success)
2199:../drivers/fsl_flash.c ****         {
2200:../drivers/fsl_flash.c ****             break;
2201:../drivers/fsl_flash.c ****         }
2202:../drivers/fsl_flash.c ****     } while (!((kFLASH_SwapStateComplete == returnInfo.flashSwapState) && (kFLASH_SwapFunctionOptio
2203:../drivers/fsl_flash.c **** 
2204:../drivers/fsl_flash.c ****     return returnCode;
2205:../drivers/fsl_flash.c **** }
2206:../drivers/fsl_flash.c **** #endif /* FSL_FEATURE_FLASH_HAS_PFLASH_BLOCK_SWAP */
2207:../drivers/fsl_flash.c **** 
2208:../drivers/fsl_flash.c **** #if defined(FSL_FEATURE_FLASH_HAS_PROGRAM_PARTITION_CMD) && FSL_FEATURE_FLASH_HAS_PROGRAM_PARTITION
2209:../drivers/fsl_flash.c **** status_t FLASH_ProgramPartition(flash_config_t *config,
2210:../drivers/fsl_flash.c ****                                 flash_partition_flexram_load_option_t option,
2211:../drivers/fsl_flash.c ****                                 uint32_t eepromDataSizeCode,
2212:../drivers/fsl_flash.c ****                                 uint32_t flexnvmPartitionCode)
2213:../drivers/fsl_flash.c **** {
2214:../drivers/fsl_flash.c ****     status_t returnCode;
2215:../drivers/fsl_flash.c **** 
2216:../drivers/fsl_flash.c ****     if (config == NULL)
2217:../drivers/fsl_flash.c ****     {
2218:../drivers/fsl_flash.c ****         return kStatus_FLASH_InvalidArgument;
2219:../drivers/fsl_flash.c ****     }
2220:../drivers/fsl_flash.c **** 
2221:../drivers/fsl_flash.c ****     /* eepromDataSizeCode[7:6], flexnvmPartitionCode[7:4] should be all 1'b0
2222:../drivers/fsl_flash.c ****      *  or it will cause access error. */
2223:../drivers/fsl_flash.c ****     /* eepromDataSizeCode &= 0x3FU;  */
2224:../drivers/fsl_flash.c ****     /* flexnvmPartitionCode &= 0x0FU; */
2225:../drivers/fsl_flash.c **** 
2226:../drivers/fsl_flash.c ****     /* preparing passing parameter to program the flash block */
2227:../drivers/fsl_flash.c ****     kFCCOBx[0] = BYTES_JOIN_TO_WORD_1_2_1(FTFx_PROGRAM_PARTITION, 0xFFFFU, option);
2228:../drivers/fsl_flash.c ****     kFCCOBx[1] = BYTES_JOIN_TO_WORD_1_1_2(eepromDataSizeCode, flexnvmPartitionCode, 0xFFFFU);
2229:../drivers/fsl_flash.c **** 
2230:../drivers/fsl_flash.c ****     flash_cache_clear_process(config, kFLASH_CacheClearProcessPre);
2231:../drivers/fsl_flash.c **** 
2232:../drivers/fsl_flash.c ****     /* calling flash command sequence function to execute the command */
2233:../drivers/fsl_flash.c ****     returnCode = flash_command_sequence(config);
2234:../drivers/fsl_flash.c **** 
2235:../drivers/fsl_flash.c ****     flash_cache_clear(config);
2236:../drivers/fsl_flash.c **** 
2237:../drivers/fsl_flash.c **** #if FLASH_SSD_IS_FLEXNVM_ENABLED
2238:../drivers/fsl_flash.c ****     /* Data flash IFR will be updated by program partition command during reset sequence,
2239:../drivers/fsl_flash.c ****      * so we just set reserved values for partitioned FlexNVM size here */
2240:../drivers/fsl_flash.c ****     config->EEpromTotalSize = FLEX_NVM_EEPROM_SIZE_FOR_EEESIZE_RESERVED;
2241:../drivers/fsl_flash.c ****     config->DFlashTotalSize = FLEX_NVM_DFLASH_SIZE_FOR_DEPART_RESERVED;
2242:../drivers/fsl_flash.c **** #endif
2243:../drivers/fsl_flash.c **** 
2244:../drivers/fsl_flash.c ****     return (returnCode);
2245:../drivers/fsl_flash.c **** }
2246:../drivers/fsl_flash.c **** #endif /* FSL_FEATURE_FLASH_HAS_PROGRAM_PARTITION_CMD */
2247:../drivers/fsl_flash.c **** 
2248:../drivers/fsl_flash.c **** status_t FLASH_PflashSetProtection(flash_config_t *config, pflash_protection_status_t *protectStatu
2249:../drivers/fsl_flash.c **** {
 2901              		.loc 1 2249 1
 2902              		.cfi_startproc
 2903              		@ args = 0, pretend = 0, frame = 8
 2904              		@ frame_needed = 1, uses_anonymous_args = 0
 2905 0000 80B5     		push	{r7, lr}
 2906              		.cfi_def_cfa_offset 8
 2907              		.cfi_offset 7, -8
 2908              		.cfi_offset 14, -4
 2909 0002 82B0     		sub	sp, sp, #8
 2910              		.cfi_def_cfa_offset 16
 2911 0004 00AF     		add	r7, sp, #0
 2912              		.cfi_def_cfa_register 7
 2913 0006 7860     		str	r0, [r7, #4]
 2914 0008 3960     		str	r1, [r7]
2250:../drivers/fsl_flash.c ****     if (config == NULL)
 2915              		.loc 1 2250 8
 2916 000a 7B68     		ldr	r3, [r7, #4]
 2917 000c 002B     		cmp	r3, #0
 2918 000e 01D1     		bne	.L195
2251:../drivers/fsl_flash.c ****     {
2252:../drivers/fsl_flash.c ****         return kStatus_FLASH_InvalidArgument;
 2919              		.loc 1 2252 16
 2920 0010 0423     		movs	r3, #4
 2921 0012 0CE0     		b	.L196
 2922              	.L195:
2253:../drivers/fsl_flash.c ****     }
2254:../drivers/fsl_flash.c **** 
2255:../drivers/fsl_flash.c **** #if FLASH_SSD_IS_SECONDARY_FLASH_ENABLED && FLASH_SSD_SECONDARY_FLASH_HAS_ITS_OWN_PROTECTION_REGIST
2256:../drivers/fsl_flash.c ****     if (config->FlashMemoryIndex == (uint8_t)kFLASH_MemoryIndexSecondaryFlash)
2257:../drivers/fsl_flash.c ****     {
2258:../drivers/fsl_flash.c ****         *kFPROTSL = protectStatus->valueLow32b.prots16b.protsl;
2259:../drivers/fsl_flash.c ****         if (protectStatus->valueLow32b.prots16b.protsl != *kFPROTSL)
2260:../drivers/fsl_flash.c ****         {
2261:../drivers/fsl_flash.c ****             return kStatus_FLASH_CommandFailure;
2262:../drivers/fsl_flash.c ****         }
2263:../drivers/fsl_flash.c **** 
2264:../drivers/fsl_flash.c ****         *kFPROTSH = protectStatus->valueLow32b.prots16b.protsh;
2265:../drivers/fsl_flash.c ****         if (protectStatus->valueLow32b.prots16b.protsh != *kFPROTSH)
2266:../drivers/fsl_flash.c ****         {
2267:../drivers/fsl_flash.c ****             return kStatus_FLASH_CommandFailure;
2268:../drivers/fsl_flash.c ****         }
2269:../drivers/fsl_flash.c ****     }
2270:../drivers/fsl_flash.c ****     else
2271:../drivers/fsl_flash.c **** #endif
2272:../drivers/fsl_flash.c ****     {
2273:../drivers/fsl_flash.c ****         *kFPROTL = protectStatus->valueLow32b.protl32b;
 2923              		.loc 1 2273 9
 2924 0014 084A     		ldr	r2, .L198
 2925              		.loc 1 2273 46
 2926 0016 3B68     		ldr	r3, [r7]
 2927 0018 1B68     		ldr	r3, [r3]
 2928              		.loc 1 2273 18
 2929 001a 1360     		str	r3, [r2]
2274:../drivers/fsl_flash.c ****         if (protectStatus->valueLow32b.protl32b != *kFPROTL)
 2930              		.loc 1 2274 39
 2931 001c 3B68     		ldr	r3, [r7]
 2932 001e 1A68     		ldr	r2, [r3]
 2933              		.loc 1 2274 52
 2934 0020 054B     		ldr	r3, .L198
 2935 0022 1B68     		ldr	r3, [r3]
 2936              		.loc 1 2274 12
 2937 0024 9A42     		cmp	r2, r3
 2938 0026 01D0     		beq	.L197
2275:../drivers/fsl_flash.c ****         {
2276:../drivers/fsl_flash.c ****             return kStatus_FLASH_CommandFailure;
 2939              		.loc 1 2276 20
 2940 0028 6923     		movs	r3, #105
 2941 002a 00E0     		b	.L196
 2942              	.L197:
2277:../drivers/fsl_flash.c ****         }
2278:../drivers/fsl_flash.c **** 
2279:../drivers/fsl_flash.c **** #if defined(FTFx_FPROT_HIGH_REG)
2280:../drivers/fsl_flash.c ****         *kFPROTH = protectStatus->valueHigh32b.proth32b;
2281:../drivers/fsl_flash.c ****         if (protectStatus->valueHigh32b.proth32b != *kFPROTH)
2282:../drivers/fsl_flash.c ****         {
2283:../drivers/fsl_flash.c ****             return kStatus_FLASH_CommandFailure;
2284:../drivers/fsl_flash.c ****         }
2285:../drivers/fsl_flash.c **** #endif
2286:../drivers/fsl_flash.c ****     }
2287:../drivers/fsl_flash.c **** 
2288:../drivers/fsl_flash.c ****     return kStatus_FLASH_Success;
 2943              		.loc 1 2288 12
 2944 002c 0023     		movs	r3, #0
 2945              	.L196:
2289:../drivers/fsl_flash.c **** }
 2946              		.loc 1 2289 1
 2947 002e 1800     		movs	r0, r3
 2948 0030 BD46     		mov	sp, r7
 2949 0032 02B0     		add	sp, sp, #8
 2950              		@ sp needed
 2951 0034 80BD     		pop	{r7, pc}
 2952              	.L199:
 2953 0036 C046     		.align	2
 2954              	.L198:
 2955 0038 10000240 		.word	1073872912
 2956              		.cfi_endproc
 2957              	.LFE76:
 2959              		.section	.text.FLASH_PflashGetProtection,"ax",%progbits
 2960              		.align	1
 2961              		.global	FLASH_PflashGetProtection
 2962              		.syntax unified
 2963              		.code	16
 2964              		.thumb_func
 2965              		.fpu softvfp
 2967              	FLASH_PflashGetProtection:
 2968              	.LFB77:
2290:../drivers/fsl_flash.c **** 
2291:../drivers/fsl_flash.c **** status_t FLASH_PflashGetProtection(flash_config_t *config, pflash_protection_status_t *protectStatu
2292:../drivers/fsl_flash.c **** {
 2969              		.loc 1 2292 1
 2970              		.cfi_startproc
 2971              		@ args = 0, pretend = 0, frame = 8
 2972              		@ frame_needed = 1, uses_anonymous_args = 0
 2973 0000 80B5     		push	{r7, lr}
 2974              		.cfi_def_cfa_offset 8
 2975              		.cfi_offset 7, -8
 2976              		.cfi_offset 14, -4
 2977 0002 82B0     		sub	sp, sp, #8
 2978              		.cfi_def_cfa_offset 16
 2979 0004 00AF     		add	r7, sp, #0
 2980              		.cfi_def_cfa_register 7
 2981 0006 7860     		str	r0, [r7, #4]
 2982 0008 3960     		str	r1, [r7]
2293:../drivers/fsl_flash.c ****     if ((config == NULL) || (protectStatus == NULL))
 2983              		.loc 1 2293 8
 2984 000a 7B68     		ldr	r3, [r7, #4]
 2985 000c 002B     		cmp	r3, #0
 2986 000e 02D0     		beq	.L201
 2987              		.loc 1 2293 26 discriminator 1
 2988 0010 3B68     		ldr	r3, [r7]
 2989 0012 002B     		cmp	r3, #0
 2990 0014 01D1     		bne	.L202
 2991              	.L201:
2294:../drivers/fsl_flash.c ****     {
2295:../drivers/fsl_flash.c ****         return kStatus_FLASH_InvalidArgument;
 2992              		.loc 1 2295 16
 2993 0016 0423     		movs	r3, #4
 2994 0018 04E0     		b	.L203
 2995              	.L202:
2296:../drivers/fsl_flash.c ****     }
2297:../drivers/fsl_flash.c **** 
2298:../drivers/fsl_flash.c **** #if FLASH_SSD_IS_SECONDARY_FLASH_ENABLED && FLASH_SSD_SECONDARY_FLASH_HAS_ITS_OWN_PROTECTION_REGIST
2299:../drivers/fsl_flash.c ****     if (config->FlashMemoryIndex == (uint8_t)kFLASH_MemoryIndexSecondaryFlash)
2300:../drivers/fsl_flash.c ****     {
2301:../drivers/fsl_flash.c ****         protectStatus->valueLow32b.prots16b.protsl = *kFPROTSL;
2302:../drivers/fsl_flash.c ****         protectStatus->valueLow32b.prots16b.protsh = *kFPROTSH;
2303:../drivers/fsl_flash.c ****     }
2304:../drivers/fsl_flash.c ****     else
2305:../drivers/fsl_flash.c **** #endif
2306:../drivers/fsl_flash.c ****     {
2307:../drivers/fsl_flash.c ****         protectStatus->valueLow32b.protl32b = *kFPROTL;
 2996              		.loc 1 2307 47
 2997 001a 044B     		ldr	r3, .L204
 2998 001c 1A68     		ldr	r2, [r3]
 2999              		.loc 1 2307 45
 3000 001e 3B68     		ldr	r3, [r7]
 3001 0020 1A60     		str	r2, [r3]
2308:../drivers/fsl_flash.c **** #if defined(FTFx_FPROT_HIGH_REG)
2309:../drivers/fsl_flash.c ****         protectStatus->valueHigh32b.proth32b = *kFPROTH;
2310:../drivers/fsl_flash.c **** #endif
2311:../drivers/fsl_flash.c ****     }
2312:../drivers/fsl_flash.c **** 
2313:../drivers/fsl_flash.c ****     return kStatus_FLASH_Success;
 3002              		.loc 1 2313 12
 3003 0022 0023     		movs	r3, #0
 3004              	.L203:
2314:../drivers/fsl_flash.c **** }
 3005              		.loc 1 2314 1
 3006 0024 1800     		movs	r0, r3
 3007 0026 BD46     		mov	sp, r7
 3008 0028 02B0     		add	sp, sp, #8
 3009              		@ sp needed
 3010 002a 80BD     		pop	{r7, pc}
 3011              	.L205:
 3012              		.align	2
 3013              	.L204:
 3014 002c 10000240 		.word	1073872912
 3015              		.cfi_endproc
 3016              	.LFE77:
 3018              		.section	.text.FLASH_PflashSetPrefetchSpeculation,"ax",%progbits
 3019              		.align	1
 3020              		.global	FLASH_PflashSetPrefetchSpeculation
 3021              		.syntax unified
 3022              		.code	16
 3023              		.thumb_func
 3024              		.fpu softvfp
 3026              	FLASH_PflashSetPrefetchSpeculation:
 3027              	.LFB78:
2315:../drivers/fsl_flash.c **** 
2316:../drivers/fsl_flash.c **** #if FLASH_SSD_IS_FLEXNVM_ENABLED
2317:../drivers/fsl_flash.c **** status_t FLASH_DflashSetProtection(flash_config_t *config, uint8_t protectStatus)
2318:../drivers/fsl_flash.c **** {
2319:../drivers/fsl_flash.c ****     if (config == NULL)
2320:../drivers/fsl_flash.c ****     {
2321:../drivers/fsl_flash.c ****         return kStatus_FLASH_InvalidArgument;
2322:../drivers/fsl_flash.c ****     }
2323:../drivers/fsl_flash.c **** 
2324:../drivers/fsl_flash.c ****     if ((config->DFlashTotalSize == 0) || (config->DFlashTotalSize == FLEX_NVM_DFLASH_SIZE_FOR_DEPA
2325:../drivers/fsl_flash.c ****     {
2326:../drivers/fsl_flash.c ****         return kStatus_FLASH_CommandNotSupported;
2327:../drivers/fsl_flash.c ****     }
2328:../drivers/fsl_flash.c **** 
2329:../drivers/fsl_flash.c ****     FTFx->FDPROT = protectStatus;
2330:../drivers/fsl_flash.c **** 
2331:../drivers/fsl_flash.c ****     if (FTFx->FDPROT != protectStatus)
2332:../drivers/fsl_flash.c ****     {
2333:../drivers/fsl_flash.c ****         return kStatus_FLASH_CommandFailure;
2334:../drivers/fsl_flash.c ****     }
2335:../drivers/fsl_flash.c **** 
2336:../drivers/fsl_flash.c ****     return kStatus_FLASH_Success;
2337:../drivers/fsl_flash.c **** }
2338:../drivers/fsl_flash.c **** #endif /* FLASH_SSD_IS_FLEXNVM_ENABLED */
2339:../drivers/fsl_flash.c **** 
2340:../drivers/fsl_flash.c **** #if FLASH_SSD_IS_FLEXNVM_ENABLED
2341:../drivers/fsl_flash.c **** status_t FLASH_DflashGetProtection(flash_config_t *config, uint8_t *protectStatus)
2342:../drivers/fsl_flash.c **** {
2343:../drivers/fsl_flash.c ****     if ((config == NULL) || (protectStatus == NULL))
2344:../drivers/fsl_flash.c ****     {
2345:../drivers/fsl_flash.c ****         return kStatus_FLASH_InvalidArgument;
2346:../drivers/fsl_flash.c ****     }
2347:../drivers/fsl_flash.c **** 
2348:../drivers/fsl_flash.c ****     if ((config->DFlashTotalSize == 0) || (config->DFlashTotalSize == FLEX_NVM_DFLASH_SIZE_FOR_DEPA
2349:../drivers/fsl_flash.c ****     {
2350:../drivers/fsl_flash.c ****         return kStatus_FLASH_CommandNotSupported;
2351:../drivers/fsl_flash.c ****     }
2352:../drivers/fsl_flash.c **** 
2353:../drivers/fsl_flash.c ****     *protectStatus = FTFx->FDPROT;
2354:../drivers/fsl_flash.c **** 
2355:../drivers/fsl_flash.c ****     return kStatus_FLASH_Success;
2356:../drivers/fsl_flash.c **** }
2357:../drivers/fsl_flash.c **** #endif /* FLASH_SSD_IS_FLEXNVM_ENABLED */
2358:../drivers/fsl_flash.c **** 
2359:../drivers/fsl_flash.c **** #if FLASH_SSD_IS_FLEXNVM_ENABLED
2360:../drivers/fsl_flash.c **** status_t FLASH_EepromSetProtection(flash_config_t *config, uint8_t protectStatus)
2361:../drivers/fsl_flash.c **** {
2362:../drivers/fsl_flash.c ****     if (config == NULL)
2363:../drivers/fsl_flash.c ****     {
2364:../drivers/fsl_flash.c ****         return kStatus_FLASH_InvalidArgument;
2365:../drivers/fsl_flash.c ****     }
2366:../drivers/fsl_flash.c **** 
2367:../drivers/fsl_flash.c ****     if ((config->EEpromTotalSize == 0) || (config->EEpromTotalSize == FLEX_NVM_EEPROM_SIZE_FOR_EEES
2368:../drivers/fsl_flash.c ****     {
2369:../drivers/fsl_flash.c ****         return kStatus_FLASH_CommandNotSupported;
2370:../drivers/fsl_flash.c ****     }
2371:../drivers/fsl_flash.c **** 
2372:../drivers/fsl_flash.c ****     FTFx->FEPROT = protectStatus;
2373:../drivers/fsl_flash.c **** 
2374:../drivers/fsl_flash.c ****     if (FTFx->FEPROT != protectStatus)
2375:../drivers/fsl_flash.c ****     {
2376:../drivers/fsl_flash.c ****         return kStatus_FLASH_CommandFailure;
2377:../drivers/fsl_flash.c ****     }
2378:../drivers/fsl_flash.c **** 
2379:../drivers/fsl_flash.c ****     return kStatus_FLASH_Success;
2380:../drivers/fsl_flash.c **** }
2381:../drivers/fsl_flash.c **** #endif /* FLASH_SSD_IS_FLEXNVM_ENABLED */
2382:../drivers/fsl_flash.c **** 
2383:../drivers/fsl_flash.c **** #if FLASH_SSD_IS_FLEXNVM_ENABLED
2384:../drivers/fsl_flash.c **** status_t FLASH_EepromGetProtection(flash_config_t *config, uint8_t *protectStatus)
2385:../drivers/fsl_flash.c **** {
2386:../drivers/fsl_flash.c ****     if ((config == NULL) || (protectStatus == NULL))
2387:../drivers/fsl_flash.c ****     {
2388:../drivers/fsl_flash.c ****         return kStatus_FLASH_InvalidArgument;
2389:../drivers/fsl_flash.c ****     }
2390:../drivers/fsl_flash.c **** 
2391:../drivers/fsl_flash.c ****     if ((config->EEpromTotalSize == 0) || (config->EEpromTotalSize == FLEX_NVM_EEPROM_SIZE_FOR_EEES
2392:../drivers/fsl_flash.c ****     {
2393:../drivers/fsl_flash.c ****         return kStatus_FLASH_CommandNotSupported;
2394:../drivers/fsl_flash.c ****     }
2395:../drivers/fsl_flash.c **** 
2396:../drivers/fsl_flash.c ****     *protectStatus = FTFx->FEPROT;
2397:../drivers/fsl_flash.c **** 
2398:../drivers/fsl_flash.c ****     return kStatus_FLASH_Success;
2399:../drivers/fsl_flash.c **** }
2400:../drivers/fsl_flash.c **** #endif /* FLASH_SSD_IS_FLEXNVM_ENABLED */
2401:../drivers/fsl_flash.c **** 
2402:../drivers/fsl_flash.c **** status_t FLASH_PflashSetPrefetchSpeculation(flash_prefetch_speculation_status_t *speculationStatus)
2403:../drivers/fsl_flash.c **** {
 3028              		.loc 1 2403 1
 3029              		.cfi_startproc
 3030              		@ args = 0, pretend = 0, frame = 16
 3031              		@ frame_needed = 1, uses_anonymous_args = 0
 3032 0000 80B5     		push	{r7, lr}
 3033              		.cfi_def_cfa_offset 8
 3034              		.cfi_offset 7, -8
 3035              		.cfi_offset 14, -4
 3036 0002 84B0     		sub	sp, sp, #16
 3037              		.cfi_def_cfa_offset 24
 3038 0004 00AF     		add	r7, sp, #0
 3039              		.cfi_def_cfa_register 7
 3040 0006 7860     		str	r0, [r7, #4]
 3041              	.LBB4:
2404:../drivers/fsl_flash.c **** #if FLASH_PREFETCH_SPECULATION_IS_CONTROLLED_BY_MCM
2405:../drivers/fsl_flash.c ****     {
2406:../drivers/fsl_flash.c ****         FTFx_REG32_ACCESS_TYPE regBase;
2407:../drivers/fsl_flash.c **** #if defined(MCM)
2408:../drivers/fsl_flash.c ****         regBase = (FTFx_REG32_ACCESS_TYPE)&MCM->PLACR;
 3042              		.loc 1 2408 17
 3043 0008 184B     		ldr	r3, .L212
 3044 000a FB60     		str	r3, [r7, #12]
2409:../drivers/fsl_flash.c **** #elif defined(MCM0)
2410:../drivers/fsl_flash.c ****         regBase = (FTFx_REG32_ACCESS_TYPE)&MCM0->PLACR;
2411:../drivers/fsl_flash.c **** #endif
2412:../drivers/fsl_flash.c ****         if (speculationStatus->instructionOption == kFLASH_prefetchSpeculationOptionDisable)
 3045              		.loc 1 2412 30
 3046 000c 7B68     		ldr	r3, [r7, #4]
 3047 000e 1B78     		ldrb	r3, [r3]
 3048              		.loc 1 2412 12
 3049 0010 012B     		cmp	r3, #1
 3050 0012 0DD1     		bne	.L207
2413:../drivers/fsl_flash.c ****         {
2414:../drivers/fsl_flash.c ****             if (speculationStatus->dataOption == kFLASH_prefetchSpeculationOptionEnable)
 3051              		.loc 1 2414 34
 3052 0014 7B68     		ldr	r3, [r7, #4]
 3053 0016 5B78     		ldrb	r3, [r3, #1]
 3054              		.loc 1 2414 16
 3055 0018 002B     		cmp	r3, #0
 3056 001a 01D1     		bne	.L208
2415:../drivers/fsl_flash.c ****             {
2416:../drivers/fsl_flash.c ****                 return kStatus_FLASH_InvalidSpeculationOption;
 3057              		.loc 1 2416 24
 3058 001c 7823     		movs	r3, #120
 3059 001e 20E0     		b	.L209
 3060              	.L208:
2417:../drivers/fsl_flash.c ****             }
2418:../drivers/fsl_flash.c ****             else
2419:../drivers/fsl_flash.c ****             {
2420:../drivers/fsl_flash.c ****                 *regBase |= MCM_PLACR_DFCS_MASK;
 3061              		.loc 1 2420 26
 3062 0020 FB68     		ldr	r3, [r7, #12]
 3063 0022 1B68     		ldr	r3, [r3]
 3064 0024 8022     		movs	r2, #128
 3065 0026 1202     		lsls	r2, r2, #8
 3066 0028 1A43     		orrs	r2, r3
 3067 002a FB68     		ldr	r3, [r7, #12]
 3068 002c 1A60     		str	r2, [r3]
 3069 002e 17E0     		b	.L210
 3070              	.L207:
2421:../drivers/fsl_flash.c ****             }
2422:../drivers/fsl_flash.c ****         }
2423:../drivers/fsl_flash.c ****         else
2424:../drivers/fsl_flash.c ****         {
2425:../drivers/fsl_flash.c ****             *regBase &= ~MCM_PLACR_DFCS_MASK;
 3071              		.loc 1 2425 22
 3072 0030 FB68     		ldr	r3, [r7, #12]
 3073 0032 1B68     		ldr	r3, [r3]
 3074 0034 0E4A     		ldr	r2, .L212+4
 3075 0036 1A40     		ands	r2, r3
 3076 0038 FB68     		ldr	r3, [r7, #12]
 3077 003a 1A60     		str	r2, [r3]
2426:../drivers/fsl_flash.c ****             if (speculationStatus->dataOption == kFLASH_prefetchSpeculationOptionEnable)
 3078              		.loc 1 2426 34
 3079 003c 7B68     		ldr	r3, [r7, #4]
 3080 003e 5B78     		ldrb	r3, [r3, #1]
 3081              		.loc 1 2426 16
 3082 0040 002B     		cmp	r3, #0
 3083 0042 07D1     		bne	.L211
2427:../drivers/fsl_flash.c ****             {
2428:../drivers/fsl_flash.c ****                 *regBase |= MCM_PLACR_EFDS_MASK;
 3084              		.loc 1 2428 26
 3085 0044 FB68     		ldr	r3, [r7, #12]
 3086 0046 1B68     		ldr	r3, [r3]
 3087 0048 8022     		movs	r2, #128
 3088 004a D201     		lsls	r2, r2, #7
 3089 004c 1A43     		orrs	r2, r3
 3090 004e FB68     		ldr	r3, [r7, #12]
 3091 0050 1A60     		str	r2, [r3]
 3092 0052 05E0     		b	.L210
 3093              	.L211:
2429:../drivers/fsl_flash.c ****             }
2430:../drivers/fsl_flash.c ****             else
2431:../drivers/fsl_flash.c ****             {
2432:../drivers/fsl_flash.c ****                 *regBase &= ~MCM_PLACR_EFDS_MASK;
 3094              		.loc 1 2432 26
 3095 0054 FB68     		ldr	r3, [r7, #12]
 3096 0056 1B68     		ldr	r3, [r3]
 3097 0058 064A     		ldr	r2, .L212+8
 3098 005a 1A40     		ands	r2, r3
 3099 005c FB68     		ldr	r3, [r7, #12]
 3100 005e 1A60     		str	r2, [r3]
 3101              	.L210:
 3102              	.LBE4:
2433:../drivers/fsl_flash.c ****             }
2434:../drivers/fsl_flash.c ****         }
2435:../drivers/fsl_flash.c ****     }
2436:../drivers/fsl_flash.c **** #elif FLASH_PREFETCH_SPECULATION_IS_CONTROLLED_BY_FMC
2437:../drivers/fsl_flash.c ****     {
2438:../drivers/fsl_flash.c ****         FTFx_REG32_ACCESS_TYPE regBase;
2439:../drivers/fsl_flash.c ****         uint32_t b0dpeMask, b0ipeMask;
2440:../drivers/fsl_flash.c **** #if defined(FMC_PFB01CR_B0DPE_MASK)
2441:../drivers/fsl_flash.c ****         regBase = (FTFx_REG32_ACCESS_TYPE)&FMC->PFB01CR;
2442:../drivers/fsl_flash.c ****         b0dpeMask = FMC_PFB01CR_B0DPE_MASK;
2443:../drivers/fsl_flash.c ****         b0ipeMask = FMC_PFB01CR_B0IPE_MASK;
2444:../drivers/fsl_flash.c **** #elif defined(FMC_PFB0CR_B0DPE_MASK)
2445:../drivers/fsl_flash.c ****         regBase = (FTFx_REG32_ACCESS_TYPE)&FMC->PFB0CR;
2446:../drivers/fsl_flash.c ****         b0dpeMask = FMC_PFB0CR_B0DPE_MASK;
2447:../drivers/fsl_flash.c ****         b0ipeMask = FMC_PFB0CR_B0IPE_MASK;
2448:../drivers/fsl_flash.c **** #endif
2449:../drivers/fsl_flash.c ****         if (speculationStatus->instructionOption == kFLASH_prefetchSpeculationOptionEnable)
2450:../drivers/fsl_flash.c ****         {
2451:../drivers/fsl_flash.c ****             *regBase |= b0ipeMask;
2452:../drivers/fsl_flash.c ****         }
2453:../drivers/fsl_flash.c ****         else
2454:../drivers/fsl_flash.c ****         {
2455:../drivers/fsl_flash.c ****             *regBase &= ~b0ipeMask;
2456:../drivers/fsl_flash.c ****         }
2457:../drivers/fsl_flash.c ****         if (speculationStatus->dataOption == kFLASH_prefetchSpeculationOptionEnable)
2458:../drivers/fsl_flash.c ****         {
2459:../drivers/fsl_flash.c ****             *regBase |= b0dpeMask;
2460:../drivers/fsl_flash.c ****         }
2461:../drivers/fsl_flash.c ****         else
2462:../drivers/fsl_flash.c ****         {
2463:../drivers/fsl_flash.c ****             *regBase &= ~b0dpeMask;
2464:../drivers/fsl_flash.c ****         }
2465:../drivers/fsl_flash.c **** 
2466:../drivers/fsl_flash.c **** /* Invalidate Prefetch Speculation Buffer */
2467:../drivers/fsl_flash.c **** #if defined(FMC_PFB01CR_S_INV_MASK)
2468:../drivers/fsl_flash.c ****         FMC->PFB01CR |= FMC_PFB01CR_S_INV_MASK;
2469:../drivers/fsl_flash.c **** #elif defined(FMC_PFB01CR_S_B_INV_MASK)
2470:../drivers/fsl_flash.c ****         FMC->PFB01CR |= FMC_PFB01CR_S_B_INV_MASK;
2471:../drivers/fsl_flash.c **** #elif defined(FMC_PFB0CR_S_INV_MASK)
2472:../drivers/fsl_flash.c ****         FMC->PFB0CR |= FMC_PFB0CR_S_INV_MASK;
2473:../drivers/fsl_flash.c **** #elif defined(FMC_PFB0CR_S_B_INV_MASK)
2474:../drivers/fsl_flash.c ****         FMC->PFB0CR |= FMC_PFB0CR_S_B_INV_MASK;
2475:../drivers/fsl_flash.c **** #endif
2476:../drivers/fsl_flash.c ****     }
2477:../drivers/fsl_flash.c **** #elif FLASH_PREFETCH_SPECULATION_IS_CONTROLLED_BY_MSCM
2478:../drivers/fsl_flash.c ****     {
2479:../drivers/fsl_flash.c ****         FTFx_REG32_ACCESS_TYPE regBase;
2480:../drivers/fsl_flash.c ****         uint32_t flashSpeculationMask, dataPrefetchMask;
2481:../drivers/fsl_flash.c ****         regBase = (FTFx_REG32_ACCESS_TYPE)&MSCM->OCMDR[0];
2482:../drivers/fsl_flash.c ****         flashSpeculationMask = MSCM_OCMDR_OCMC1_DFCS_MASK;
2483:../drivers/fsl_flash.c ****         dataPrefetchMask = MSCM_OCMDR_OCMC1_DFDS_MASK;
2484:../drivers/fsl_flash.c **** 
2485:../drivers/fsl_flash.c ****         if (speculationStatus->instructionOption == kFLASH_prefetchSpeculationOptionDisable)
2486:../drivers/fsl_flash.c ****         {
2487:../drivers/fsl_flash.c ****             if (speculationStatus->dataOption == kFLASH_prefetchSpeculationOptionEnable)
2488:../drivers/fsl_flash.c ****             {
2489:../drivers/fsl_flash.c ****                 return kStatus_FLASH_InvalidSpeculationOption;
2490:../drivers/fsl_flash.c ****             }
2491:../drivers/fsl_flash.c ****             else
2492:../drivers/fsl_flash.c ****             {
2493:../drivers/fsl_flash.c ****                 *regBase |= flashSpeculationMask;
2494:../drivers/fsl_flash.c ****             }
2495:../drivers/fsl_flash.c ****         }
2496:../drivers/fsl_flash.c ****         else
2497:../drivers/fsl_flash.c ****         {
2498:../drivers/fsl_flash.c ****             *regBase &= ~flashSpeculationMask;
2499:../drivers/fsl_flash.c ****             if (speculationStatus->dataOption == kFLASH_prefetchSpeculationOptionEnable)
2500:../drivers/fsl_flash.c ****             {
2501:../drivers/fsl_flash.c ****                 *regBase &= ~dataPrefetchMask;
2502:../drivers/fsl_flash.c ****             }
2503:../drivers/fsl_flash.c ****             else
2504:../drivers/fsl_flash.c ****             {
2505:../drivers/fsl_flash.c ****                 *regBase |= dataPrefetchMask;
2506:../drivers/fsl_flash.c ****             }
2507:../drivers/fsl_flash.c ****         }
2508:../drivers/fsl_flash.c ****     }
2509:../drivers/fsl_flash.c **** #endif /* FSL_FEATURE_FTFx_MCM_FLASH_CACHE_CONTROLS */
2510:../drivers/fsl_flash.c **** 
2511:../drivers/fsl_flash.c ****     return kStatus_FLASH_Success;
 3103              		.loc 1 2511 12
 3104 0060 0023     		movs	r3, #0
 3105              	.L209:
2512:../drivers/fsl_flash.c **** }
 3106              		.loc 1 2512 1
 3107 0062 1800     		movs	r0, r3
 3108 0064 BD46     		mov	sp, r7
 3109 0066 04B0     		add	sp, sp, #16
 3110              		@ sp needed
 3111 0068 80BD     		pop	{r7, pc}
 3112              	.L213:
 3113 006a C046     		.align	2
 3114              	.L212:
 3115 006c 0C3000F0 		.word	-268423156
 3116 0070 FF7FFFFF 		.word	-32769
 3117 0074 FFBFFFFF 		.word	-16385
 3118              		.cfi_endproc
 3119              	.LFE78:
 3121              		.section	.text.FLASH_PflashGetPrefetchSpeculation,"ax",%progbits
 3122              		.align	1
 3123              		.global	FLASH_PflashGetPrefetchSpeculation
 3124              		.syntax unified
 3125              		.code	16
 3126              		.thumb_func
 3127              		.fpu softvfp
 3129              	FLASH_PflashGetPrefetchSpeculation:
 3130              	.LFB79:
2513:../drivers/fsl_flash.c **** 
2514:../drivers/fsl_flash.c **** status_t FLASH_PflashGetPrefetchSpeculation(flash_prefetch_speculation_status_t *speculationStatus)
2515:../drivers/fsl_flash.c **** {
 3131              		.loc 1 2515 1
 3132              		.cfi_startproc
 3133              		@ args = 0, pretend = 0, frame = 16
 3134              		@ frame_needed = 1, uses_anonymous_args = 0
 3135 0000 80B5     		push	{r7, lr}
 3136              		.cfi_def_cfa_offset 8
 3137              		.cfi_offset 7, -8
 3138              		.cfi_offset 14, -4
 3139 0002 84B0     		sub	sp, sp, #16
 3140              		.cfi_def_cfa_offset 24
 3141 0004 00AF     		add	r7, sp, #0
 3142              		.cfi_def_cfa_register 7
 3143 0006 7860     		str	r0, [r7, #4]
2516:../drivers/fsl_flash.c ****     memset(speculationStatus, 0, sizeof(flash_prefetch_speculation_status_t));
 3144              		.loc 1 2516 5
 3145 0008 7B68     		ldr	r3, [r7, #4]
 3146 000a 0222     		movs	r2, #2
 3147 000c 0021     		movs	r1, #0
 3148 000e 1800     		movs	r0, r3
 3149 0010 FFF7FEFF 		bl	memset
2517:../drivers/fsl_flash.c **** 
2518:../drivers/fsl_flash.c ****     /* Assuming that all speculation options are enabled. */
2519:../drivers/fsl_flash.c ****     speculationStatus->instructionOption = kFLASH_prefetchSpeculationOptionEnable;
 3150              		.loc 1 2519 42
 3151 0014 7B68     		ldr	r3, [r7, #4]
 3152 0016 0022     		movs	r2, #0
 3153 0018 1A70     		strb	r2, [r3]
2520:../drivers/fsl_flash.c ****     speculationStatus->dataOption = kFLASH_prefetchSpeculationOptionEnable;
 3154              		.loc 1 2520 35
 3155 001a 7B68     		ldr	r3, [r7, #4]
 3156 001c 0022     		movs	r2, #0
 3157 001e 5A70     		strb	r2, [r3, #1]
 3158              	.LBB5:
2521:../drivers/fsl_flash.c **** 
2522:../drivers/fsl_flash.c **** #if FLASH_PREFETCH_SPECULATION_IS_CONTROLLED_BY_MCM
2523:../drivers/fsl_flash.c ****     {
2524:../drivers/fsl_flash.c ****         uint32_t value;
2525:../drivers/fsl_flash.c **** #if defined(MCM)
2526:../drivers/fsl_flash.c ****         value = MCM->PLACR;
 3159              		.loc 1 2526 20
 3160 0020 0D4B     		ldr	r3, .L218
 3161              		.loc 1 2526 15
 3162 0022 DB68     		ldr	r3, [r3, #12]
 3163 0024 FB60     		str	r3, [r7, #12]
2527:../drivers/fsl_flash.c **** #elif defined(MCM0)
2528:../drivers/fsl_flash.c ****         value = MCM0->PLACR;
2529:../drivers/fsl_flash.c **** #endif
2530:../drivers/fsl_flash.c ****         if (value & MCM_PLACR_DFCS_MASK)
 3164              		.loc 1 2530 19
 3165 0026 FA68     		ldr	r2, [r7, #12]
 3166 0028 8023     		movs	r3, #128
 3167 002a 1B02     		lsls	r3, r3, #8
 3168 002c 1340     		ands	r3, r2
 3169              		.loc 1 2530 12
 3170 002e 06D0     		beq	.L215
2531:../drivers/fsl_flash.c ****         {
2532:../drivers/fsl_flash.c ****             /* Speculation buffer is off. */
2533:../drivers/fsl_flash.c ****             speculationStatus->instructionOption = kFLASH_prefetchSpeculationOptionDisable;
 3171              		.loc 1 2533 50
 3172 0030 7B68     		ldr	r3, [r7, #4]
 3173 0032 0122     		movs	r2, #1
 3174 0034 1A70     		strb	r2, [r3]
2534:../drivers/fsl_flash.c ****             speculationStatus->dataOption = kFLASH_prefetchSpeculationOptionDisable;
 3175              		.loc 1 2534 43
 3176 0036 7B68     		ldr	r3, [r7, #4]
 3177 0038 0122     		movs	r2, #1
 3178 003a 5A70     		strb	r2, [r3, #1]
 3179 003c 07E0     		b	.L216
 3180              	.L215:
2535:../drivers/fsl_flash.c ****         }
2536:../drivers/fsl_flash.c ****         else
2537:../drivers/fsl_flash.c ****         {
2538:../drivers/fsl_flash.c ****             /* Speculation buffer is on for instruction. */
2539:../drivers/fsl_flash.c ****             if (!(value & MCM_PLACR_EFDS_MASK))
 3181              		.loc 1 2539 25
 3182 003e FA68     		ldr	r2, [r7, #12]
 3183 0040 8023     		movs	r3, #128
 3184 0042 DB01     		lsls	r3, r3, #7
 3185 0044 1340     		ands	r3, r2
 3186              		.loc 1 2539 16
 3187 0046 02D1     		bne	.L216
2540:../drivers/fsl_flash.c ****             {
2541:../drivers/fsl_flash.c ****                 /* Speculation buffer is off for data. */
2542:../drivers/fsl_flash.c ****                 speculationStatus->dataOption = kFLASH_prefetchSpeculationOptionDisable;
 3188              		.loc 1 2542 47
 3189 0048 7B68     		ldr	r3, [r7, #4]
 3190 004a 0122     		movs	r2, #1
 3191 004c 5A70     		strb	r2, [r3, #1]
 3192              	.L216:
 3193              	.LBE5:
2543:../drivers/fsl_flash.c ****             }
2544:../drivers/fsl_flash.c ****         }
2545:../drivers/fsl_flash.c ****     }
2546:../drivers/fsl_flash.c **** #elif FLASH_PREFETCH_SPECULATION_IS_CONTROLLED_BY_FMC
2547:../drivers/fsl_flash.c ****     {
2548:../drivers/fsl_flash.c ****         uint32_t value;
2549:../drivers/fsl_flash.c ****         uint32_t b0dpeMask, b0ipeMask;
2550:../drivers/fsl_flash.c **** #if defined(FMC_PFB01CR_B0DPE_MASK)
2551:../drivers/fsl_flash.c ****         value = FMC->PFB01CR;
2552:../drivers/fsl_flash.c ****         b0dpeMask = FMC_PFB01CR_B0DPE_MASK;
2553:../drivers/fsl_flash.c ****         b0ipeMask = FMC_PFB01CR_B0IPE_MASK;
2554:../drivers/fsl_flash.c **** #elif defined(FMC_PFB0CR_B0DPE_MASK)
2555:../drivers/fsl_flash.c ****         value = FMC->PFB0CR;
2556:../drivers/fsl_flash.c ****         b0dpeMask = FMC_PFB0CR_B0DPE_MASK;
2557:../drivers/fsl_flash.c ****         b0ipeMask = FMC_PFB0CR_B0IPE_MASK;
2558:../drivers/fsl_flash.c **** #endif
2559:../drivers/fsl_flash.c ****         if (!(value & b0dpeMask))
2560:../drivers/fsl_flash.c ****         {
2561:../drivers/fsl_flash.c ****             /* Do not prefetch in response to data references. */
2562:../drivers/fsl_flash.c ****             speculationStatus->dataOption = kFLASH_prefetchSpeculationOptionDisable;
2563:../drivers/fsl_flash.c ****         }
2564:../drivers/fsl_flash.c ****         if (!(value & b0ipeMask))
2565:../drivers/fsl_flash.c ****         {
2566:../drivers/fsl_flash.c ****             /* Do not prefetch in response to instruction fetches. */
2567:../drivers/fsl_flash.c ****             speculationStatus->instructionOption = kFLASH_prefetchSpeculationOptionDisable;
2568:../drivers/fsl_flash.c ****         }
2569:../drivers/fsl_flash.c ****     }
2570:../drivers/fsl_flash.c **** #elif FLASH_PREFETCH_SPECULATION_IS_CONTROLLED_BY_MSCM
2571:../drivers/fsl_flash.c ****     {
2572:../drivers/fsl_flash.c ****         uint32_t value;
2573:../drivers/fsl_flash.c ****         uint32_t flashSpeculationMask, dataPrefetchMask;
2574:../drivers/fsl_flash.c ****         value = MSCM->OCMDR[0];
2575:../drivers/fsl_flash.c ****         flashSpeculationMask = MSCM_OCMDR_OCMC1_DFCS_MASK;
2576:../drivers/fsl_flash.c ****         dataPrefetchMask = MSCM_OCMDR_OCMC1_DFDS_MASK;
2577:../drivers/fsl_flash.c **** 
2578:../drivers/fsl_flash.c ****         if (value & flashSpeculationMask)
2579:../drivers/fsl_flash.c ****         {
2580:../drivers/fsl_flash.c ****             /* Speculation buffer is off. */
2581:../drivers/fsl_flash.c ****             speculationStatus->instructionOption = kFLASH_prefetchSpeculationOptionDisable;
2582:../drivers/fsl_flash.c ****             speculationStatus->dataOption = kFLASH_prefetchSpeculationOptionDisable;
2583:../drivers/fsl_flash.c ****         }
2584:../drivers/fsl_flash.c ****         else
2585:../drivers/fsl_flash.c ****         {
2586:../drivers/fsl_flash.c ****             /* Speculation buffer is on for instruction. */
2587:../drivers/fsl_flash.c ****             if (value & dataPrefetchMask)
2588:../drivers/fsl_flash.c ****             {
2589:../drivers/fsl_flash.c ****                 /* Speculation buffer is off for data. */
2590:../drivers/fsl_flash.c ****                 speculationStatus->dataOption = kFLASH_prefetchSpeculationOptionDisable;
2591:../drivers/fsl_flash.c ****             }
2592:../drivers/fsl_flash.c ****         }
2593:../drivers/fsl_flash.c ****     }
2594:../drivers/fsl_flash.c **** #endif
2595:../drivers/fsl_flash.c **** 
2596:../drivers/fsl_flash.c ****     return kStatus_FLASH_Success;
 3194              		.loc 1 2596 12
 3195 004e 0023     		movs	r3, #0
2597:../drivers/fsl_flash.c **** }
 3196              		.loc 1 2597 1
 3197 0050 1800     		movs	r0, r3
 3198 0052 BD46     		mov	sp, r7
 3199 0054 04B0     		add	sp, sp, #16
 3200              		@ sp needed
 3201 0056 80BD     		pop	{r7, pc}
 3202              	.L219:
 3203              		.align	2
 3204              	.L218:
 3205 0058 003000F0 		.word	-268423168
 3206              		.cfi_endproc
 3207              	.LFE79:
 3209              		.section	.text.copy_flash_run_command,"ax",%progbits
 3210              		.align	1
 3211              		.syntax unified
 3212              		.code	16
 3213              		.thumb_func
 3214              		.fpu softvfp
 3216              	copy_flash_run_command:
 3217              	.LFB80:
2598:../drivers/fsl_flash.c **** 
2599:../drivers/fsl_flash.c **** #if FLASH_DRIVER_IS_FLASH_RESIDENT
2600:../drivers/fsl_flash.c **** /*!
2601:../drivers/fsl_flash.c ****  * @brief Copy PIC of flash_run_command() to RAM
2602:../drivers/fsl_flash.c ****  */
2603:../drivers/fsl_flash.c **** static void copy_flash_run_command(uint32_t *flashRunCommand)
2604:../drivers/fsl_flash.c **** {
 3218              		.loc 1 2604 1
 3219              		.cfi_startproc
 3220              		@ args = 0, pretend = 0, frame = 8
 3221              		@ frame_needed = 1, uses_anonymous_args = 0
 3222 0000 80B5     		push	{r7, lr}
 3223              		.cfi_def_cfa_offset 8
 3224              		.cfi_offset 7, -8
 3225              		.cfi_offset 14, -4
 3226 0002 82B0     		sub	sp, sp, #8
 3227              		.cfi_def_cfa_offset 16
 3228 0004 00AF     		add	r7, sp, #0
 3229              		.cfi_def_cfa_register 7
 3230 0006 7860     		str	r0, [r7, #4]
2605:../drivers/fsl_flash.c ****     assert(sizeof(s_flashRunCommandFunctionCode) <= (kFLASH_ExecuteInRamFunctionMaxSizeInWords * 4)
2606:../drivers/fsl_flash.c **** 
2607:../drivers/fsl_flash.c ****     /* Since the value of ARM function pointer is always odd, but the real start address
2608:../drivers/fsl_flash.c ****      * of function memory should be even, that's why +1 operation exist. */
2609:../drivers/fsl_flash.c ****     memcpy((void *)flashRunCommand, (void *)s_flashRunCommandFunctionCode, sizeof(s_flashRunCommand
 3231              		.loc 1 2609 5
 3232 0008 0749     		ldr	r1, .L221
 3233 000a 7B68     		ldr	r3, [r7, #4]
 3234 000c 0C22     		movs	r2, #12
 3235 000e 1800     		movs	r0, r3
 3236 0010 FFF7FEFF 		bl	memcpy
2610:../drivers/fsl_flash.c ****     callFlashRunCommand = (void (*)(FTFx_REG8_ACCESS_TYPE ftfx_fstat))((uint32_t)flashRunCommand + 
 3237              		.loc 1 2610 72
 3238 0014 7B68     		ldr	r3, [r7, #4]
 3239              		.loc 1 2610 98
 3240 0016 0133     		adds	r3, r3, #1
 3241              		.loc 1 2610 27
 3242 0018 1A00     		movs	r2, r3
 3243              		.loc 1 2610 25
 3244 001a 044B     		ldr	r3, .L221+4
 3245 001c 1A60     		str	r2, [r3]
2611:../drivers/fsl_flash.c **** }
 3246              		.loc 1 2611 1
 3247 001e C046     		nop
 3248 0020 BD46     		mov	sp, r7
 3249 0022 02B0     		add	sp, sp, #8
 3250              		@ sp needed
 3251 0024 80BD     		pop	{r7, pc}
 3252              	.L222:
 3253 0026 C046     		.align	2
 3254              	.L221:
 3255 0028 00000000 		.word	s_flashRunCommandFunctionCode
 3256 002c 00000000 		.word	callFlashRunCommand
 3257              		.cfi_endproc
 3258              	.LFE80:
 3260              		.section	.text.flash_command_sequence,"ax",%progbits
 3261              		.align	1
 3262              		.syntax unified
 3263              		.code	16
 3264              		.thumb_func
 3265              		.fpu softvfp
 3267              	flash_command_sequence:
 3268              	.LFB81:
2612:../drivers/fsl_flash.c **** #endif /* FLASH_DRIVER_IS_FLASH_RESIDENT */
2613:../drivers/fsl_flash.c **** 
2614:../drivers/fsl_flash.c **** /*!
2615:../drivers/fsl_flash.c ****  * @brief Flash Command Sequence
2616:../drivers/fsl_flash.c ****  *
2617:../drivers/fsl_flash.c ****  * This function is used to perform the command write sequence to the flash.
2618:../drivers/fsl_flash.c ****  *
2619:../drivers/fsl_flash.c ****  * @param driver Pointer to storage for the driver runtime state.
2620:../drivers/fsl_flash.c ****  * @return An error code or kStatus_FLASH_Success
2621:../drivers/fsl_flash.c ****  */
2622:../drivers/fsl_flash.c **** static status_t flash_command_sequence(flash_config_t *config)
2623:../drivers/fsl_flash.c **** {
 3269              		.loc 1 2623 1
 3270              		.cfi_startproc
 3271              		@ args = 0, pretend = 0, frame = 16
 3272              		@ frame_needed = 1, uses_anonymous_args = 0
 3273 0000 80B5     		push	{r7, lr}
 3274              		.cfi_def_cfa_offset 8
 3275              		.cfi_offset 7, -8
 3276              		.cfi_offset 14, -4
 3277 0002 84B0     		sub	sp, sp, #16
 3278              		.cfi_def_cfa_offset 24
 3279 0004 00AF     		add	r7, sp, #0
 3280              		.cfi_def_cfa_register 7
 3281 0006 7860     		str	r0, [r7, #4]
2624:../drivers/fsl_flash.c ****     uint8_t registerValue;
2625:../drivers/fsl_flash.c **** 
2626:../drivers/fsl_flash.c **** #if FLASH_DRIVER_IS_FLASH_RESIDENT
2627:../drivers/fsl_flash.c ****     /* clear RDCOLERR & ACCERR & FPVIOL flag in flash status register */
2628:../drivers/fsl_flash.c ****     FTFx->FSTAT = FTFx_FSTAT_RDCOLERR_MASK | FTFx_FSTAT_ACCERR_MASK | FTFx_FSTAT_FPVIOL_MASK;
 3282              		.loc 1 2628 9
 3283 0008 194B     		ldr	r3, .L229
 3284              		.loc 1 2628 17
 3285 000a 7022     		movs	r2, #112
 3286 000c 1A70     		strb	r2, [r3]
2629:../drivers/fsl_flash.c **** 
2630:../drivers/fsl_flash.c ****     status_t returnCode = flash_check_execute_in_ram_function_info(config);
 3287              		.loc 1 2630 27
 3288 000e 7B68     		ldr	r3, [r7, #4]
 3289 0010 1800     		movs	r0, r3
 3290 0012 FFF7FEFF 		bl	flash_check_execute_in_ram_function_info
 3291 0016 0300     		movs	r3, r0
 3292 0018 FB60     		str	r3, [r7, #12]
2631:../drivers/fsl_flash.c ****     if (kStatus_FLASH_Success != returnCode)
 3293              		.loc 1 2631 8
 3294 001a FB68     		ldr	r3, [r7, #12]
 3295 001c 002B     		cmp	r3, #0
 3296 001e 01D0     		beq	.L224
2632:../drivers/fsl_flash.c ****     {
2633:../drivers/fsl_flash.c ****         return returnCode;
 3297              		.loc 1 2633 16
 3298 0020 FB68     		ldr	r3, [r7, #12]
 3299 0022 21E0     		b	.L225
 3300              	.L224:
2634:../drivers/fsl_flash.c ****     }
2635:../drivers/fsl_flash.c **** 
2636:../drivers/fsl_flash.c ****     /* We pass the ftfx_fstat address as a parameter to flash_run_comamnd() instead of using
2637:../drivers/fsl_flash.c ****      * pre-processed MICRO sentences or operating global variable in flash_run_comamnd()
2638:../drivers/fsl_flash.c ****      * to make sure that flash_run_command() will be compiled into position-independent code (PIC).
2639:../drivers/fsl_flash.c ****     callFlashRunCommand((FTFx_REG8_ACCESS_TYPE)(&FTFx->FSTAT));
 3301              		.loc 1 2639 5
 3302 0024 134B     		ldr	r3, .L229+4
 3303 0026 1B68     		ldr	r3, [r3]
 3304 0028 114A     		ldr	r2, .L229
 3305 002a 1000     		movs	r0, r2
 3306 002c 9847     		blx	r3
 3307              	.LVL5:
2640:../drivers/fsl_flash.c **** #else
2641:../drivers/fsl_flash.c ****     /* clear RDCOLERR & ACCERR & FPVIOL flag in flash status register */
2642:../drivers/fsl_flash.c ****     FTFx->FSTAT = FTFx_FSTAT_RDCOLERR_MASK | FTFx_FSTAT_ACCERR_MASK | FTFx_FSTAT_FPVIOL_MASK;
2643:../drivers/fsl_flash.c **** 
2644:../drivers/fsl_flash.c ****     /* clear CCIF bit */
2645:../drivers/fsl_flash.c ****     FTFx->FSTAT = FTFx_FSTAT_CCIF_MASK;
2646:../drivers/fsl_flash.c **** 
2647:../drivers/fsl_flash.c ****     /* Check CCIF bit of the flash status register, wait till it is set.
2648:../drivers/fsl_flash.c ****      * IP team indicates that this loop will always complete. */
2649:../drivers/fsl_flash.c ****     while (!(FTFx->FSTAT & FTFx_FSTAT_CCIF_MASK))
2650:../drivers/fsl_flash.c ****     {
2651:../drivers/fsl_flash.c ****     }
2652:../drivers/fsl_flash.c **** #endif /* FLASH_DRIVER_IS_FLASH_RESIDENT */
2653:../drivers/fsl_flash.c **** 
2654:../drivers/fsl_flash.c ****     /* Check error bits */
2655:../drivers/fsl_flash.c ****     /* Get flash status register value */
2656:../drivers/fsl_flash.c ****     registerValue = FTFx->FSTAT;
 3308              		.loc 1 2656 25
 3309 002e 104A     		ldr	r2, .L229
 3310              		.loc 1 2656 19
 3311 0030 0B21     		movs	r1, #11
 3312 0032 7B18     		adds	r3, r7, r1
 3313 0034 1278     		ldrb	r2, [r2]
 3314 0036 1A70     		strb	r2, [r3]
2657:../drivers/fsl_flash.c **** 
2658:../drivers/fsl_flash.c ****     /* checking access error */
2659:../drivers/fsl_flash.c ****     if (registerValue & FTFx_FSTAT_ACCERR_MASK)
 3315              		.loc 1 2659 23
 3316 0038 7B18     		adds	r3, r7, r1
 3317 003a 1B78     		ldrb	r3, [r3]
 3318 003c 2022     		movs	r2, #32
 3319 003e 1340     		ands	r3, r2
 3320              		.loc 1 2659 8
 3321 0040 01D0     		beq	.L226
2660:../drivers/fsl_flash.c ****     {
2661:../drivers/fsl_flash.c ****         return kStatus_FLASH_AccessError;
 3322              		.loc 1 2661 16
 3323 0042 6723     		movs	r3, #103
 3324 0044 10E0     		b	.L225
 3325              	.L226:
2662:../drivers/fsl_flash.c ****     }
2663:../drivers/fsl_flash.c ****     /* checking protection error */
2664:../drivers/fsl_flash.c ****     else if (registerValue & FTFx_FSTAT_FPVIOL_MASK)
 3326              		.loc 1 2664 28
 3327 0046 0B23     		movs	r3, #11
 3328 0048 FB18     		adds	r3, r7, r3
 3329 004a 1B78     		ldrb	r3, [r3]
 3330 004c 1022     		movs	r2, #16
 3331 004e 1340     		ands	r3, r2
 3332              		.loc 1 2664 13
 3333 0050 01D0     		beq	.L227
2665:../drivers/fsl_flash.c ****     {
2666:../drivers/fsl_flash.c ****         return kStatus_FLASH_ProtectionViolation;
 3334              		.loc 1 2666 16
 3335 0052 6823     		movs	r3, #104
 3336 0054 08E0     		b	.L225
 3337              	.L227:
2667:../drivers/fsl_flash.c ****     }
2668:../drivers/fsl_flash.c ****     /* checking MGSTAT0 non-correctable error */
2669:../drivers/fsl_flash.c ****     else if (registerValue & FTFx_FSTAT_MGSTAT0_MASK)
 3338              		.loc 1 2669 28
 3339 0056 0B23     		movs	r3, #11
 3340 0058 FB18     		adds	r3, r7, r3
 3341 005a 1B78     		ldrb	r3, [r3]
 3342 005c 0122     		movs	r2, #1
 3343 005e 1340     		ands	r3, r2
 3344              		.loc 1 2669 13
 3345 0060 01D0     		beq	.L228
2670:../drivers/fsl_flash.c ****     {
2671:../drivers/fsl_flash.c ****         return kStatus_FLASH_CommandFailure;
 3346              		.loc 1 2671 16
 3347 0062 6923     		movs	r3, #105
 3348 0064 00E0     		b	.L225
 3349              	.L228:
2672:../drivers/fsl_flash.c ****     }
2673:../drivers/fsl_flash.c ****     else
2674:../drivers/fsl_flash.c ****     {
2675:../drivers/fsl_flash.c ****         return kStatus_FLASH_Success;
 3350              		.loc 1 2675 16
 3351 0066 0023     		movs	r3, #0
 3352              	.L225:
2676:../drivers/fsl_flash.c ****     }
2677:../drivers/fsl_flash.c **** }
 3353              		.loc 1 2677 1
 3354 0068 1800     		movs	r0, r3
 3355 006a BD46     		mov	sp, r7
 3356 006c 04B0     		add	sp, sp, #16
 3357              		@ sp needed
 3358 006e 80BD     		pop	{r7, pc}
 3359              	.L230:
 3360              		.align	2
 3361              	.L229:
 3362 0070 00000240 		.word	1073872896
 3363 0074 00000000 		.word	callFlashRunCommand
 3364              		.cfi_endproc
 3365              	.LFE81:
 3367              		.section	.text.copy_flash_common_bit_operation,"ax",%progbits
 3368              		.align	1
 3369              		.syntax unified
 3370              		.code	16
 3371              		.thumb_func
 3372              		.fpu softvfp
 3374              	copy_flash_common_bit_operation:
 3375              	.LFB82:
2678:../drivers/fsl_flash.c **** 
2679:../drivers/fsl_flash.c **** #if FLASH_DRIVER_IS_FLASH_RESIDENT
2680:../drivers/fsl_flash.c **** /*!
2681:../drivers/fsl_flash.c ****  * @brief Copy PIC of flash_common_bit_operation() to RAM
2682:../drivers/fsl_flash.c ****  *
2683:../drivers/fsl_flash.c ****  */
2684:../drivers/fsl_flash.c **** static void copy_flash_common_bit_operation(uint32_t *flashCommonBitOperation)
2685:../drivers/fsl_flash.c **** {
 3376              		.loc 1 2685 1
 3377              		.cfi_startproc
 3378              		@ args = 0, pretend = 0, frame = 8
 3379              		@ frame_needed = 1, uses_anonymous_args = 0
 3380 0000 90B5     		push	{r4, r7, lr}
 3381              		.cfi_def_cfa_offset 12
 3382              		.cfi_offset 4, -12
 3383              		.cfi_offset 7, -8
 3384              		.cfi_offset 14, -4
 3385 0002 83B0     		sub	sp, sp, #12
 3386              		.cfi_def_cfa_offset 24
 3387 0004 00AF     		add	r7, sp, #0
 3388              		.cfi_def_cfa_register 7
 3389 0006 7860     		str	r0, [r7, #4]
2686:../drivers/fsl_flash.c ****     assert(sizeof(s_flashCommonBitOperationFunctionCode) <= (kFLASH_ExecuteInRamFunctionMaxSizeInWo
2687:../drivers/fsl_flash.c **** 
2688:../drivers/fsl_flash.c ****     /* Since the value of ARM function pointer is always odd, but the real start address
2689:../drivers/fsl_flash.c ****      * of function memory should be even, that's why +1 operation exist. */
2690:../drivers/fsl_flash.c ****     memcpy((void *)flashCommonBitOperation, (void *)s_flashCommonBitOperationFunctionCode,
 3390              		.loc 1 2690 5
 3391 0008 0A49     		ldr	r1, .L232
 3392 000a 7B68     		ldr	r3, [r7, #4]
 3393 000c 1C22     		movs	r2, #28
 3394 000e 1800     		movs	r0, r3
 3395 0010 FFF7FEFF 		bl	memcpy
2691:../drivers/fsl_flash.c ****            sizeof(s_flashCommonBitOperationFunctionCode));
2692:../drivers/fsl_flash.c ****     callFlashCommonBitOperation = (void (*)(FTFx_REG32_ACCESS_TYPE base, uint32_t bitMask, uint32_t
2693:../drivers/fsl_flash.c ****                                             uint32_t bitValue))((uint32_t)flashCommonBitOperation +
 3396              		.loc 1 2693 65
 3397 0014 7B68     		ldr	r3, [r7, #4]
 3398              		.loc 1 2693 99
 3399 0016 0133     		adds	r3, r3, #1
2692:../drivers/fsl_flash.c ****                                             uint32_t bitValue))((uint32_t)flashCommonBitOperation +
 3400              		.loc 1 2692 35
 3401 0018 1A00     		movs	r2, r3
2692:../drivers/fsl_flash.c ****                                             uint32_t bitValue))((uint32_t)flashCommonBitOperation +
 3402              		.loc 1 2692 33
 3403 001a 074B     		ldr	r3, .L232+4
 3404 001c 1A60     		str	r2, [r3]
2694:../drivers/fsl_flash.c ****     /* Workround for some devices which doesn't need this function */
2695:../drivers/fsl_flash.c ****     callFlashCommonBitOperation((FTFx_REG32_ACCESS_TYPE)0, 0, 0, 0);
 3405              		.loc 1 2695 5
 3406 001e 064B     		ldr	r3, .L232+4
 3407 0020 1C68     		ldr	r4, [r3]
 3408 0022 0023     		movs	r3, #0
 3409 0024 0022     		movs	r2, #0
 3410 0026 0021     		movs	r1, #0
 3411 0028 0020     		movs	r0, #0
 3412 002a A047     		blx	r4
 3413              	.LVL6:
2696:../drivers/fsl_flash.c **** }
 3414              		.loc 1 2696 1
 3415 002c C046     		nop
 3416 002e BD46     		mov	sp, r7
 3417 0030 03B0     		add	sp, sp, #12
 3418              		@ sp needed
 3419 0032 90BD     		pop	{r4, r7, pc}
 3420              	.L233:
 3421              		.align	2
 3422              	.L232:
 3423 0034 00000000 		.word	s_flashCommonBitOperationFunctionCode
 3424 0038 00000000 		.word	callFlashCommonBitOperation
 3425              		.cfi_endproc
 3426              	.LFE82:
 3428              		.section	.text.mcm_flash_cache_clear,"ax",%progbits
 3429              		.align	1
 3430              		.global	mcm_flash_cache_clear
 3431              		.syntax unified
 3432              		.code	16
 3433              		.thumb_func
 3434              		.fpu softvfp
 3436              	mcm_flash_cache_clear:
 3437              	.LFB83:
2697:../drivers/fsl_flash.c **** #endif /* FLASH_DRIVER_IS_FLASH_RESIDENT */
2698:../drivers/fsl_flash.c **** 
2699:../drivers/fsl_flash.c **** #if FLASH_CACHE_IS_CONTROLLED_BY_MCM
2700:../drivers/fsl_flash.c **** /*! @brief Performs the cache clear to the flash by MCM.*/
2701:../drivers/fsl_flash.c **** void mcm_flash_cache_clear(flash_config_t *config)
2702:../drivers/fsl_flash.c **** {
 3438              		.loc 1 2702 1
 3439              		.cfi_startproc
 3440              		@ args = 0, pretend = 0, frame = 16
 3441              		@ frame_needed = 1, uses_anonymous_args = 0
 3442 0000 90B5     		push	{r4, r7, lr}
 3443              		.cfi_def_cfa_offset 12
 3444              		.cfi_offset 4, -12
 3445              		.cfi_offset 7, -8
 3446              		.cfi_offset 14, -4
 3447 0002 85B0     		sub	sp, sp, #20
 3448              		.cfi_def_cfa_offset 32
 3449 0004 00AF     		add	r7, sp, #0
 3450              		.cfi_def_cfa_register 7
 3451 0006 7860     		str	r0, [r7, #4]
2703:../drivers/fsl_flash.c ****     FTFx_REG32_ACCESS_TYPE regBase = (FTFx_REG32_ACCESS_TYPE)&MCM0_CACHE_REG;
 3452              		.loc 1 2703 28
 3453 0008 064B     		ldr	r3, .L235
 3454 000a FB60     		str	r3, [r7, #12]
2704:../drivers/fsl_flash.c **** 
2705:../drivers/fsl_flash.c **** #if defined(MCM0) && defined(MCM1)
2706:../drivers/fsl_flash.c ****     if (config->FlashCacheControllerIndex == (uint8_t)kFLASH_CacheControllerIndexForCore1)
2707:../drivers/fsl_flash.c ****     {
2708:../drivers/fsl_flash.c ****         regBase = (FTFx_REG32_ACCESS_TYPE)&MCM1_CACHE_REG;
2709:../drivers/fsl_flash.c ****     }
2710:../drivers/fsl_flash.c **** #endif
2711:../drivers/fsl_flash.c **** 
2712:../drivers/fsl_flash.c **** #if FLASH_DRIVER_IS_FLASH_RESIDENT
2713:../drivers/fsl_flash.c ****     callFlashCommonBitOperation(regBase, MCM_CACHE_CLEAR_MASK, MCM_CACHE_CLEAR_SHIFT, 1U);
 3455              		.loc 1 2713 5
 3456 000c 064B     		ldr	r3, .L235+4
 3457 000e 1C68     		ldr	r4, [r3]
 3458 0010 8023     		movs	r3, #128
 3459 0012 D900     		lsls	r1, r3, #3
 3460 0014 F868     		ldr	r0, [r7, #12]
 3461 0016 0123     		movs	r3, #1
 3462 0018 0A22     		movs	r2, #10
 3463 001a A047     		blx	r4
 3464              	.LVL7:
2714:../drivers/fsl_flash.c **** #else  /* !FLASH_DRIVER_IS_FLASH_RESIDENT */
2715:../drivers/fsl_flash.c ****     *regBase |= MCM_CACHE_CLEAR_MASK;
2716:../drivers/fsl_flash.c **** 
2717:../drivers/fsl_flash.c ****     /* Memory barriers for good measure.
2718:../drivers/fsl_flash.c ****      * All Cache, Branch predictor and TLB maintenance operations before this instruction complete 
2719:../drivers/fsl_flash.c ****     __ISB();
2720:../drivers/fsl_flash.c ****     __DSB();
2721:../drivers/fsl_flash.c **** #endif /* FLASH_DRIVER_IS_FLASH_RESIDENT */
2722:../drivers/fsl_flash.c **** }
 3465              		.loc 1 2722 1
 3466 001c C046     		nop
 3467 001e BD46     		mov	sp, r7
 3468 0020 05B0     		add	sp, sp, #20
 3469              		@ sp needed
 3470 0022 90BD     		pop	{r4, r7, pc}
 3471              	.L236:
 3472              		.align	2
 3473              	.L235:
 3474 0024 0C3000F0 		.word	-268423156
 3475 0028 00000000 		.word	callFlashCommonBitOperation
 3476              		.cfi_endproc
 3477              	.LFE83:
 3479              		.section	.text.flash_cache_clear,"ax",%progbits
 3480              		.align	1
 3481              		.global	flash_cache_clear
 3482              		.syntax unified
 3483              		.code	16
 3484              		.thumb_func
 3485              		.fpu softvfp
 3487              	flash_cache_clear:
 3488              	.LFB84:
2723:../drivers/fsl_flash.c **** #endif /* FLASH_CACHE_IS_CONTROLLED_BY_MCM */
2724:../drivers/fsl_flash.c **** 
2725:../drivers/fsl_flash.c **** #if FLASH_CACHE_IS_CONTROLLED_BY_FMC
2726:../drivers/fsl_flash.c **** /*! @brief Performs the cache clear to the flash by FMC.*/
2727:../drivers/fsl_flash.c **** void fmc_flash_cache_clear(void)
2728:../drivers/fsl_flash.c **** {
2729:../drivers/fsl_flash.c **** #if FLASH_DRIVER_IS_FLASH_RESIDENT
2730:../drivers/fsl_flash.c ****     FTFx_REG32_ACCESS_TYPE regBase = (FTFx_REG32_ACCESS_TYPE)0;
2731:../drivers/fsl_flash.c **** #if defined(FMC_PFB01CR_CINV_WAY_MASK)
2732:../drivers/fsl_flash.c ****     regBase = (FTFx_REG32_ACCESS_TYPE)&FMC->PFB01CR;
2733:../drivers/fsl_flash.c ****     callFlashCommonBitOperation(regBase, FMC_PFB01CR_CINV_WAY_MASK, FMC_PFB01CR_CINV_WAY_SHIFT, 0xF
2734:../drivers/fsl_flash.c **** #else
2735:../drivers/fsl_flash.c ****     regBase = (FTFx_REG32_ACCESS_TYPE)&FMC->PFB0CR;
2736:../drivers/fsl_flash.c ****     callFlashCommonBitOperation(regBase, FMC_PFB0CR_CINV_WAY_MASK, FMC_PFB0CR_CINV_WAY_SHIFT, 0xFU)
2737:../drivers/fsl_flash.c **** #endif
2738:../drivers/fsl_flash.c **** #else /* !FLASH_DRIVER_IS_FLASH_RESIDENT */
2739:../drivers/fsl_flash.c **** #if defined(FMC_PFB01CR_CINV_WAY_MASK)
2740:../drivers/fsl_flash.c ****     FMC->PFB01CR = (FMC->PFB01CR & ~FMC_PFB01CR_CINV_WAY_MASK) | FMC_PFB01CR_CINV_WAY(~0);
2741:../drivers/fsl_flash.c **** #else
2742:../drivers/fsl_flash.c ****     FMC->PFB0CR = (FMC->PFB0CR & ~FMC_PFB0CR_CINV_WAY_MASK) | FMC_PFB0CR_CINV_WAY(~0);
2743:../drivers/fsl_flash.c **** #endif
2744:../drivers/fsl_flash.c ****     /* Memory barriers for good measure.
2745:../drivers/fsl_flash.c ****      * All Cache, Branch predictor and TLB maintenance operations before this instruction complete 
2746:../drivers/fsl_flash.c ****     __ISB();
2747:../drivers/fsl_flash.c ****     __DSB();
2748:../drivers/fsl_flash.c **** #endif /* FLASH_DRIVER_IS_FLASH_RESIDENT */
2749:../drivers/fsl_flash.c **** }
2750:../drivers/fsl_flash.c **** #endif /* FLASH_CACHE_IS_CONTROLLED_BY_FMC */
2751:../drivers/fsl_flash.c **** 
2752:../drivers/fsl_flash.c **** #if FLASH_PREFETCH_SPECULATION_IS_CONTROLLED_BY_MSCM
2753:../drivers/fsl_flash.c **** /*! @brief Performs the prefetch speculation buffer clear to the flash by MSCM.*/
2754:../drivers/fsl_flash.c **** void mscm_flash_prefetch_speculation_enable(bool enable)
2755:../drivers/fsl_flash.c **** {
2756:../drivers/fsl_flash.c ****     uint8_t setValue;
2757:../drivers/fsl_flash.c ****     if (enable)
2758:../drivers/fsl_flash.c ****     {
2759:../drivers/fsl_flash.c ****         setValue = 0x0U;
2760:../drivers/fsl_flash.c ****     }
2761:../drivers/fsl_flash.c ****     else
2762:../drivers/fsl_flash.c ****     {
2763:../drivers/fsl_flash.c ****         setValue = 0x3U;
2764:../drivers/fsl_flash.c ****     }
2765:../drivers/fsl_flash.c **** 
2766:../drivers/fsl_flash.c **** /* The OCMDR[0] is always used to prefetch main Pflash*/
2767:../drivers/fsl_flash.c **** /* For device with FlexNVM support, the OCMDR[1] is used to prefetch Dflash.
2768:../drivers/fsl_flash.c ****  * For device with secondary flash support, the OCMDR[1] is used to prefetch secondary Pflash. */
2769:../drivers/fsl_flash.c **** #if FLASH_DRIVER_IS_FLASH_RESIDENT
2770:../drivers/fsl_flash.c ****     callFlashCommonBitOperation((FTFx_REG32_ACCESS_TYPE)&MSCM->OCMDR[0], MSCM_SPECULATION_DISABLE_M
2771:../drivers/fsl_flash.c ****                                 MSCM_SPECULATION_DISABLE_SHIFT, setValue);
2772:../drivers/fsl_flash.c **** #if FLASH_SSD_IS_FLEXNVM_ENABLED || BL_HAS_SECONDARY_INTERNAL_FLASH
2773:../drivers/fsl_flash.c ****     callFlashCommonBitOperation((FTFx_REG32_ACCESS_TYPE)&MSCM->OCMDR[1], MSCM_SPECULATION_DISABLE_M
2774:../drivers/fsl_flash.c ****                                 MSCM_SPECULATION_DISABLE_SHIFT, setValue);
2775:../drivers/fsl_flash.c **** #endif
2776:../drivers/fsl_flash.c **** #else /* !FLASH_DRIVER_IS_FLASH_RESIDENT */
2777:../drivers/fsl_flash.c ****     MSCM->OCMDR[0] |= MSCM_SPECULATION_DISABLE(setValue);
2778:../drivers/fsl_flash.c **** 
2779:../drivers/fsl_flash.c ****     /* Memory barriers for good measure.
2780:../drivers/fsl_flash.c ****      * All Cache, Branch predictor and TLB maintenance operations before this instruction complete 
2781:../drivers/fsl_flash.c ****     __ISB();
2782:../drivers/fsl_flash.c ****     __DSB();
2783:../drivers/fsl_flash.c **** #if FLASH_SSD_IS_FLEXNVM_ENABLED || BL_HAS_SECONDARY_INTERNAL_FLASH
2784:../drivers/fsl_flash.c ****     MSCM->OCMDR[1] |= MSCM_SPECULATION_DISABLE(setValue);
2785:../drivers/fsl_flash.c **** 
2786:../drivers/fsl_flash.c ****     /* Each cahce clear instaruction should be followed by below code*/
2787:../drivers/fsl_flash.c ****     __ISB();
2788:../drivers/fsl_flash.c ****     __DSB();
2789:../drivers/fsl_flash.c **** #endif
2790:../drivers/fsl_flash.c **** 
2791:../drivers/fsl_flash.c **** #endif /* FLASH_DRIVER_IS_FLASH_RESIDENT */
2792:../drivers/fsl_flash.c **** }
2793:../drivers/fsl_flash.c **** #endif /* FLASH_PREFETCH_SPECULATION_IS_CONTROLLED_BY_MSCM */
2794:../drivers/fsl_flash.c **** 
2795:../drivers/fsl_flash.c **** #if FLASH_PREFETCH_SPECULATION_IS_CONTROLLED_BY_FMC
2796:../drivers/fsl_flash.c **** /*! @brief Performs the prefetch speculation buffer clear to the flash by FMC.*/
2797:../drivers/fsl_flash.c **** void fmc_flash_prefetch_speculation_clear(void)
2798:../drivers/fsl_flash.c **** {
2799:../drivers/fsl_flash.c **** #if FLASH_DRIVER_IS_FLASH_RESIDENT
2800:../drivers/fsl_flash.c ****     FTFx_REG32_ACCESS_TYPE regBase = (FTFx_REG32_ACCESS_TYPE)0;
2801:../drivers/fsl_flash.c **** #if defined(FMC_PFB01CR_S_INV_MASK)
2802:../drivers/fsl_flash.c ****     regBase = (FTFx_REG32_ACCESS_TYPE)&FMC->PFB01CR;
2803:../drivers/fsl_flash.c ****     callFlashCommonBitOperation(regBase, FMC_PFB01CR_S_INV_MASK, FMC_PFB01CR_S_INV_SHIFT, 1U);
2804:../drivers/fsl_flash.c **** #elif defined(FMC_PFB01CR_S_B_INV_MASK)
2805:../drivers/fsl_flash.c ****     regBase = (FTFx_REG32_ACCESS_TYPE)&FMC->PFB01CR;
2806:../drivers/fsl_flash.c ****     callFlashCommonBitOperation(regBase, FMC_PFB01CR_S_B_INV_MASK, FMC_PFB01CR_S_B_INV_SHIFT, 1U);
2807:../drivers/fsl_flash.c **** #elif defined(FMC_PFB0CR_S_INV_MASK)
2808:../drivers/fsl_flash.c ****     regBase = (FTFx_REG32_ACCESS_TYPE)&FMC->PFB0CR;
2809:../drivers/fsl_flash.c ****     callFlashCommonBitOperation(regBase, FMC_PFB0CR_S_INV_MASK, FMC_PFB0CR_S_INV_SHIFT, 1U);
2810:../drivers/fsl_flash.c **** #elif defined(FMC_PFB0CR_S_B_INV_MASK)
2811:../drivers/fsl_flash.c ****     regBase = (FTFx_REG32_ACCESS_TYPE)&FMC->PFB0CR;
2812:../drivers/fsl_flash.c ****     callFlashCommonBitOperation(regBase, FMC_PFB0CR_S_B_INV_MASK, FMC_PFB0CR_S_B_INV_SHIFT, 1U);
2813:../drivers/fsl_flash.c **** #endif
2814:../drivers/fsl_flash.c **** #else /* !FLASH_DRIVER_IS_FLASH_RESIDENT */
2815:../drivers/fsl_flash.c **** #if defined(FMC_PFB01CR_S_INV_MASK)
2816:../drivers/fsl_flash.c ****     FMC->PFB01CR |= FMC_PFB01CR_S_INV_MASK;
2817:../drivers/fsl_flash.c **** #elif defined(FMC_PFB01CR_S_B_INV_MASK)
2818:../drivers/fsl_flash.c ****     FMC->PFB01CR |= FMC_PFB01CR_S_B_INV_MASK;
2819:../drivers/fsl_flash.c **** #elif defined(FMC_PFB0CR_S_INV_MASK)
2820:../drivers/fsl_flash.c ****     FMC->PFB0CR |= FMC_PFB0CR_S_INV_MASK;
2821:../drivers/fsl_flash.c **** #elif defined(FMC_PFB0CR_S_B_INV_MASK)
2822:../drivers/fsl_flash.c ****     FMC->PFB0CR |= FMC_PFB0CR_S_B_INV_MASK;
2823:../drivers/fsl_flash.c **** #endif
2824:../drivers/fsl_flash.c ****     /* Memory barriers for good measure.
2825:../drivers/fsl_flash.c ****      * All Cache, Branch predictor and TLB maintenance operations before this instruction complete 
2826:../drivers/fsl_flash.c ****     __ISB();
2827:../drivers/fsl_flash.c ****     __DSB();
2828:../drivers/fsl_flash.c **** #endif /* FLASH_DRIVER_IS_FLASH_RESIDENT */
2829:../drivers/fsl_flash.c **** }
2830:../drivers/fsl_flash.c **** #endif /* FLASH_PREFETCH_SPECULATION_IS_CONTROLLED_BY_FMC */
2831:../drivers/fsl_flash.c **** 
2832:../drivers/fsl_flash.c **** /*!
2833:../drivers/fsl_flash.c ****  * @brief Flash Cache Clear
2834:../drivers/fsl_flash.c ****  *
2835:../drivers/fsl_flash.c ****  * This function is used to perform the cache and prefetch speculation clear to the flash.
2836:../drivers/fsl_flash.c ****  */
2837:../drivers/fsl_flash.c **** void flash_cache_clear(flash_config_t *config)
2838:../drivers/fsl_flash.c **** {
 3489              		.loc 1 2838 1
 3490              		.cfi_startproc
 3491              		@ args = 0, pretend = 0, frame = 8
 3492              		@ frame_needed = 1, uses_anonymous_args = 0
 3493 0000 80B5     		push	{r7, lr}
 3494              		.cfi_def_cfa_offset 8
 3495              		.cfi_offset 7, -8
 3496              		.cfi_offset 14, -4
 3497 0002 82B0     		sub	sp, sp, #8
 3498              		.cfi_def_cfa_offset 16
 3499 0004 00AF     		add	r7, sp, #0
 3500              		.cfi_def_cfa_register 7
 3501 0006 7860     		str	r0, [r7, #4]
2839:../drivers/fsl_flash.c ****     flash_cache_clear_process(config, kFLASH_CacheClearProcessPost);
 3502              		.loc 1 2839 5
 3503 0008 7B68     		ldr	r3, [r7, #4]
 3504 000a 0121     		movs	r1, #1
 3505 000c 1800     		movs	r0, r3
 3506 000e FFF7FEFF 		bl	flash_cache_clear_process
2840:../drivers/fsl_flash.c **** }
 3507              		.loc 1 2840 1
 3508 0012 C046     		nop
 3509 0014 BD46     		mov	sp, r7
 3510 0016 02B0     		add	sp, sp, #8
 3511              		@ sp needed
 3512 0018 80BD     		pop	{r7, pc}
 3513              		.cfi_endproc
 3514              	.LFE84:
 3516              		.section	.text.flash_cache_clear_process,"ax",%progbits
 3517              		.align	1
 3518              		.syntax unified
 3519              		.code	16
 3520              		.thumb_func
 3521              		.fpu softvfp
 3523              	flash_cache_clear_process:
 3524              	.LFB85:
2841:../drivers/fsl_flash.c **** 
2842:../drivers/fsl_flash.c **** /*!
2843:../drivers/fsl_flash.c ****  * @brief Flash Cache Clear Process
2844:../drivers/fsl_flash.c ****  *
2845:../drivers/fsl_flash.c ****  * This function is used to perform the cache and prefetch speculation clear process to the flash.
2846:../drivers/fsl_flash.c ****  */
2847:../drivers/fsl_flash.c **** static void flash_cache_clear_process(flash_config_t *config, flash_cache_clear_process_t process)
2848:../drivers/fsl_flash.c **** {
 3525              		.loc 1 2848 1
 3526              		.cfi_startproc
 3527              		@ args = 0, pretend = 0, frame = 16
 3528              		@ frame_needed = 1, uses_anonymous_args = 0
 3529 0000 80B5     		push	{r7, lr}
 3530              		.cfi_def_cfa_offset 8
 3531              		.cfi_offset 7, -8
 3532              		.cfi_offset 14, -4
 3533 0002 84B0     		sub	sp, sp, #16
 3534              		.cfi_def_cfa_offset 24
 3535 0004 00AF     		add	r7, sp, #0
 3536              		.cfi_def_cfa_register 7
 3537 0006 7860     		str	r0, [r7, #4]
 3538 0008 0A00     		movs	r2, r1
 3539 000a FB1C     		adds	r3, r7, #3
 3540 000c 1A70     		strb	r2, [r3]
2849:../drivers/fsl_flash.c **** #if FLASH_DRIVER_IS_FLASH_RESIDENT
2850:../drivers/fsl_flash.c ****     status_t returnCode = flash_check_execute_in_ram_function_info(config);
 3541              		.loc 1 2850 27
 3542 000e 7B68     		ldr	r3, [r7, #4]
 3543 0010 1800     		movs	r0, r3
 3544 0012 FFF7FEFF 		bl	flash_check_execute_in_ram_function_info
 3545 0016 0300     		movs	r3, r0
 3546 0018 FB60     		str	r3, [r7, #12]
2851:../drivers/fsl_flash.c ****     if (kStatus_FLASH_Success != returnCode)
 3547              		.loc 1 2851 8
 3548 001a FB68     		ldr	r3, [r7, #12]
 3549 001c 002B     		cmp	r3, #0
 3550 001e 08D1     		bne	.L241
2852:../drivers/fsl_flash.c ****     {
2853:../drivers/fsl_flash.c ****         return;
2854:../drivers/fsl_flash.c ****     }
2855:../drivers/fsl_flash.c **** #endif /* FLASH_DRIVER_IS_FLASH_RESIDENT */
2856:../drivers/fsl_flash.c **** 
2857:../drivers/fsl_flash.c ****     /* We pass the ftfx register address as a parameter to flash_common_bit_operation() instead of 
2858:../drivers/fsl_flash.c ****      * pre-processed MACROs or a global variable in flash_common_bit_operation()
2859:../drivers/fsl_flash.c ****      * to make sure that flash_common_bit_operation() will be compiled into position-independent co
2860:../drivers/fsl_flash.c ****     if (process == kFLASH_CacheClearProcessPost)
 3551              		.loc 1 2860 8
 3552 0020 FB1C     		adds	r3, r7, #3
 3553 0022 1B78     		ldrb	r3, [r3]
 3554 0024 012B     		cmp	r3, #1
 3555 0026 05D1     		bne	.L238
2861:../drivers/fsl_flash.c ****     {
2862:../drivers/fsl_flash.c **** #if FLASH_CACHE_IS_CONTROLLED_BY_MCM
2863:../drivers/fsl_flash.c ****         mcm_flash_cache_clear(config);
 3556              		.loc 1 2863 9
 3557 0028 7B68     		ldr	r3, [r7, #4]
 3558 002a 1800     		movs	r0, r3
 3559 002c FFF7FEFF 		bl	mcm_flash_cache_clear
 3560 0030 00E0     		b	.L238
 3561              	.L241:
2853:../drivers/fsl_flash.c ****     }
 3562              		.loc 1 2853 9
 3563 0032 C046     		nop
 3564              	.L238:
2864:../drivers/fsl_flash.c **** #endif
2865:../drivers/fsl_flash.c **** #if FLASH_CACHE_IS_CONTROLLED_BY_FMC
2866:../drivers/fsl_flash.c ****         fmc_flash_cache_clear();
2867:../drivers/fsl_flash.c **** #endif
2868:../drivers/fsl_flash.c **** #if FLASH_PREFETCH_SPECULATION_IS_CONTROLLED_BY_MSCM
2869:../drivers/fsl_flash.c ****         mscm_flash_prefetch_speculation_enable(true);
2870:../drivers/fsl_flash.c **** #endif
2871:../drivers/fsl_flash.c **** #if FLASH_PREFETCH_SPECULATION_IS_CONTROLLED_BY_FMC
2872:../drivers/fsl_flash.c ****         fmc_flash_prefetch_speculation_clear();
2873:../drivers/fsl_flash.c **** #endif
2874:../drivers/fsl_flash.c ****     }
2875:../drivers/fsl_flash.c ****     if (process == kFLASH_CacheClearProcessPre)
2876:../drivers/fsl_flash.c ****     {
2877:../drivers/fsl_flash.c **** #if FLASH_PREFETCH_SPECULATION_IS_CONTROLLED_BY_MSCM
2878:../drivers/fsl_flash.c ****         mscm_flash_prefetch_speculation_enable(false);
2879:../drivers/fsl_flash.c **** #endif
2880:../drivers/fsl_flash.c ****     }
2881:../drivers/fsl_flash.c **** }
 3565              		.loc 1 2881 1
 3566 0034 BD46     		mov	sp, r7
 3567 0036 04B0     		add	sp, sp, #16
 3568              		@ sp needed
 3569 0038 80BD     		pop	{r7, pc}
 3570              		.cfi_endproc
 3571              	.LFE85:
 3573              		.section	.text.flash_check_execute_in_ram_function_info,"ax",%progbits
 3574              		.align	1
 3575              		.syntax unified
 3576              		.code	16
 3577              		.thumb_func
 3578              		.fpu softvfp
 3580              	flash_check_execute_in_ram_function_info:
 3581              	.LFB86:
2882:../drivers/fsl_flash.c **** 
2883:../drivers/fsl_flash.c **** #if FLASH_DRIVER_IS_FLASH_RESIDENT
2884:../drivers/fsl_flash.c **** /*! @brief Check whether flash execute-in-ram functions are ready  */
2885:../drivers/fsl_flash.c **** static status_t flash_check_execute_in_ram_function_info(flash_config_t *config)
2886:../drivers/fsl_flash.c **** {
 3582              		.loc 1 2886 1
 3583              		.cfi_startproc
 3584              		@ args = 0, pretend = 0, frame = 16
 3585              		@ frame_needed = 1, uses_anonymous_args = 0
 3586 0000 80B5     		push	{r7, lr}
 3587              		.cfi_def_cfa_offset 8
 3588              		.cfi_offset 7, -8
 3589              		.cfi_offset 14, -4
 3590 0002 84B0     		sub	sp, sp, #16
 3591              		.cfi_def_cfa_offset 24
 3592 0004 00AF     		add	r7, sp, #0
 3593              		.cfi_def_cfa_register 7
 3594 0006 7860     		str	r0, [r7, #4]
2887:../drivers/fsl_flash.c ****     flash_execute_in_ram_function_config_t *flashExecuteInRamFunctionInfo;
2888:../drivers/fsl_flash.c **** 
2889:../drivers/fsl_flash.c ****     if (config == NULL)
 3595              		.loc 1 2889 8
 3596 0008 7B68     		ldr	r3, [r7, #4]
 3597 000a 002B     		cmp	r3, #0
 3598 000c 01D1     		bne	.L243
2890:../drivers/fsl_flash.c ****     {
2891:../drivers/fsl_flash.c ****         return kStatus_FLASH_InvalidArgument;
 3599              		.loc 1 2891 16
 3600 000e 0423     		movs	r3, #4
 3601 0010 0DE0     		b	.L244
 3602              	.L243:
2892:../drivers/fsl_flash.c ****     }
2893:../drivers/fsl_flash.c **** 
2894:../drivers/fsl_flash.c ****     flashExecuteInRamFunctionInfo = (flash_execute_in_ram_function_config_t *)config->flashExecuteI
 3603              		.loc 1 2894 35
 3604 0012 7B68     		ldr	r3, [r7, #4]
 3605 0014 DB69     		ldr	r3, [r3, #28]
 3606 0016 FB60     		str	r3, [r7, #12]
2895:../drivers/fsl_flash.c **** 
2896:../drivers/fsl_flash.c ****     if ((config->flashExecuteInRamFunctionInfo) &&
 3607              		.loc 1 2896 16
 3608 0018 7B68     		ldr	r3, [r7, #4]
 3609 001a DB69     		ldr	r3, [r3, #28]
 3610              		.loc 1 2896 8
 3611 001c 002B     		cmp	r3, #0
 3612 001e 05D0     		beq	.L245
2897:../drivers/fsl_flash.c ****         (kFLASH_ExecuteInRamFunctionTotalNum == flashExecuteInRamFunctionInfo->activeFunctionCount)
 3613              		.loc 1 2897 78 discriminator 1
 3614 0020 FB68     		ldr	r3, [r7, #12]
 3615 0022 1B68     		ldr	r3, [r3]
2896:../drivers/fsl_flash.c ****         (kFLASH_ExecuteInRamFunctionTotalNum == flashExecuteInRamFunctionInfo->activeFunctionCount)
 3616              		.loc 1 2896 49 discriminator 1
 3617 0024 022B     		cmp	r3, #2
 3618 0026 01D1     		bne	.L245
2898:../drivers/fsl_flash.c ****     {
2899:../drivers/fsl_flash.c ****         return kStatus_FLASH_Success;
 3619              		.loc 1 2899 16
 3620 0028 0023     		movs	r3, #0
 3621 002a 00E0     		b	.L244
 3622              	.L245:
2900:../drivers/fsl_flash.c ****     }
2901:../drivers/fsl_flash.c **** 
2902:../drivers/fsl_flash.c ****     return kStatus_FLASH_ExecuteInRamFunctionNotReady;
 3623              		.loc 1 2902 12
 3624 002c 6D23     		movs	r3, #109
 3625              	.L244:
2903:../drivers/fsl_flash.c **** }
 3626              		.loc 1 2903 1
 3627 002e 1800     		movs	r0, r3
 3628 0030 BD46     		mov	sp, r7
 3629 0032 04B0     		add	sp, sp, #16
 3630              		@ sp needed
 3631 0034 80BD     		pop	{r7, pc}
 3632              		.cfi_endproc
 3633              	.LFE86:
 3635              		.section	.text.flash_check_range,"ax",%progbits
 3636              		.align	1
 3637              		.syntax unified
 3638              		.code	16
 3639              		.thumb_func
 3640              		.fpu softvfp
 3642              	flash_check_range:
 3643              	.LFB87:
2904:../drivers/fsl_flash.c **** #endif /* FLASH_DRIVER_IS_FLASH_RESIDENT */
2905:../drivers/fsl_flash.c **** 
2906:../drivers/fsl_flash.c **** /*! @brief Validates the range and alignment of the given address range.*/
2907:../drivers/fsl_flash.c **** static status_t flash_check_range(flash_config_t *config,
2908:../drivers/fsl_flash.c ****                                   uint32_t startAddress,
2909:../drivers/fsl_flash.c ****                                   uint32_t lengthInBytes,
2910:../drivers/fsl_flash.c ****                                   uint32_t alignmentBaseline)
2911:../drivers/fsl_flash.c **** {
 3644              		.loc 1 2911 1
 3645              		.cfi_startproc
 3646              		@ args = 0, pretend = 0, frame = 16
 3647              		@ frame_needed = 1, uses_anonymous_args = 0
 3648 0000 80B5     		push	{r7, lr}
 3649              		.cfi_def_cfa_offset 8
 3650              		.cfi_offset 7, -8
 3651              		.cfi_offset 14, -4
 3652 0002 84B0     		sub	sp, sp, #16
 3653              		.cfi_def_cfa_offset 24
 3654 0004 00AF     		add	r7, sp, #0
 3655              		.cfi_def_cfa_register 7
 3656 0006 F860     		str	r0, [r7, #12]
 3657 0008 B960     		str	r1, [r7, #8]
 3658 000a 7A60     		str	r2, [r7, #4]
 3659 000c 3B60     		str	r3, [r7]
2912:../drivers/fsl_flash.c ****     if (config == NULL)
 3660              		.loc 1 2912 8
 3661 000e FB68     		ldr	r3, [r7, #12]
 3662 0010 002B     		cmp	r3, #0
 3663 0012 01D1     		bne	.L247
2913:../drivers/fsl_flash.c ****     {
2914:../drivers/fsl_flash.c ****         return kStatus_FLASH_InvalidArgument;
 3664              		.loc 1 2914 16
 3665 0014 0423     		movs	r3, #4
 3666 0016 1DE0     		b	.L248
 3667              	.L247:
2915:../drivers/fsl_flash.c ****     }
2916:../drivers/fsl_flash.c **** 
2917:../drivers/fsl_flash.c ****     /* Verify the start and length are alignmentBaseline aligned. */
2918:../drivers/fsl_flash.c ****     if ((startAddress & (alignmentBaseline - 1)) || (lengthInBytes & (alignmentBaseline - 1)))
 3668              		.loc 1 2918 44
 3669 0018 3B68     		ldr	r3, [r7]
 3670 001a 013B     		subs	r3, r3, #1
 3671              		.loc 1 2918 23
 3672 001c BA68     		ldr	r2, [r7, #8]
 3673 001e 1340     		ands	r3, r2
 3674              		.loc 1 2918 8
 3675 0020 04D1     		bne	.L249
 3676              		.loc 1 2918 89 discriminator 1
 3677 0022 3B68     		ldr	r3, [r7]
 3678 0024 013B     		subs	r3, r3, #1
 3679              		.loc 1 2918 68 discriminator 1
 3680 0026 7A68     		ldr	r2, [r7, #4]
 3681 0028 1340     		ands	r3, r2
 3682              		.loc 1 2918 50 discriminator 1
 3683 002a 01D0     		beq	.L250
 3684              	.L249:
2919:../drivers/fsl_flash.c ****     {
2920:../drivers/fsl_flash.c ****         return kStatus_FLASH_AlignmentError;
 3685              		.loc 1 2920 16
 3686 002c 6523     		movs	r3, #101
 3687 002e 11E0     		b	.L248
 3688              	.L250:
2921:../drivers/fsl_flash.c ****     }
2922:../drivers/fsl_flash.c **** 
2923:../drivers/fsl_flash.c ****     /* check for valid range of the target addresses */
2924:../drivers/fsl_flash.c ****     if (
2925:../drivers/fsl_flash.c **** #if FLASH_SSD_IS_FLEXNVM_ENABLED
2926:../drivers/fsl_flash.c ****         ((startAddress >= config->DFlashBlockBase) &&
2927:../drivers/fsl_flash.c ****          ((startAddress + lengthInBytes) <= (config->DFlashBlockBase + config->DFlashTotalSize))) |
2928:../drivers/fsl_flash.c **** #endif
2929:../drivers/fsl_flash.c ****         ((startAddress >= config->PFlashBlockBase) &&
 3689              		.loc 1 2929 33
 3690 0030 FB68     		ldr	r3, [r7, #12]
 3691 0032 1B68     		ldr	r3, [r3]
2924:../drivers/fsl_flash.c **** #if FLASH_SSD_IS_FLEXNVM_ENABLED
 3692              		.loc 1 2924 8
 3693 0034 BA68     		ldr	r2, [r7, #8]
 3694 0036 9A42     		cmp	r2, r3
 3695 0038 0BD3     		bcc	.L251
2930:../drivers/fsl_flash.c ****          ((startAddress + lengthInBytes) <= (config->PFlashBlockBase + config->PFlashTotalSize))))
 3696              		.loc 1 2930 25
 3697 003a BA68     		ldr	r2, [r7, #8]
 3698 003c 7B68     		ldr	r3, [r7, #4]
 3699 003e D218     		adds	r2, r2, r3
 3700              		.loc 1 2930 52
 3701 0040 FB68     		ldr	r3, [r7, #12]
 3702 0042 1968     		ldr	r1, [r3]
 3703              		.loc 1 2930 78
 3704 0044 FB68     		ldr	r3, [r7, #12]
 3705 0046 5B68     		ldr	r3, [r3, #4]
 3706              		.loc 1 2930 70
 3707 0048 CB18     		adds	r3, r1, r3
2929:../drivers/fsl_flash.c ****          ((startAddress + lengthInBytes) <= (config->PFlashBlockBase + config->PFlashTotalSize))))
 3708              		.loc 1 2929 52
 3709 004a 9A42     		cmp	r2, r3
 3710 004c 01D8     		bhi	.L251
2931:../drivers/fsl_flash.c ****     {
2932:../drivers/fsl_flash.c ****         return kStatus_FLASH_Success;
 3711              		.loc 1 2932 16
 3712 004e 0023     		movs	r3, #0
 3713 0050 00E0     		b	.L248
 3714              	.L251:
2933:../drivers/fsl_flash.c ****     }
2934:../drivers/fsl_flash.c **** 
2935:../drivers/fsl_flash.c ****     return kStatus_FLASH_AddressError;
 3715              		.loc 1 2935 12
 3716 0052 6623     		movs	r3, #102
 3717              	.L248:
2936:../drivers/fsl_flash.c **** }
 3718              		.loc 1 2936 1
 3719 0054 1800     		movs	r0, r3
 3720 0056 BD46     		mov	sp, r7
 3721 0058 04B0     		add	sp, sp, #16
 3722              		@ sp needed
 3723 005a 80BD     		pop	{r7, pc}
 3724              		.cfi_endproc
 3725              	.LFE87:
 3727              		.section	.text.flash_get_matched_operation_info,"ax",%progbits
 3728              		.align	1
 3729              		.syntax unified
 3730              		.code	16
 3731              		.thumb_func
 3732              		.fpu softvfp
 3734              	flash_get_matched_operation_info:
 3735              	.LFB88:
2937:../drivers/fsl_flash.c **** 
2938:../drivers/fsl_flash.c **** /*! @brief Gets the right address, sector and block size of current flash type which is indicated b
2939:../drivers/fsl_flash.c **** static status_t flash_get_matched_operation_info(flash_config_t *config,
2940:../drivers/fsl_flash.c ****                                                  uint32_t address,
2941:../drivers/fsl_flash.c ****                                                  flash_operation_config_t *info)
2942:../drivers/fsl_flash.c **** {
 3736              		.loc 1 2942 1
 3737              		.cfi_startproc
 3738              		@ args = 0, pretend = 0, frame = 16
 3739              		@ frame_needed = 1, uses_anonymous_args = 0
 3740 0000 80B5     		push	{r7, lr}
 3741              		.cfi_def_cfa_offset 8
 3742              		.cfi_offset 7, -8
 3743              		.cfi_offset 14, -4
 3744 0002 84B0     		sub	sp, sp, #16
 3745              		.cfi_def_cfa_offset 24
 3746 0004 00AF     		add	r7, sp, #0
 3747              		.cfi_def_cfa_register 7
 3748 0006 F860     		str	r0, [r7, #12]
 3749 0008 B960     		str	r1, [r7, #8]
 3750 000a 7A60     		str	r2, [r7, #4]
2943:../drivers/fsl_flash.c ****     if (config == NULL)
 3751              		.loc 1 2943 8
 3752 000c FB68     		ldr	r3, [r7, #12]
 3753 000e 002B     		cmp	r3, #0
 3754 0010 01D1     		bne	.L253
2944:../drivers/fsl_flash.c ****     {
2945:../drivers/fsl_flash.c ****         return kStatus_FLASH_InvalidArgument;
 3755              		.loc 1 2945 16
 3756 0012 0423     		movs	r3, #4
 3757 0014 2BE0     		b	.L254
 3758              	.L253:
2946:../drivers/fsl_flash.c ****     }
2947:../drivers/fsl_flash.c **** 
2948:../drivers/fsl_flash.c ****     /* Clean up info Structure*/
2949:../drivers/fsl_flash.c ****     memset(info, 0, sizeof(flash_operation_config_t));
 3759              		.loc 1 2949 5
 3760 0016 7B68     		ldr	r3, [r7, #4]
 3761 0018 2022     		movs	r2, #32
 3762 001a 0021     		movs	r1, #0
 3763 001c 1800     		movs	r0, r3
 3764 001e FFF7FEFF 		bl	memset
2950:../drivers/fsl_flash.c **** 
2951:../drivers/fsl_flash.c **** #if FLASH_SSD_IS_FLEXNVM_ENABLED
2952:../drivers/fsl_flash.c ****     if ((address >= config->DFlashBlockBase) && (address <= (config->DFlashBlockBase + config->DFla
2953:../drivers/fsl_flash.c ****     {
2954:../drivers/fsl_flash.c ****         /* When required by the command, address bit 23 selects between program flash memory
2955:../drivers/fsl_flash.c ****          * (=0) and data flash memory (=1).*/
2956:../drivers/fsl_flash.c ****         info->convertedAddress = address - config->DFlashBlockBase + 0x800000U;
2957:../drivers/fsl_flash.c ****         info->activeSectorSize = FSL_FEATURE_FLASH_FLEX_NVM_BLOCK_SECTOR_SIZE;
2958:../drivers/fsl_flash.c ****         info->activeBlockSize = config->DFlashTotalSize / FSL_FEATURE_FLASH_FLEX_NVM_BLOCK_COUNT;
2959:../drivers/fsl_flash.c **** 
2960:../drivers/fsl_flash.c ****         info->blockWriteUnitSize = FSL_FEATURE_FLASH_FLEX_NVM_BLOCK_WRITE_UNIT_SIZE;
2961:../drivers/fsl_flash.c ****         info->sectorCmdAddressAligment = FSL_FEATURE_FLASH_FLEX_NVM_SECTOR_CMD_ADDRESS_ALIGMENT;
2962:../drivers/fsl_flash.c ****         info->sectionCmdAddressAligment = FSL_FEATURE_FLASH_FLEX_NVM_SECTION_CMD_ADDRESS_ALIGMENT;
2963:../drivers/fsl_flash.c ****         info->resourceCmdAddressAligment = FSL_FEATURE_FLASH_FLEX_NVM_RESOURCE_CMD_ADDRESS_ALIGMENT
2964:../drivers/fsl_flash.c ****         info->checkCmdAddressAligment = FSL_FEATURE_FLASH_FLEX_NVM_CHECK_CMD_ADDRESS_ALIGMENT;
2965:../drivers/fsl_flash.c ****     }
2966:../drivers/fsl_flash.c ****     else
2967:../drivers/fsl_flash.c **** #endif /* FLASH_SSD_IS_FLEXNVM_ENABLED */
2968:../drivers/fsl_flash.c ****     {
2969:../drivers/fsl_flash.c ****         info->convertedAddress = address - config->PFlashBlockBase;
 3765              		.loc 1 2969 50
 3766 0022 FB68     		ldr	r3, [r7, #12]
 3767 0024 1B68     		ldr	r3, [r3]
 3768              		.loc 1 2969 42
 3769 0026 BA68     		ldr	r2, [r7, #8]
 3770 0028 D21A     		subs	r2, r2, r3
 3771              		.loc 1 2969 32
 3772 002a 7B68     		ldr	r3, [r7, #4]
 3773 002c 1A60     		str	r2, [r3]
2970:../drivers/fsl_flash.c ****         info->activeSectorSize = config->PFlashSectorSize;
 3774              		.loc 1 2970 40
 3775 002e FB68     		ldr	r3, [r7, #12]
 3776 0030 DA68     		ldr	r2, [r3, #12]
 3777              		.loc 1 2970 32
 3778 0032 7B68     		ldr	r3, [r7, #4]
 3779 0034 5A60     		str	r2, [r3, #4]
2971:../drivers/fsl_flash.c ****         info->activeBlockSize = config->PFlashTotalSize / config->PFlashBlockCount;
 3780              		.loc 1 2971 39
 3781 0036 FB68     		ldr	r3, [r7, #12]
 3782 0038 5A68     		ldr	r2, [r3, #4]
 3783              		.loc 1 2971 65
 3784 003a FB68     		ldr	r3, [r7, #12]
 3785 003c 1B7A     		ldrb	r3, [r3, #8]
 3786              		.loc 1 2971 57
 3787 003e 1900     		movs	r1, r3
 3788 0040 1000     		movs	r0, r2
 3789 0042 FFF7FEFF 		bl	__aeabi_uidiv
 3790              	.LVL8:
 3791 0046 0300     		movs	r3, r0
 3792 0048 1A00     		movs	r2, r3
 3793              		.loc 1 2971 31
 3794 004a 7B68     		ldr	r3, [r7, #4]
 3795 004c 9A60     		str	r2, [r3, #8]
2972:../drivers/fsl_flash.c **** #if FLASH_SSD_IS_SECONDARY_FLASH_ENABLED
2973:../drivers/fsl_flash.c ****         if (config->FlashMemoryIndex == (uint8_t)kFLASH_MemoryIndexSecondaryFlash)
2974:../drivers/fsl_flash.c ****         {
2975:../drivers/fsl_flash.c **** #if FLASH_SSD_SECONDARY_FLASH_HAS_ITS_OWN_PROTECTION_REGISTER || FLASH_SSD_SECONDARY_FLASH_HAS_ITS_
2976:../drivers/fsl_flash.c ****             /* When required by the command, address bit 23 selects between main flash memory
2977:../drivers/fsl_flash.c ****              * (=0) and secondary flash memory (=1).*/
2978:../drivers/fsl_flash.c ****             info->convertedAddress += 0x800000U;
2979:../drivers/fsl_flash.c **** #endif
2980:../drivers/fsl_flash.c ****             info->blockWriteUnitSize = FSL_FEATURE_FLASH_PFLASH_1_BLOCK_WRITE_UNIT_SIZE;
2981:../drivers/fsl_flash.c ****         }
2982:../drivers/fsl_flash.c ****         else
2983:../drivers/fsl_flash.c **** #endif /* FLASH_SSD_IS_SECONDARY_FLASH_ENABLED */
2984:../drivers/fsl_flash.c ****         {
2985:../drivers/fsl_flash.c ****             info->blockWriteUnitSize = FSL_FEATURE_FLASH_PFLASH_BLOCK_WRITE_UNIT_SIZE;
 3796              		.loc 1 2985 38
 3797 004e 7B68     		ldr	r3, [r7, #4]
 3798 0050 0422     		movs	r2, #4
 3799 0052 DA60     		str	r2, [r3, #12]
2986:../drivers/fsl_flash.c ****         }
2987:../drivers/fsl_flash.c **** 
2988:../drivers/fsl_flash.c ****         info->sectorCmdAddressAligment = FSL_FEATURE_FLASH_PFLASH_SECTOR_CMD_ADDRESS_ALIGMENT;
 3800              		.loc 1 2988 40
 3801 0054 7B68     		ldr	r3, [r7, #4]
 3802 0056 0422     		movs	r2, #4
 3803 0058 1A61     		str	r2, [r3, #16]
2989:../drivers/fsl_flash.c ****         info->sectionCmdAddressAligment = FSL_FEATURE_FLASH_PFLASH_SECTION_CMD_ADDRESS_ALIGMENT;
 3804              		.loc 1 2989 41
 3805 005a 7B68     		ldr	r3, [r7, #4]
 3806 005c 0422     		movs	r2, #4
 3807 005e 5A61     		str	r2, [r3, #20]
2990:../drivers/fsl_flash.c ****         info->resourceCmdAddressAligment = FSL_FEATURE_FLASH_PFLASH_RESOURCE_CMD_ADDRESS_ALIGMENT;
 3808              		.loc 1 2990 42
 3809 0060 7B68     		ldr	r3, [r7, #4]
 3810 0062 0422     		movs	r2, #4
 3811 0064 9A61     		str	r2, [r3, #24]
2991:../drivers/fsl_flash.c ****         info->checkCmdAddressAligment = FSL_FEATURE_FLASH_PFLASH_CHECK_CMD_ADDRESS_ALIGMENT;
 3812              		.loc 1 2991 39
 3813 0066 7B68     		ldr	r3, [r7, #4]
 3814 0068 0422     		movs	r2, #4
 3815 006a DA61     		str	r2, [r3, #28]
2992:../drivers/fsl_flash.c ****     }
2993:../drivers/fsl_flash.c **** 
2994:../drivers/fsl_flash.c ****     return kStatus_FLASH_Success;
 3816              		.loc 1 2994 12
 3817 006c 0023     		movs	r3, #0
 3818              	.L254:
2995:../drivers/fsl_flash.c **** }
 3819              		.loc 1 2995 1
 3820 006e 1800     		movs	r0, r3
 3821 0070 BD46     		mov	sp, r7
 3822 0072 04B0     		add	sp, sp, #16
 3823              		@ sp needed
 3824 0074 80BD     		pop	{r7, pc}
 3825              		.cfi_endproc
 3826              	.LFE88:
 3828              		.section	.text.flash_check_user_key,"ax",%progbits
 3829              		.align	1
 3830              		.syntax unified
 3831              		.code	16
 3832              		.thumb_func
 3833              		.fpu softvfp
 3835              	flash_check_user_key:
 3836              	.LFB89:
2996:../drivers/fsl_flash.c **** 
2997:../drivers/fsl_flash.c **** /*! @brief Validates the given user key for flash erase APIs.*/
2998:../drivers/fsl_flash.c **** static status_t flash_check_user_key(uint32_t key)
2999:../drivers/fsl_flash.c **** {
 3837              		.loc 1 2999 1
 3838              		.cfi_startproc
 3839              		@ args = 0, pretend = 0, frame = 8
 3840              		@ frame_needed = 1, uses_anonymous_args = 0
 3841 0000 80B5     		push	{r7, lr}
 3842              		.cfi_def_cfa_offset 8
 3843              		.cfi_offset 7, -8
 3844              		.cfi_offset 14, -4
 3845 0002 82B0     		sub	sp, sp, #8
 3846              		.cfi_def_cfa_offset 16
 3847 0004 00AF     		add	r7, sp, #0
 3848              		.cfi_def_cfa_register 7
 3849 0006 7860     		str	r0, [r7, #4]
3000:../drivers/fsl_flash.c ****     /* Validate the user key */
3001:../drivers/fsl_flash.c ****     if (key != kFLASH_ApiEraseKey)
 3850              		.loc 1 3001 8
 3851 0008 7B68     		ldr	r3, [r7, #4]
 3852 000a 054A     		ldr	r2, .L258
 3853 000c 9342     		cmp	r3, r2
 3854 000e 01D0     		beq	.L256
3002:../drivers/fsl_flash.c ****     {
3003:../drivers/fsl_flash.c ****         return kStatus_FLASH_EraseKeyError;
 3855              		.loc 1 3003 16
 3856 0010 6B23     		movs	r3, #107
 3857 0012 00E0     		b	.L257
 3858              	.L256:
3004:../drivers/fsl_flash.c ****     }
3005:../drivers/fsl_flash.c **** 
3006:../drivers/fsl_flash.c ****     return kStatus_FLASH_Success;
 3859              		.loc 1 3006 12
 3860 0014 0023     		movs	r3, #0
 3861              	.L257:
3007:../drivers/fsl_flash.c **** }
 3862              		.loc 1 3007 1
 3863 0016 1800     		movs	r0, r3
 3864 0018 BD46     		mov	sp, r7
 3865 001a 02B0     		add	sp, sp, #8
 3866              		@ sp needed
 3867 001c 80BD     		pop	{r7, pc}
 3868              	.L259:
 3869 001e C046     		.align	2
 3870              	.L258:
 3871 0020 6B66656B 		.word	1801807467
 3872              		.cfi_endproc
 3873              	.LFE89:
 3875              		.section	.text.flash_check_resource_range,"ax",%progbits
 3876              		.align	1
 3877              		.syntax unified
 3878              		.code	16
 3879              		.thumb_func
 3880              		.fpu softvfp
 3882              	flash_check_resource_range:
 3883              	.LFB90:
3008:../drivers/fsl_flash.c **** 
3009:../drivers/fsl_flash.c **** #if FLASH_SSD_IS_FLEXNVM_ENABLED
3010:../drivers/fsl_flash.c **** /*! @brief Updates FlexNVM memory partition status according to data flash 0 IFR.*/
3011:../drivers/fsl_flash.c **** static status_t flash_update_flexnvm_memory_partition_status(flash_config_t *config)
3012:../drivers/fsl_flash.c **** {
3013:../drivers/fsl_flash.c ****     struct
3014:../drivers/fsl_flash.c ****     {
3015:../drivers/fsl_flash.c ****         uint32_t reserved0;
3016:../drivers/fsl_flash.c ****         uint8_t FlexNVMPartitionCode;
3017:../drivers/fsl_flash.c ****         uint8_t EEPROMDataSetSize;
3018:../drivers/fsl_flash.c ****         uint16_t reserved1;
3019:../drivers/fsl_flash.c ****     } dataIFRReadOut;
3020:../drivers/fsl_flash.c ****     status_t returnCode;
3021:../drivers/fsl_flash.c **** 
3022:../drivers/fsl_flash.c ****     if (config == NULL)
3023:../drivers/fsl_flash.c ****     {
3024:../drivers/fsl_flash.c ****         return kStatus_FLASH_InvalidArgument;
3025:../drivers/fsl_flash.c ****     }
3026:../drivers/fsl_flash.c **** 
3027:../drivers/fsl_flash.c **** #if defined(FSL_FEATURE_FLASH_HAS_READ_RESOURCE_CMD) && FSL_FEATURE_FLASH_HAS_READ_RESOURCE_CMD
3028:../drivers/fsl_flash.c ****     /* Get FlexNVM memory partition info from data flash IFR */
3029:../drivers/fsl_flash.c ****     returnCode = FLASH_ReadResource(config, DFLASH_IFR_READRESOURCE_START_ADDRESS, (uint32_t *)&dat
3030:../drivers/fsl_flash.c ****                                     sizeof(dataIFRReadOut), kFLASH_ResourceOptionFlashIfr);
3031:../drivers/fsl_flash.c ****     if (returnCode != kStatus_FLASH_Success)
3032:../drivers/fsl_flash.c ****     {
3033:../drivers/fsl_flash.c ****         return kStatus_FLASH_PartitionStatusUpdateFailure;
3034:../drivers/fsl_flash.c ****     }
3035:../drivers/fsl_flash.c **** #else
3036:../drivers/fsl_flash.c **** #error "Cannot get FlexNVM memory partition info"
3037:../drivers/fsl_flash.c **** #endif
3038:../drivers/fsl_flash.c **** 
3039:../drivers/fsl_flash.c ****     /* Fill out partitioned EEPROM size */
3040:../drivers/fsl_flash.c ****     dataIFRReadOut.EEPROMDataSetSize &= 0x0FU;
3041:../drivers/fsl_flash.c ****     switch (dataIFRReadOut.EEPROMDataSetSize)
3042:../drivers/fsl_flash.c ****     {
3043:../drivers/fsl_flash.c ****         case 0x00U:
3044:../drivers/fsl_flash.c ****             config->EEpromTotalSize = FSL_FEATURE_FLASH_FLEX_NVM_EEPROM_SIZE_FOR_EEESIZE_0000;
3045:../drivers/fsl_flash.c ****             break;
3046:../drivers/fsl_flash.c ****         case 0x01U:
3047:../drivers/fsl_flash.c ****             config->EEpromTotalSize = FSL_FEATURE_FLASH_FLEX_NVM_EEPROM_SIZE_FOR_EEESIZE_0001;
3048:../drivers/fsl_flash.c ****             break;
3049:../drivers/fsl_flash.c ****         case 0x02U:
3050:../drivers/fsl_flash.c ****             config->EEpromTotalSize = FSL_FEATURE_FLASH_FLEX_NVM_EEPROM_SIZE_FOR_EEESIZE_0010;
3051:../drivers/fsl_flash.c ****             break;
3052:../drivers/fsl_flash.c ****         case 0x03U:
3053:../drivers/fsl_flash.c ****             config->EEpromTotalSize = FSL_FEATURE_FLASH_FLEX_NVM_EEPROM_SIZE_FOR_EEESIZE_0011;
3054:../drivers/fsl_flash.c ****             break;
3055:../drivers/fsl_flash.c ****         case 0x04U:
3056:../drivers/fsl_flash.c ****             config->EEpromTotalSize = FSL_FEATURE_FLASH_FLEX_NVM_EEPROM_SIZE_FOR_EEESIZE_0100;
3057:../drivers/fsl_flash.c ****             break;
3058:../drivers/fsl_flash.c ****         case 0x05U:
3059:../drivers/fsl_flash.c ****             config->EEpromTotalSize = FSL_FEATURE_FLASH_FLEX_NVM_EEPROM_SIZE_FOR_EEESIZE_0101;
3060:../drivers/fsl_flash.c ****             break;
3061:../drivers/fsl_flash.c ****         case 0x06U:
3062:../drivers/fsl_flash.c ****             config->EEpromTotalSize = FSL_FEATURE_FLASH_FLEX_NVM_EEPROM_SIZE_FOR_EEESIZE_0110;
3063:../drivers/fsl_flash.c ****             break;
3064:../drivers/fsl_flash.c ****         case 0x07U:
3065:../drivers/fsl_flash.c ****             config->EEpromTotalSize = FSL_FEATURE_FLASH_FLEX_NVM_EEPROM_SIZE_FOR_EEESIZE_0111;
3066:../drivers/fsl_flash.c ****             break;
3067:../drivers/fsl_flash.c ****         case 0x08U:
3068:../drivers/fsl_flash.c ****             config->EEpromTotalSize = FSL_FEATURE_FLASH_FLEX_NVM_EEPROM_SIZE_FOR_EEESIZE_1000;
3069:../drivers/fsl_flash.c ****             break;
3070:../drivers/fsl_flash.c ****         case 0x09U:
3071:../drivers/fsl_flash.c ****             config->EEpromTotalSize = FSL_FEATURE_FLASH_FLEX_NVM_EEPROM_SIZE_FOR_EEESIZE_1001;
3072:../drivers/fsl_flash.c ****             break;
3073:../drivers/fsl_flash.c ****         case 0x0AU:
3074:../drivers/fsl_flash.c ****             config->EEpromTotalSize = FSL_FEATURE_FLASH_FLEX_NVM_EEPROM_SIZE_FOR_EEESIZE_1010;
3075:../drivers/fsl_flash.c ****             break;
3076:../drivers/fsl_flash.c ****         case 0x0BU:
3077:../drivers/fsl_flash.c ****             config->EEpromTotalSize = FSL_FEATURE_FLASH_FLEX_NVM_EEPROM_SIZE_FOR_EEESIZE_1011;
3078:../drivers/fsl_flash.c ****             break;
3079:../drivers/fsl_flash.c ****         case 0x0CU:
3080:../drivers/fsl_flash.c ****             config->EEpromTotalSize = FSL_FEATURE_FLASH_FLEX_NVM_EEPROM_SIZE_FOR_EEESIZE_1100;
3081:../drivers/fsl_flash.c ****             break;
3082:../drivers/fsl_flash.c ****         case 0x0DU:
3083:../drivers/fsl_flash.c ****             config->EEpromTotalSize = FSL_FEATURE_FLASH_FLEX_NVM_EEPROM_SIZE_FOR_EEESIZE_1101;
3084:../drivers/fsl_flash.c ****             break;
3085:../drivers/fsl_flash.c ****         case 0x0EU:
3086:../drivers/fsl_flash.c ****             config->EEpromTotalSize = FSL_FEATURE_FLASH_FLEX_NVM_EEPROM_SIZE_FOR_EEESIZE_1110;
3087:../drivers/fsl_flash.c ****             break;
3088:../drivers/fsl_flash.c ****         case 0x0FU:
3089:../drivers/fsl_flash.c ****             config->EEpromTotalSize = FSL_FEATURE_FLASH_FLEX_NVM_EEPROM_SIZE_FOR_EEESIZE_1111;
3090:../drivers/fsl_flash.c ****             break;
3091:../drivers/fsl_flash.c ****         default:
3092:../drivers/fsl_flash.c ****             config->EEpromTotalSize = FLEX_NVM_EEPROM_SIZE_FOR_EEESIZE_RESERVED;
3093:../drivers/fsl_flash.c ****             break;
3094:../drivers/fsl_flash.c ****     }
3095:../drivers/fsl_flash.c **** 
3096:../drivers/fsl_flash.c ****     /* Fill out partitioned DFlash size */
3097:../drivers/fsl_flash.c ****     dataIFRReadOut.FlexNVMPartitionCode &= 0x0FU;
3098:../drivers/fsl_flash.c ****     switch (dataIFRReadOut.FlexNVMPartitionCode)
3099:../drivers/fsl_flash.c ****     {
3100:../drivers/fsl_flash.c ****         case 0x00U:
3101:../drivers/fsl_flash.c **** #if (FSL_FEATURE_FLASH_FLEX_NVM_DFLASH_SIZE_FOR_DEPART_0000 != 0xFFFFFFFF)
3102:../drivers/fsl_flash.c ****             config->DFlashTotalSize = FSL_FEATURE_FLASH_FLEX_NVM_DFLASH_SIZE_FOR_DEPART_0000;
3103:../drivers/fsl_flash.c **** #else
3104:../drivers/fsl_flash.c ****             config->DFlashTotalSize = FLEX_NVM_DFLASH_SIZE_FOR_DEPART_RESERVED;
3105:../drivers/fsl_flash.c **** #endif /* FSL_FEATURE_FLASH_FLEX_NVM_DFLASH_SIZE_FOR_DEPART_0000 */
3106:../drivers/fsl_flash.c ****             break;
3107:../drivers/fsl_flash.c ****         case 0x01U:
3108:../drivers/fsl_flash.c **** #if (FSL_FEATURE_FLASH_FLEX_NVM_DFLASH_SIZE_FOR_DEPART_0001 != 0xFFFFFFFF)
3109:../drivers/fsl_flash.c ****             config->DFlashTotalSize = FSL_FEATURE_FLASH_FLEX_NVM_DFLASH_SIZE_FOR_DEPART_0001;
3110:../drivers/fsl_flash.c **** #else
3111:../drivers/fsl_flash.c ****             config->DFlashTotalSize = FLEX_NVM_DFLASH_SIZE_FOR_DEPART_RESERVED;
3112:../drivers/fsl_flash.c **** #endif /* FSL_FEATURE_FLASH_FLEX_NVM_DFLASH_SIZE_FOR_DEPART_0001 */
3113:../drivers/fsl_flash.c ****             break;
3114:../drivers/fsl_flash.c ****         case 0x02U:
3115:../drivers/fsl_flash.c **** #if (FSL_FEATURE_FLASH_FLEX_NVM_DFLASH_SIZE_FOR_DEPART_0010 != 0xFFFFFFFF)
3116:../drivers/fsl_flash.c ****             config->DFlashTotalSize = FSL_FEATURE_FLASH_FLEX_NVM_DFLASH_SIZE_FOR_DEPART_0010;
3117:../drivers/fsl_flash.c **** #else
3118:../drivers/fsl_flash.c ****             config->DFlashTotalSize = FLEX_NVM_DFLASH_SIZE_FOR_DEPART_RESERVED;
3119:../drivers/fsl_flash.c **** #endif /* FSL_FEATURE_FLASH_FLEX_NVM_DFLASH_SIZE_FOR_DEPART_0010 */
3120:../drivers/fsl_flash.c ****             break;
3121:../drivers/fsl_flash.c ****         case 0x03U:
3122:../drivers/fsl_flash.c **** #if (FSL_FEATURE_FLASH_FLEX_NVM_DFLASH_SIZE_FOR_DEPART_0011 != 0xFFFFFFFF)
3123:../drivers/fsl_flash.c ****             config->DFlashTotalSize = FSL_FEATURE_FLASH_FLEX_NVM_DFLASH_SIZE_FOR_DEPART_0011;
3124:../drivers/fsl_flash.c **** #else
3125:../drivers/fsl_flash.c ****             config->DFlashTotalSize = FLEX_NVM_DFLASH_SIZE_FOR_DEPART_RESERVED;
3126:../drivers/fsl_flash.c **** #endif /* FSL_FEATURE_FLASH_FLEX_NVM_DFLASH_SIZE_FOR_DEPART_0011 */
3127:../drivers/fsl_flash.c ****             break;
3128:../drivers/fsl_flash.c ****         case 0x04U:
3129:../drivers/fsl_flash.c **** #if (FSL_FEATURE_FLASH_FLEX_NVM_DFLASH_SIZE_FOR_DEPART_0100 != 0xFFFFFFFF)
3130:../drivers/fsl_flash.c ****             config->DFlashTotalSize = FSL_FEATURE_FLASH_FLEX_NVM_DFLASH_SIZE_FOR_DEPART_0100;
3131:../drivers/fsl_flash.c **** #else
3132:../drivers/fsl_flash.c ****             config->DFlashTotalSize = FLEX_NVM_DFLASH_SIZE_FOR_DEPART_RESERVED;
3133:../drivers/fsl_flash.c **** #endif /* FSL_FEATURE_FLASH_FLEX_NVM_DFLASH_SIZE_FOR_DEPART_0100 */
3134:../drivers/fsl_flash.c ****             break;
3135:../drivers/fsl_flash.c ****         case 0x05U:
3136:../drivers/fsl_flash.c **** #if (FSL_FEATURE_FLASH_FLEX_NVM_DFLASH_SIZE_FOR_DEPART_0101 != 0xFFFFFFFF)
3137:../drivers/fsl_flash.c ****             config->DFlashTotalSize = FSL_FEATURE_FLASH_FLEX_NVM_DFLASH_SIZE_FOR_DEPART_0101;
3138:../drivers/fsl_flash.c **** #else
3139:../drivers/fsl_flash.c ****             config->DFlashTotalSize = FLEX_NVM_DFLASH_SIZE_FOR_DEPART_RESERVED;
3140:../drivers/fsl_flash.c **** #endif /* FSL_FEATURE_FLASH_FLEX_NVM_DFLASH_SIZE_FOR_DEPART_0101 */
3141:../drivers/fsl_flash.c ****             break;
3142:../drivers/fsl_flash.c ****         case 0x06U:
3143:../drivers/fsl_flash.c **** #if (FSL_FEATURE_FLASH_FLEX_NVM_DFLASH_SIZE_FOR_DEPART_0110 != 0xFFFFFFFF)
3144:../drivers/fsl_flash.c ****             config->DFlashTotalSize = FSL_FEATURE_FLASH_FLEX_NVM_DFLASH_SIZE_FOR_DEPART_0110;
3145:../drivers/fsl_flash.c **** #else
3146:../drivers/fsl_flash.c ****             config->DFlashTotalSize = FLEX_NVM_DFLASH_SIZE_FOR_DEPART_RESERVED;
3147:../drivers/fsl_flash.c **** #endif /* FSL_FEATURE_FLASH_FLEX_NVM_DFLASH_SIZE_FOR_DEPART_0110 */
3148:../drivers/fsl_flash.c ****             break;
3149:../drivers/fsl_flash.c ****         case 0x07U:
3150:../drivers/fsl_flash.c **** #if (FSL_FEATURE_FLASH_FLEX_NVM_DFLASH_SIZE_FOR_DEPART_0111 != 0xFFFFFFFF)
3151:../drivers/fsl_flash.c ****             config->DFlashTotalSize = FSL_FEATURE_FLASH_FLEX_NVM_DFLASH_SIZE_FOR_DEPART_0111;
3152:../drivers/fsl_flash.c **** #else
3153:../drivers/fsl_flash.c ****             config->DFlashTotalSize = FLEX_NVM_DFLASH_SIZE_FOR_DEPART_RESERVED;
3154:../drivers/fsl_flash.c **** #endif /* FSL_FEATURE_FLASH_FLEX_NVM_DFLASH_SIZE_FOR_DEPART_0111 */
3155:../drivers/fsl_flash.c ****             break;
3156:../drivers/fsl_flash.c ****         case 0x08U:
3157:../drivers/fsl_flash.c **** #if (FSL_FEATURE_FLASH_FLEX_NVM_DFLASH_SIZE_FOR_DEPART_1000 != 0xFFFFFFFF)
3158:../drivers/fsl_flash.c ****             config->DFlashTotalSize = FSL_FEATURE_FLASH_FLEX_NVM_DFLASH_SIZE_FOR_DEPART_1000;
3159:../drivers/fsl_flash.c **** #else
3160:../drivers/fsl_flash.c ****             config->DFlashTotalSize = FLEX_NVM_DFLASH_SIZE_FOR_DEPART_RESERVED;
3161:../drivers/fsl_flash.c **** #endif /* FSL_FEATURE_FLASH_FLEX_NVM_DFLASH_SIZE_FOR_DEPART_1000 */
3162:../drivers/fsl_flash.c ****             break;
3163:../drivers/fsl_flash.c ****         case 0x09U:
3164:../drivers/fsl_flash.c **** #if (FSL_FEATURE_FLASH_FLEX_NVM_DFLASH_SIZE_FOR_DEPART_1001 != 0xFFFFFFFF)
3165:../drivers/fsl_flash.c ****             config->DFlashTotalSize = FSL_FEATURE_FLASH_FLEX_NVM_DFLASH_SIZE_FOR_DEPART_1001;
3166:../drivers/fsl_flash.c **** #else
3167:../drivers/fsl_flash.c ****             config->DFlashTotalSize = FLEX_NVM_DFLASH_SIZE_FOR_DEPART_RESERVED;
3168:../drivers/fsl_flash.c **** #endif /* FSL_FEATURE_FLASH_FLEX_NVM_DFLASH_SIZE_FOR_DEPART_1001 */
3169:../drivers/fsl_flash.c ****             break;
3170:../drivers/fsl_flash.c ****         case 0x0AU:
3171:../drivers/fsl_flash.c **** #if (FSL_FEATURE_FLASH_FLEX_NVM_DFLASH_SIZE_FOR_DEPART_1010 != 0xFFFFFFFF)
3172:../drivers/fsl_flash.c ****             config->DFlashTotalSize = FSL_FEATURE_FLASH_FLEX_NVM_DFLASH_SIZE_FOR_DEPART_1010;
3173:../drivers/fsl_flash.c **** #else
3174:../drivers/fsl_flash.c ****             config->DFlashTotalSize = FLEX_NVM_DFLASH_SIZE_FOR_DEPART_RESERVED;
3175:../drivers/fsl_flash.c **** #endif /* FSL_FEATURE_FLASH_FLEX_NVM_DFLASH_SIZE_FOR_DEPART_1010 */
3176:../drivers/fsl_flash.c ****             break;
3177:../drivers/fsl_flash.c ****         case 0x0BU:
3178:../drivers/fsl_flash.c **** #if (FSL_FEATURE_FLASH_FLEX_NVM_DFLASH_SIZE_FOR_DEPART_1011 != 0xFFFFFFFF)
3179:../drivers/fsl_flash.c ****             config->DFlashTotalSize = FSL_FEATURE_FLASH_FLEX_NVM_DFLASH_SIZE_FOR_DEPART_1011;
3180:../drivers/fsl_flash.c **** #else
3181:../drivers/fsl_flash.c ****             config->DFlashTotalSize = FLEX_NVM_DFLASH_SIZE_FOR_DEPART_RESERVED;
3182:../drivers/fsl_flash.c **** #endif /* FSL_FEATURE_FLASH_FLEX_NVM_DFLASH_SIZE_FOR_DEPART_1011 */
3183:../drivers/fsl_flash.c ****             break;
3184:../drivers/fsl_flash.c ****         case 0x0CU:
3185:../drivers/fsl_flash.c **** #if (FSL_FEATURE_FLASH_FLEX_NVM_DFLASH_SIZE_FOR_DEPART_1100 != 0xFFFFFFFF)
3186:../drivers/fsl_flash.c ****             config->DFlashTotalSize = FSL_FEATURE_FLASH_FLEX_NVM_DFLASH_SIZE_FOR_DEPART_1100;
3187:../drivers/fsl_flash.c **** #else
3188:../drivers/fsl_flash.c ****             config->DFlashTotalSize = FLEX_NVM_DFLASH_SIZE_FOR_DEPART_RESERVED;
3189:../drivers/fsl_flash.c **** #endif /* FSL_FEATURE_FLASH_FLEX_NVM_DFLASH_SIZE_FOR_DEPART_1100 */
3190:../drivers/fsl_flash.c ****             break;
3191:../drivers/fsl_flash.c ****         case 0x0DU:
3192:../drivers/fsl_flash.c **** #if (FSL_FEATURE_FLASH_FLEX_NVM_DFLASH_SIZE_FOR_DEPART_1101 != 0xFFFFFFFF)
3193:../drivers/fsl_flash.c ****             config->DFlashTotalSize = FSL_FEATURE_FLASH_FLEX_NVM_DFLASH_SIZE_FOR_DEPART_1101;
3194:../drivers/fsl_flash.c **** #else
3195:../drivers/fsl_flash.c ****             config->DFlashTotalSize = FLEX_NVM_DFLASH_SIZE_FOR_DEPART_RESERVED;
3196:../drivers/fsl_flash.c **** #endif /* FSL_FEATURE_FLASH_FLEX_NVM_DFLASH_SIZE_FOR_DEPART_1101 */
3197:../drivers/fsl_flash.c ****             break;
3198:../drivers/fsl_flash.c ****         case 0x0EU:
3199:../drivers/fsl_flash.c **** #if (FSL_FEATURE_FLASH_FLEX_NVM_DFLASH_SIZE_FOR_DEPART_1110 != 0xFFFFFFFF)
3200:../drivers/fsl_flash.c ****             config->DFlashTotalSize = FSL_FEATURE_FLASH_FLEX_NVM_DFLASH_SIZE_FOR_DEPART_1110;
3201:../drivers/fsl_flash.c **** #else
3202:../drivers/fsl_flash.c ****             config->DFlashTotalSize = FLEX_NVM_DFLASH_SIZE_FOR_DEPART_RESERVED;
3203:../drivers/fsl_flash.c **** #endif /* FSL_FEATURE_FLASH_FLEX_NVM_DFLASH_SIZE_FOR_DEPART_1110 */
3204:../drivers/fsl_flash.c ****             break;
3205:../drivers/fsl_flash.c ****         case 0x0FU:
3206:../drivers/fsl_flash.c **** #if (FSL_FEATURE_FLASH_FLEX_NVM_DFLASH_SIZE_FOR_DEPART_1111 != 0xFFFFFFFF)
3207:../drivers/fsl_flash.c ****             config->DFlashTotalSize = FSL_FEATURE_FLASH_FLEX_NVM_DFLASH_SIZE_FOR_DEPART_1111;
3208:../drivers/fsl_flash.c **** #else
3209:../drivers/fsl_flash.c ****             config->DFlashTotalSize = FLEX_NVM_DFLASH_SIZE_FOR_DEPART_RESERVED;
3210:../drivers/fsl_flash.c **** #endif /* FSL_FEATURE_FLASH_FLEX_NVM_DFLASH_SIZE_FOR_DEPART_1111 */
3211:../drivers/fsl_flash.c ****             break;
3212:../drivers/fsl_flash.c ****         default:
3213:../drivers/fsl_flash.c ****             config->DFlashTotalSize = FLEX_NVM_DFLASH_SIZE_FOR_DEPART_RESERVED;
3214:../drivers/fsl_flash.c ****             break;
3215:../drivers/fsl_flash.c ****     }
3216:../drivers/fsl_flash.c **** 
3217:../drivers/fsl_flash.c ****     return kStatus_FLASH_Success;
3218:../drivers/fsl_flash.c **** }
3219:../drivers/fsl_flash.c **** #endif /* FLASH_SSD_IS_FLEXNVM_ENABLED */
3220:../drivers/fsl_flash.c **** 
3221:../drivers/fsl_flash.c **** #if defined(FSL_FEATURE_FLASH_HAS_READ_RESOURCE_CMD) && FSL_FEATURE_FLASH_HAS_READ_RESOURCE_CMD
3222:../drivers/fsl_flash.c **** /*! @brief Validates the range of the given resource address.*/
3223:../drivers/fsl_flash.c **** static status_t flash_check_resource_range(uint32_t start,
3224:../drivers/fsl_flash.c ****                                            uint32_t lengthInBytes,
3225:../drivers/fsl_flash.c ****                                            uint32_t alignmentBaseline,
3226:../drivers/fsl_flash.c ****                                            flash_read_resource_option_t option)
3227:../drivers/fsl_flash.c **** {
 3884              		.loc 1 3227 1
 3885              		.cfi_startproc
 3886              		@ args = 0, pretend = 0, frame = 24
 3887              		@ frame_needed = 1, uses_anonymous_args = 0
 3888 0000 80B5     		push	{r7, lr}
 3889              		.cfi_def_cfa_offset 8
 3890              		.cfi_offset 7, -8
 3891              		.cfi_offset 14, -4
 3892 0002 86B0     		sub	sp, sp, #24
 3893              		.cfi_def_cfa_offset 32
 3894 0004 00AF     		add	r7, sp, #0
 3895              		.cfi_def_cfa_register 7
 3896 0006 F860     		str	r0, [r7, #12]
 3897 0008 B960     		str	r1, [r7, #8]
 3898 000a 7A60     		str	r2, [r7, #4]
 3899 000c 1A00     		movs	r2, r3
 3900 000e FB1C     		adds	r3, r7, #3
 3901 0010 1A70     		strb	r2, [r3]
3228:../drivers/fsl_flash.c ****     status_t status;
3229:../drivers/fsl_flash.c ****     uint32_t maxReadbleAddress;
3230:../drivers/fsl_flash.c **** 
3231:../drivers/fsl_flash.c ****     if ((start & (alignmentBaseline - 1)) || (lengthInBytes & (alignmentBaseline - 1)))
 3902              		.loc 1 3231 37
 3903 0012 7B68     		ldr	r3, [r7, #4]
 3904 0014 013B     		subs	r3, r3, #1
 3905              		.loc 1 3231 16
 3906 0016 FA68     		ldr	r2, [r7, #12]
 3907 0018 1340     		ands	r3, r2
 3908              		.loc 1 3231 8
 3909 001a 04D1     		bne	.L261
 3910              		.loc 1 3231 82 discriminator 1
 3911 001c 7B68     		ldr	r3, [r7, #4]
 3912 001e 013B     		subs	r3, r3, #1
 3913              		.loc 1 3231 61 discriminator 1
 3914 0020 BA68     		ldr	r2, [r7, #8]
 3915 0022 1340     		ands	r3, r2
 3916              		.loc 1 3231 43 discriminator 1
 3917 0024 01D0     		beq	.L262
 3918              	.L261:
3232:../drivers/fsl_flash.c ****     {
3233:../drivers/fsl_flash.c ****         return kStatus_FLASH_AlignmentError;
 3919              		.loc 1 3233 16
 3920 0026 6523     		movs	r3, #101
 3921 0028 2BE0     		b	.L263
 3922              	.L262:
3234:../drivers/fsl_flash.c ****     }
3235:../drivers/fsl_flash.c **** 
3236:../drivers/fsl_flash.c ****     status = kStatus_FLASH_Success;
 3923              		.loc 1 3236 12
 3924 002a 0023     		movs	r3, #0
 3925 002c 7B61     		str	r3, [r7, #20]
3237:../drivers/fsl_flash.c **** 
3238:../drivers/fsl_flash.c ****     maxReadbleAddress = start + lengthInBytes - 1;
 3926              		.loc 1 3238 31
 3927 002e FA68     		ldr	r2, [r7, #12]
 3928 0030 BB68     		ldr	r3, [r7, #8]
 3929 0032 D318     		adds	r3, r2, r3
 3930              		.loc 1 3238 23
 3931 0034 013B     		subs	r3, r3, #1
 3932 0036 3B61     		str	r3, [r7, #16]
3239:../drivers/fsl_flash.c ****     if (option == kFLASH_ResourceOptionVersionId)
 3933              		.loc 1 3239 8
 3934 0038 FB1C     		adds	r3, r7, #3
 3935 003a 1B78     		ldrb	r3, [r3]
 3936 003c 012B     		cmp	r3, #1
 3937 003e 0AD1     		bne	.L264
3240:../drivers/fsl_flash.c ****     {
3241:../drivers/fsl_flash.c ****         if ((start != kFLASH_ResourceRangeVersionIdStart) ||
 3938              		.loc 1 3241 12
 3939 0040 FB68     		ldr	r3, [r7, #12]
 3940 0042 002B     		cmp	r3, #0
 3941 0044 04D1     		bne	.L265
3242:../drivers/fsl_flash.c ****             ((start + lengthInBytes - 1) != kFLASH_ResourceRangeVersionIdEnd))
 3942              		.loc 1 3242 21 discriminator 1
 3943 0046 FA68     		ldr	r2, [r7, #12]
 3944 0048 BB68     		ldr	r3, [r7, #8]
 3945 004a D318     		adds	r3, r2, r3
3241:../drivers/fsl_flash.c ****             ((start + lengthInBytes - 1) != kFLASH_ResourceRangeVersionIdEnd))
 3946              		.loc 1 3241 59 discriminator 1
 3947 004c 082B     		cmp	r3, #8
 3948 004e 17D0     		beq	.L266
 3949              	.L265:
3243:../drivers/fsl_flash.c ****         {
3244:../drivers/fsl_flash.c ****             status = kStatus_FLASH_InvalidArgument;
 3950              		.loc 1 3244 20
 3951 0050 0423     		movs	r3, #4
 3952 0052 7B61     		str	r3, [r7, #20]
 3953 0054 14E0     		b	.L266
 3954              	.L264:
3245:../drivers/fsl_flash.c ****         }
3246:../drivers/fsl_flash.c ****     }
3247:../drivers/fsl_flash.c ****     else if (option == kFLASH_ResourceOptionFlashIfr)
 3955              		.loc 1 3247 13
 3956 0056 FB1C     		adds	r3, r7, #3
 3957 0058 1B78     		ldrb	r3, [r3]
 3958 005a 002B     		cmp	r3, #0
 3959 005c 0ED1     		bne	.L267
3248:../drivers/fsl_flash.c ****     {
3249:../drivers/fsl_flash.c ****         if (maxReadbleAddress < kFLASH_ResourceRangePflashIfrSizeInBytes)
 3960              		.loc 1 3249 12
 3961 005e 3B69     		ldr	r3, [r7, #16]
 3962 0060 FF2B     		cmp	r3, #255
 3963 0062 0DD9     		bls	.L266
3250:../drivers/fsl_flash.c ****         {
3251:../drivers/fsl_flash.c ****         }
3252:../drivers/fsl_flash.c **** #if defined(FSL_FEATURE_FLASH_HAS_PFLASH_BLOCK_SWAP) && FSL_FEATURE_FLASH_HAS_PFLASH_BLOCK_SWAP
3253:../drivers/fsl_flash.c ****         else if ((start >= kFLASH_ResourceRangePflashSwapIfrStart) &&
3254:../drivers/fsl_flash.c ****                  (maxReadbleAddress <= kFLASH_ResourceRangePflashSwapIfrEnd))
3255:../drivers/fsl_flash.c ****         {
3256:../drivers/fsl_flash.c ****         }
3257:../drivers/fsl_flash.c **** #endif /* FSL_FEATURE_FLASH_HAS_PFLASH_BLOCK_SWAP */
3258:../drivers/fsl_flash.c ****         else if ((start >= kFLASH_ResourceRangeDflashIfrStart) &&
 3964              		.loc 1 3258 17
 3965 0064 FA68     		ldr	r2, [r7, #12]
 3966 0066 8023     		movs	r3, #128
 3967 0068 1B04     		lsls	r3, r3, #16
 3968 006a 9A42     		cmp	r2, r3
 3969 006c 03D3     		bcc	.L269
 3970              		.loc 1 3258 64 discriminator 1
 3971 006e 3B69     		ldr	r3, [r7, #16]
 3972 0070 064A     		ldr	r2, .L270
 3973 0072 9342     		cmp	r3, r2
 3974 0074 04D9     		bls	.L266
 3975              	.L269:
3259:../drivers/fsl_flash.c ****                  (maxReadbleAddress <= kFLASH_ResourceRangeDflashIfrEnd))
3260:../drivers/fsl_flash.c ****         {
3261:../drivers/fsl_flash.c ****         }
3262:../drivers/fsl_flash.c ****         else
3263:../drivers/fsl_flash.c ****         {
3264:../drivers/fsl_flash.c ****             status = kStatus_FLASH_InvalidArgument;
 3976              		.loc 1 3264 20
 3977 0076 0423     		movs	r3, #4
 3978 0078 7B61     		str	r3, [r7, #20]
 3979 007a 01E0     		b	.L266
 3980              	.L267:
3265:../drivers/fsl_flash.c ****         }
3266:../drivers/fsl_flash.c ****     }
3267:../drivers/fsl_flash.c ****     else
3268:../drivers/fsl_flash.c ****     {
3269:../drivers/fsl_flash.c ****         status = kStatus_FLASH_InvalidArgument;
 3981              		.loc 1 3269 16
 3982 007c 0423     		movs	r3, #4
 3983 007e 7B61     		str	r3, [r7, #20]
 3984              	.L266:
3270:../drivers/fsl_flash.c ****     }
3271:../drivers/fsl_flash.c **** 
3272:../drivers/fsl_flash.c ****     return status;
 3985              		.loc 1 3272 12
 3986 0080 7B69     		ldr	r3, [r7, #20]
 3987              	.L263:
3273:../drivers/fsl_flash.c **** }
 3988              		.loc 1 3273 1
 3989 0082 1800     		movs	r0, r3
 3990 0084 BD46     		mov	sp, r7
 3991 0086 06B0     		add	sp, sp, #24
 3992              		@ sp needed
 3993 0088 80BD     		pop	{r7, pc}
 3994              	.L271:
 3995 008a C046     		.align	2
 3996              	.L270:
 3997 008c FF038000 		.word	8389631
 3998              		.cfi_endproc
 3999              	.LFE90:
 4001              		.section	.text.flash_get_protection_info,"ax",%progbits
 4002              		.align	1
 4003              		.syntax unified
 4004              		.code	16
 4005              		.thumb_func
 4006              		.fpu softvfp
 4008              	flash_get_protection_info:
 4009              	.LFB91:
3274:../drivers/fsl_flash.c **** #endif /* FSL_FEATURE_FLASH_HAS_READ_RESOURCE_CMD */
3275:../drivers/fsl_flash.c **** 
3276:../drivers/fsl_flash.c **** #if defined(FSL_FEATURE_FLASH_HAS_SWAP_CONTROL_CMD) && FSL_FEATURE_FLASH_HAS_SWAP_CONTROL_CMD
3277:../drivers/fsl_flash.c **** /*! @brief Validates the gived swap control option.*/
3278:../drivers/fsl_flash.c **** static status_t flash_check_swap_control_option(flash_swap_control_option_t option)
3279:../drivers/fsl_flash.c **** {
3280:../drivers/fsl_flash.c ****     if ((option == kFLASH_SwapControlOptionIntializeSystem) || (option == kFLASH_SwapControlOptionS
3281:../drivers/fsl_flash.c ****         (option == kFLASH_SwapControlOptionSetInCompleteState) || (option == kFLASH_SwapControlOpti
3282:../drivers/fsl_flash.c ****         (option == kFLASH_SwapControlOptionDisableSystem))
3283:../drivers/fsl_flash.c ****     {
3284:../drivers/fsl_flash.c ****         return kStatus_FLASH_Success;
3285:../drivers/fsl_flash.c ****     }
3286:../drivers/fsl_flash.c **** 
3287:../drivers/fsl_flash.c ****     return kStatus_FLASH_InvalidArgument;
3288:../drivers/fsl_flash.c **** }
3289:../drivers/fsl_flash.c **** #endif /* FSL_FEATURE_FLASH_HAS_SWAP_CONTROL_CMD */
3290:../drivers/fsl_flash.c **** 
3291:../drivers/fsl_flash.c **** #if defined(FSL_FEATURE_FLASH_HAS_PFLASH_BLOCK_SWAP) && FSL_FEATURE_FLASH_HAS_PFLASH_BLOCK_SWAP
3292:../drivers/fsl_flash.c **** /*! @brief Validates the gived address to see if it is equal to swap indicator address in pflash sw
3293:../drivers/fsl_flash.c **** static status_t flash_validate_swap_indicator_address(flash_config_t *config, uint32_t address)
3294:../drivers/fsl_flash.c **** {
3295:../drivers/fsl_flash.c ****     flash_swap_ifr_field_data_t flashSwapIfrFieldData;
3296:../drivers/fsl_flash.c ****     uint32_t swapIndicatorAddress;
3297:../drivers/fsl_flash.c **** 
3298:../drivers/fsl_flash.c ****     status_t returnCode;
3299:../drivers/fsl_flash.c **** #if defined(FSL_FEATURE_FLASH_HAS_READ_RESOURCE_CMD) && FSL_FEATURE_FLASH_HAS_READ_RESOURCE_CMD
3300:../drivers/fsl_flash.c ****     returnCode =
3301:../drivers/fsl_flash.c ****         FLASH_ReadResource(config, kFLASH_ResourceRangePflashSwapIfrStart, flashSwapIfrFieldData.fl
3302:../drivers/fsl_flash.c ****                            sizeof(flashSwapIfrFieldData.flashSwapIfrData), kFLASH_ResourceOptionFla
3303:../drivers/fsl_flash.c **** 
3304:../drivers/fsl_flash.c ****     if (returnCode != kStatus_FLASH_Success)
3305:../drivers/fsl_flash.c ****     {
3306:../drivers/fsl_flash.c ****         return returnCode;
3307:../drivers/fsl_flash.c ****     }
3308:../drivers/fsl_flash.c **** #else
3309:../drivers/fsl_flash.c ****     {
3310:../drivers/fsl_flash.c ****         /* From RM, the actual info are stored in FCCOB6,7 */
3311:../drivers/fsl_flash.c ****         uint32_t returnValue[2];
3312:../drivers/fsl_flash.c ****         returnCode = FLASH_ReadOnce(config, kFLASH_RecordIndexSwapAddr, returnValue, 4);
3313:../drivers/fsl_flash.c ****         if (returnCode != kStatus_FLASH_Success)
3314:../drivers/fsl_flash.c ****         {
3315:../drivers/fsl_flash.c ****             return returnCode;
3316:../drivers/fsl_flash.c ****         }
3317:../drivers/fsl_flash.c ****         flashSwapIfrFieldData.flashSwapIfrField.swapIndicatorAddress = (uint16_t)returnValue[0];
3318:../drivers/fsl_flash.c ****         returnCode = FLASH_ReadOnce(config, kFLASH_RecordIndexSwapEnable, returnValue, 4);
3319:../drivers/fsl_flash.c ****         if (returnCode != kStatus_FLASH_Success)
3320:../drivers/fsl_flash.c ****         {
3321:../drivers/fsl_flash.c ****             return returnCode;
3322:../drivers/fsl_flash.c ****         }
3323:../drivers/fsl_flash.c ****         flashSwapIfrFieldData.flashSwapIfrField.swapEnableWord = (uint16_t)returnValue[0];
3324:../drivers/fsl_flash.c ****         returnCode = FLASH_ReadOnce(config, kFLASH_RecordIndexSwapDisable, returnValue, 4);
3325:../drivers/fsl_flash.c ****         if (returnCode != kStatus_FLASH_Success)
3326:../drivers/fsl_flash.c ****         {
3327:../drivers/fsl_flash.c ****             return returnCode;
3328:../drivers/fsl_flash.c ****         }
3329:../drivers/fsl_flash.c ****         flashSwapIfrFieldData.flashSwapIfrField.swapDisableWord = (uint16_t)returnValue[0];
3330:../drivers/fsl_flash.c ****     }
3331:../drivers/fsl_flash.c **** #endif
3332:../drivers/fsl_flash.c **** 
3333:../drivers/fsl_flash.c ****     /* The high bits value of Swap Indicator Address is stored in Program Flash Swap IFR Field,
3334:../drivers/fsl_flash.c ****      * the low severval bit value of Swap Indicator Address is always 1'b0 */
3335:../drivers/fsl_flash.c ****     swapIndicatorAddress = (uint32_t)flashSwapIfrFieldData.flashSwapIfrField.swapIndicatorAddress *
3336:../drivers/fsl_flash.c ****                            FSL_FEATURE_FLASH_PFLASH_SWAP_CONTROL_CMD_ADDRESS_ALIGMENT;
3337:../drivers/fsl_flash.c ****     if (address != swapIndicatorAddress)
3338:../drivers/fsl_flash.c ****     {
3339:../drivers/fsl_flash.c ****         return kStatus_FLASH_SwapIndicatorAddressError;
3340:../drivers/fsl_flash.c ****     }
3341:../drivers/fsl_flash.c **** 
3342:../drivers/fsl_flash.c ****     return returnCode;
3343:../drivers/fsl_flash.c **** }
3344:../drivers/fsl_flash.c **** #endif /* FSL_FEATURE_FLASH_HAS_PFLASH_BLOCK_SWAP */
3345:../drivers/fsl_flash.c **** 
3346:../drivers/fsl_flash.c **** #if defined(FSL_FEATURE_FLASH_HAS_SET_FLEXRAM_FUNCTION_CMD) && FSL_FEATURE_FLASH_HAS_SET_FLEXRAM_FU
3347:../drivers/fsl_flash.c **** /*! @brief Validates the gived flexram function option.*/
3348:../drivers/fsl_flash.c **** static inline status_t flasn_check_flexram_function_option_range(flash_flexram_function_option_t op
3349:../drivers/fsl_flash.c **** {
3350:../drivers/fsl_flash.c ****     if ((option != kFLASH_FlexramFunctionOptionAvailableAsRam) &&
3351:../drivers/fsl_flash.c ****         (option != kFLASH_FlexramFunctionOptionAvailableForEeprom))
3352:../drivers/fsl_flash.c ****     {
3353:../drivers/fsl_flash.c ****         return kStatus_FLASH_InvalidArgument;
3354:../drivers/fsl_flash.c ****     }
3355:../drivers/fsl_flash.c **** 
3356:../drivers/fsl_flash.c ****     return kStatus_FLASH_Success;
3357:../drivers/fsl_flash.c **** }
3358:../drivers/fsl_flash.c **** #endif /* FSL_FEATURE_FLASH_HAS_SET_FLEXRAM_FUNCTION_CMD */
3359:../drivers/fsl_flash.c **** 
3360:../drivers/fsl_flash.c **** /*! @brief Gets the flash protection information (region size, region count).*/
3361:../drivers/fsl_flash.c **** static status_t flash_get_protection_info(flash_config_t *config, flash_protection_config_t *info)
3362:../drivers/fsl_flash.c **** {
 4010              		.loc 1 3362 1
 4011              		.cfi_startproc
 4012              		@ args = 0, pretend = 0, frame = 16
 4013              		@ frame_needed = 1, uses_anonymous_args = 0
 4014 0000 80B5     		push	{r7, lr}
 4015              		.cfi_def_cfa_offset 8
 4016              		.cfi_offset 7, -8
 4017              		.cfi_offset 14, -4
 4018 0002 84B0     		sub	sp, sp, #16
 4019              		.cfi_def_cfa_offset 24
 4020 0004 00AF     		add	r7, sp, #0
 4021              		.cfi_def_cfa_register 7
 4022 0006 7860     		str	r0, [r7, #4]
 4023 0008 3960     		str	r1, [r7]
3363:../drivers/fsl_flash.c ****     uint32_t pflashTotalSize;
3364:../drivers/fsl_flash.c **** 
3365:../drivers/fsl_flash.c ****     if (config == NULL)
 4024              		.loc 1 3365 8
 4025 000a 7B68     		ldr	r3, [r7, #4]
 4026 000c 002B     		cmp	r3, #0
 4027 000e 01D1     		bne	.L273
3366:../drivers/fsl_flash.c ****     {
3367:../drivers/fsl_flash.c ****         return kStatus_FLASH_InvalidArgument;
 4028              		.loc 1 3367 16
 4029 0010 0423     		movs	r3, #4
 4030 0012 25E0     		b	.L274
 4031              	.L273:
3368:../drivers/fsl_flash.c ****     }
3369:../drivers/fsl_flash.c **** 
3370:../drivers/fsl_flash.c ****     /* Clean up info Structure*/
3371:../drivers/fsl_flash.c ****     memset(info, 0, sizeof(flash_protection_config_t));
 4032              		.loc 1 3371 5
 4033 0014 3B68     		ldr	r3, [r7]
 4034 0016 0C22     		movs	r2, #12
 4035 0018 0021     		movs	r1, #0
 4036 001a 1800     		movs	r0, r3
 4037 001c FFF7FEFF 		bl	memset
3372:../drivers/fsl_flash.c **** 
3373:../drivers/fsl_flash.c **** /* Note: KW40 has a secondary flash, but it doesn't have independent protection register*/
3374:../drivers/fsl_flash.c **** #if FLASH_SSD_IS_SECONDARY_FLASH_ENABLED && (!FLASH_SSD_SECONDARY_FLASH_HAS_ITS_OWN_PROTECTION_REGI
3375:../drivers/fsl_flash.c ****     pflashTotalSize = FSL_FEATURE_FLASH_PFLASH_BLOCK_COUNT * FSL_FEATURE_FLASH_PFLASH_BLOCK_SIZE +
3376:../drivers/fsl_flash.c ****                       FSL_FEATURE_FLASH_PFLASH_1_BLOCK_COUNT * FSL_FEATURE_FLASH_PFLASH_1_BLOCK_SIZ
3377:../drivers/fsl_flash.c ****     info->regionBase = FSL_FEATURE_FLASH_PFLASH_START_ADDRESS;
3378:../drivers/fsl_flash.c **** #else
3379:../drivers/fsl_flash.c ****     pflashTotalSize = config->PFlashTotalSize;
 4038              		.loc 1 3379 21
 4039 0020 7B68     		ldr	r3, [r7, #4]
 4040 0022 5B68     		ldr	r3, [r3, #4]
 4041 0024 FB60     		str	r3, [r7, #12]
3380:../drivers/fsl_flash.c ****     info->regionBase = config->PFlashBlockBase;
 4042              		.loc 1 3380 30
 4043 0026 7B68     		ldr	r3, [r7, #4]
 4044 0028 1A68     		ldr	r2, [r3]
 4045              		.loc 1 3380 22
 4046 002a 3B68     		ldr	r3, [r7]
 4047 002c 1A60     		str	r2, [r3]
3381:../drivers/fsl_flash.c **** #endif
3382:../drivers/fsl_flash.c **** 
3383:../drivers/fsl_flash.c **** #if FLASH_SSD_IS_SECONDARY_FLASH_ENABLED && FLASH_SSD_SECONDARY_FLASH_HAS_ITS_OWN_PROTECTION_REGIST
3384:../drivers/fsl_flash.c ****     if (config->FlashMemoryIndex == (uint8_t)kFLASH_MemoryIndexSecondaryFlash)
3385:../drivers/fsl_flash.c ****     {
3386:../drivers/fsl_flash.c ****         info->regionCount = FSL_FEATURE_FLASH_PFLASH_1_PROTECTION_REGION_COUNT;
3387:../drivers/fsl_flash.c ****     }
3388:../drivers/fsl_flash.c ****     else
3389:../drivers/fsl_flash.c **** #endif
3390:../drivers/fsl_flash.c ****     {
3391:../drivers/fsl_flash.c ****         info->regionCount = FSL_FEATURE_FLASH_PFLASH_PROTECTION_REGION_COUNT;
 4048              		.loc 1 3391 27
 4049 002e 3B68     		ldr	r3, [r7]
 4050 0030 2022     		movs	r2, #32
 4051 0032 9A60     		str	r2, [r3, #8]
3392:../drivers/fsl_flash.c ****     }
3393:../drivers/fsl_flash.c **** 
3394:../drivers/fsl_flash.c ****     /* Calculate the size of the flash protection region
3395:../drivers/fsl_flash.c ****      * If the flash density is > 32KB, then protection region is 1/32 of total flash density
3396:../drivers/fsl_flash.c ****      * Else if flash density is < 32KB, then flash protection region is set to 1KB */
3397:../drivers/fsl_flash.c ****     if (pflashTotalSize > info->regionCount * 1024)
 4052              		.loc 1 3397 31
 4053 0034 3B68     		ldr	r3, [r7]
 4054 0036 9B68     		ldr	r3, [r3, #8]
 4055              		.loc 1 3397 45
 4056 0038 9B02     		lsls	r3, r3, #10
 4057              		.loc 1 3397 8
 4058 003a FA68     		ldr	r2, [r7, #12]
 4059 003c 9A42     		cmp	r2, r3
 4060 003e 0AD9     		bls	.L275
3398:../drivers/fsl_flash.c ****     {
3399:../drivers/fsl_flash.c ****         info->regionSize = (pflashTotalSize) / info->regionCount;
 4061              		.loc 1 3399 52
 4062 0040 3B68     		ldr	r3, [r7]
 4063 0042 9B68     		ldr	r3, [r3, #8]
 4064              		.loc 1 3399 46
 4065 0044 1900     		movs	r1, r3
 4066 0046 F868     		ldr	r0, [r7, #12]
 4067 0048 FFF7FEFF 		bl	__aeabi_uidiv
 4068              	.LVL9:
 4069 004c 0300     		movs	r3, r0
 4070 004e 1A00     		movs	r2, r3
 4071              		.loc 1 3399 26
 4072 0050 3B68     		ldr	r3, [r7]
 4073 0052 5A60     		str	r2, [r3, #4]
 4074 0054 03E0     		b	.L276
 4075              	.L275:
3400:../drivers/fsl_flash.c ****     }
3401:../drivers/fsl_flash.c ****     else
3402:../drivers/fsl_flash.c ****     {
3403:../drivers/fsl_flash.c ****         info->regionSize = 1024;
 4076              		.loc 1 3403 26
 4077 0056 3B68     		ldr	r3, [r7]
 4078 0058 8022     		movs	r2, #128
 4079 005a D200     		lsls	r2, r2, #3
 4080 005c 5A60     		str	r2, [r3, #4]
 4081              	.L276:
3404:../drivers/fsl_flash.c ****     }
3405:../drivers/fsl_flash.c **** 
3406:../drivers/fsl_flash.c ****     return kStatus_FLASH_Success;
 4082              		.loc 1 3406 12
 4083 005e 0023     		movs	r3, #0
 4084              	.L274:
3407:../drivers/fsl_flash.c **** }
 4085              		.loc 1 3407 1
 4086 0060 1800     		movs	r0, r3
 4087 0062 BD46     		mov	sp, r7
 4088 0064 04B0     		add	sp, sp, #16
 4089              		@ sp needed
 4090 0066 80BD     		pop	{r7, pc}
 4091              		.cfi_endproc
 4092              	.LFE91:
 4094              		.text
 4095              	.Letext0:
 4096              		.file 2 "/usr/local/mcuxpressoide-11.2.0_4120/ide/plugins/com.nxp.mcuxpresso.tools.linux_11.2.0.20
 4097              		.file 3 "/usr/local/mcuxpressoide-11.2.0_4120/ide/plugins/com.nxp.mcuxpresso.tools.linux_11.2.0.20
 4098              		.file 4 "/home/arpit/studies/pes/Blinkenlights/CMSIS/system_MKL25Z4.h"
 4099              		.file 5 "/home/arpit/studies/pes/Blinkenlights/CMSIS/MKL25Z4.h"
 4100              		.file 6 "../drivers/fsl_common.h"
 4101              		.file 7 "../drivers/fsl_clock.h"
 4102              		.file 8 "../drivers/fsl_flash.h"
DEFINED SYMBOLS
                            *ABS*:0000000000000000 fsl_flash.c
     /tmp/ccbX2KHW.s:20     .rodata.kFCCOBx:0000000000000000 kFCCOBx
     /tmp/ccbX2KHW.s:17     .rodata.kFCCOBx:0000000000000000 $d
     /tmp/ccbX2KHW.s:27     .rodata.kFPROTL:0000000000000000 kFPROTL
     /tmp/ccbX2KHW.s:24     .rodata.kFPROTL:0000000000000000 $d
     /tmp/ccbX2KHW.s:30     .bss.callFlashRunCommand:0000000000000000 $d
     /tmp/ccbX2KHW.s:33     .bss.callFlashRunCommand:0000000000000000 callFlashRunCommand
     /tmp/ccbX2KHW.s:36     .bss.callFlashCommonBitOperation:0000000000000000 $d
     /tmp/ccbX2KHW.s:39     .bss.callFlashCommonBitOperation:0000000000000000 callFlashCommonBitOperation
     /tmp/ccbX2KHW.s:42     .rodata.s_flashRunCommandFunctionCode:0000000000000000 $d
     /tmp/ccbX2KHW.s:45     .rodata.s_flashRunCommandFunctionCode:0000000000000000 s_flashRunCommandFunctionCode
     /tmp/ccbX2KHW.s:53     .rodata.s_flashCommonBitOperationFunctionCode:0000000000000000 $d
     /tmp/ccbX2KHW.s:56     .rodata.s_flashCommonBitOperationFunctionCode:0000000000000000 s_flashCommonBitOperationFunctionCode
     /tmp/ccbX2KHW.s:72     .bss.s_flashRunCommand:0000000000000000 $d
     /tmp/ccbX2KHW.s:75     .bss.s_flashRunCommand:0000000000000000 s_flashRunCommand
     /tmp/ccbX2KHW.s:78     .bss.s_flashCommonBitOperation:0000000000000000 $d
     /tmp/ccbX2KHW.s:81     .bss.s_flashCommonBitOperation:0000000000000000 s_flashCommonBitOperation
     /tmp/ccbX2KHW.s:84     .bss.s_flashExecuteInRamFunctionInfo:0000000000000000 $d
     /tmp/ccbX2KHW.s:87     .bss.s_flashExecuteInRamFunctionInfo:0000000000000000 s_flashExecuteInRamFunctionInfo
     /tmp/ccbX2KHW.s:94     .rodata.kPFlashDensities:0000000000000000 kPFlashDensities
     /tmp/ccbX2KHW.s:91     .rodata.kPFlashDensities:0000000000000000 $d
     /tmp/ccbX2KHW.s:111    .text.FLASH_Init:0000000000000000 $t
     /tmp/ccbX2KHW.s:119    .text.FLASH_Init:0000000000000000 FLASH_Init
     /tmp/ccbX2KHW.s:3580   .text.flash_check_execute_in_ram_function_info:0000000000000000 flash_check_execute_in_ram_function_info
     /tmp/ccbX2KHW.s:322    .text.FLASH_PrepareExecuteInRamFunctions:0000000000000000 FLASH_PrepareExecuteInRamFunctions
     /tmp/ccbX2KHW.s:257    .text.FLASH_Init:00000000000000b4 $d
     /tmp/ccbX2KHW.s:267    .text.FLASH_SetCallback:0000000000000000 $t
     /tmp/ccbX2KHW.s:274    .text.FLASH_SetCallback:0000000000000000 FLASH_SetCallback
     /tmp/ccbX2KHW.s:315    .text.FLASH_PrepareExecuteInRamFunctions:0000000000000000 $t
     /tmp/ccbX2KHW.s:3216   .text.copy_flash_run_command:0000000000000000 copy_flash_run_command
     /tmp/ccbX2KHW.s:3374   .text.copy_flash_common_bit_operation:0000000000000000 copy_flash_common_bit_operation
     /tmp/ccbX2KHW.s:376    .text.FLASH_EraseAll:0000000000000000 $t
     /tmp/ccbX2KHW.s:383    .text.FLASH_EraseAll:0000000000000000 FLASH_EraseAll
     /tmp/ccbX2KHW.s:3835   .text.flash_check_user_key:0000000000000000 flash_check_user_key
     /tmp/ccbX2KHW.s:3523   .text.flash_cache_clear_process:0000000000000000 flash_cache_clear_process
     /tmp/ccbX2KHW.s:3267   .text.flash_command_sequence:0000000000000000 flash_command_sequence
     /tmp/ccbX2KHW.s:3487   .text.flash_cache_clear:0000000000000000 flash_cache_clear
     /tmp/ccbX2KHW.s:453    .text.FLASH_EraseAll:0000000000000058 $d
     /tmp/ccbX2KHW.s:461    .text.FLASH_Erase:0000000000000000 $t
     /tmp/ccbX2KHW.s:468    .text.FLASH_Erase:0000000000000000 FLASH_Erase
     /tmp/ccbX2KHW.s:3734   .text.flash_get_matched_operation_info:0000000000000000 flash_get_matched_operation_info
     /tmp/ccbX2KHW.s:3642   .text.flash_check_range:0000000000000000 flash_check_range
     /tmp/ccbX2KHW.s:642    .text.FLASH_Erase:00000000000000f0 $d
     /tmp/ccbX2KHW.s:647    .text.FLASH_EraseAllExecuteOnlySegments:0000000000000000 $t
     /tmp/ccbX2KHW.s:654    .text.FLASH_EraseAllExecuteOnlySegments:0000000000000000 FLASH_EraseAllExecuteOnlySegments
     /tmp/ccbX2KHW.s:724    .text.FLASH_EraseAllExecuteOnlySegments:0000000000000058 $d
     /tmp/ccbX2KHW.s:730    .text.FLASH_Program:0000000000000000 $t
     /tmp/ccbX2KHW.s:737    .text.FLASH_Program:0000000000000000 FLASH_Program
     /tmp/ccbX2KHW.s:928    .text.FLASH_Program:00000000000000fc $d
     /tmp/ccbX2KHW.s:933    .text.FLASH_ProgramOnce:0000000000000000 $t
     /tmp/ccbX2KHW.s:940    .text.FLASH_ProgramOnce:0000000000000000 FLASH_ProgramOnce
     /tmp/ccbX2KHW.s:1044   .text.FLASH_ProgramOnce:0000000000000084 $d
     /tmp/ccbX2KHW.s:1050   .text.FLASH_ReadResource:0000000000000000 $t
     /tmp/ccbX2KHW.s:1057   .text.FLASH_ReadResource:0000000000000000 FLASH_ReadResource
     /tmp/ccbX2KHW.s:3882   .text.flash_check_resource_range:0000000000000000 flash_check_resource_range
     /tmp/ccbX2KHW.s:1252   .text.FLASH_ReadResource:0000000000000108 $d
     /tmp/ccbX2KHW.s:1258   .text.FLASH_ReadOnce:0000000000000000 $t
     /tmp/ccbX2KHW.s:1265   .text.FLASH_ReadOnce:0000000000000000 FLASH_ReadOnce
     /tmp/ccbX2KHW.s:1362   .text.FLASH_ReadOnce:0000000000000078 $d
     /tmp/ccbX2KHW.s:1368   .text.FLASH_GetSecurityState:0000000000000000 $t
     /tmp/ccbX2KHW.s:1375   .text.FLASH_GetSecurityState:0000000000000000 FLASH_GetSecurityState
     /tmp/ccbX2KHW.s:1457   .text.FLASH_GetSecurityState:0000000000000060 $d
     /tmp/ccbX2KHW.s:1462   .text.FLASH_SecurityBypass:0000000000000000 $t
     /tmp/ccbX2KHW.s:1469   .text.FLASH_SecurityBypass:0000000000000000 FLASH_SecurityBypass
     /tmp/ccbX2KHW.s:1591   .text.FLASH_SecurityBypass:00000000000000a8 $d
     /tmp/ccbX2KHW.s:1598   .text.FLASH_VerifyEraseAll:0000000000000000 $t
     /tmp/ccbX2KHW.s:1605   .text.FLASH_VerifyEraseAll:0000000000000000 FLASH_VerifyEraseAll
     /tmp/ccbX2KHW.s:1657   .text.FLASH_VerifyEraseAll:0000000000000038 $d
     /tmp/ccbX2KHW.s:1663   .text.FLASH_VerifyErase:0000000000000000 $t
     /tmp/ccbX2KHW.s:1670   .text.FLASH_VerifyErase:0000000000000000 FLASH_VerifyErase
     /tmp/ccbX2KHW.s:1858   .text.FLASH_VerifyErase:0000000000000108 $d
     /tmp/ccbX2KHW.s:1863   .text.FLASH_VerifyProgram:0000000000000000 $t
     /tmp/ccbX2KHW.s:1870   .text.FLASH_VerifyProgram:0000000000000000 FLASH_VerifyProgram
     /tmp/ccbX2KHW.s:2041   .text.FLASH_VerifyProgram:00000000000000e4 $d
     /tmp/ccbX2KHW.s:2047   .text.FLASH_VerifyEraseAllExecuteOnlySegments:0000000000000000 $t
     /tmp/ccbX2KHW.s:2054   .text.FLASH_VerifyEraseAllExecuteOnlySegments:0000000000000000 FLASH_VerifyEraseAllExecuteOnlySegments
     /tmp/ccbX2KHW.s:2106   .text.FLASH_VerifyEraseAllExecuteOnlySegments:0000000000000038 $d
     /tmp/ccbX2KHW.s:2112   .text.FLASH_IsProtected:0000000000000000 $t
     /tmp/ccbX2KHW.s:2119   .text.FLASH_IsProtected:0000000000000000 FLASH_IsProtected
     /tmp/ccbX2KHW.s:4008   .text.flash_get_protection_info:0000000000000000 flash_get_protection_info
     /tmp/ccbX2KHW.s:2548   .text.FLASH_IsProtected:0000000000000284 $d
     /tmp/ccbX2KHW.s:2553   .text.FLASH_IsExecuteOnly:0000000000000000 $t
     /tmp/ccbX2KHW.s:2560   .text.FLASH_IsExecuteOnly:0000000000000000 FLASH_IsExecuteOnly
     /tmp/ccbX2KHW.s:2619   .text.FLASH_GetProperty:0000000000000000 $t
     /tmp/ccbX2KHW.s:2626   .text.FLASH_GetProperty:0000000000000000 FLASH_GetProperty
     /tmp/ccbX2KHW.s:2671   .rodata.FLASH_GetProperty:0000000000000000 $d
     /tmp/ccbX2KHW.s:2791   .text.FLASH_GetProperty:00000000000000a8 $d
     /tmp/ccbX2KHW.s:2796   .text.FLASH_SetProperty:0000000000000000 $t
     /tmp/ccbX2KHW.s:2803   .text.FLASH_SetProperty:0000000000000000 FLASH_SetProperty
     /tmp/ccbX2KHW.s:2892   .text.FLASH_PflashSetProtection:0000000000000000 $t
     /tmp/ccbX2KHW.s:2899   .text.FLASH_PflashSetProtection:0000000000000000 FLASH_PflashSetProtection
     /tmp/ccbX2KHW.s:2955   .text.FLASH_PflashSetProtection:0000000000000038 $d
     /tmp/ccbX2KHW.s:2960   .text.FLASH_PflashGetProtection:0000000000000000 $t
     /tmp/ccbX2KHW.s:2967   .text.FLASH_PflashGetProtection:0000000000000000 FLASH_PflashGetProtection
     /tmp/ccbX2KHW.s:3014   .text.FLASH_PflashGetProtection:000000000000002c $d
     /tmp/ccbX2KHW.s:3019   .text.FLASH_PflashSetPrefetchSpeculation:0000000000000000 $t
     /tmp/ccbX2KHW.s:3026   .text.FLASH_PflashSetPrefetchSpeculation:0000000000000000 FLASH_PflashSetPrefetchSpeculation
     /tmp/ccbX2KHW.s:3115   .text.FLASH_PflashSetPrefetchSpeculation:000000000000006c $d
     /tmp/ccbX2KHW.s:3122   .text.FLASH_PflashGetPrefetchSpeculation:0000000000000000 $t
     /tmp/ccbX2KHW.s:3129   .text.FLASH_PflashGetPrefetchSpeculation:0000000000000000 FLASH_PflashGetPrefetchSpeculation
     /tmp/ccbX2KHW.s:3205   .text.FLASH_PflashGetPrefetchSpeculation:0000000000000058 $d
     /tmp/ccbX2KHW.s:3210   .text.copy_flash_run_command:0000000000000000 $t
     /tmp/ccbX2KHW.s:3255   .text.copy_flash_run_command:0000000000000028 $d
     /tmp/ccbX2KHW.s:3261   .text.flash_command_sequence:0000000000000000 $t
     /tmp/ccbX2KHW.s:3362   .text.flash_command_sequence:0000000000000070 $d
     /tmp/ccbX2KHW.s:3368   .text.copy_flash_common_bit_operation:0000000000000000 $t
     /tmp/ccbX2KHW.s:3423   .text.copy_flash_common_bit_operation:0000000000000034 $d
     /tmp/ccbX2KHW.s:3429   .text.mcm_flash_cache_clear:0000000000000000 $t
     /tmp/ccbX2KHW.s:3436   .text.mcm_flash_cache_clear:0000000000000000 mcm_flash_cache_clear
     /tmp/ccbX2KHW.s:3474   .text.mcm_flash_cache_clear:0000000000000024 $d
     /tmp/ccbX2KHW.s:3480   .text.flash_cache_clear:0000000000000000 $t
     /tmp/ccbX2KHW.s:3517   .text.flash_cache_clear_process:0000000000000000 $t
     /tmp/ccbX2KHW.s:3574   .text.flash_check_execute_in_ram_function_info:0000000000000000 $t
     /tmp/ccbX2KHW.s:3636   .text.flash_check_range:0000000000000000 $t
     /tmp/ccbX2KHW.s:3728   .text.flash_get_matched_operation_info:0000000000000000 $t
     /tmp/ccbX2KHW.s:3829   .text.flash_check_user_key:0000000000000000 $t
     /tmp/ccbX2KHW.s:3871   .text.flash_check_user_key:0000000000000020 $d
     /tmp/ccbX2KHW.s:3876   .text.flash_check_resource_range:0000000000000000 $t
     /tmp/ccbX2KHW.s:3997   .text.flash_check_resource_range:000000000000008c $d
     /tmp/ccbX2KHW.s:4002   .text.flash_get_protection_info:0000000000000000 $t
                           .group:0000000000000000 wm4.0.b17fa403cb9718989e7a4b461e73e1c9
                           .group:0000000000000000 wm4.redlib_version.h.16.f905717e4b3a91dcbdbb631865150df4
                           .group:0000000000000000 wm4.assert.h.25.5fa7b1099c5f353f7f0154f84a745cec
                           .group:0000000000000000 wm4.stdbool.h.15.fddf1cb2402fd739d8e2516677869231
                           .group:0000000000000000 wm4.libconfigarm.h.19.34723c94cbd19598192aa6b1e87fca41
                           .group:0000000000000000 wm4.stdint.h.31.58198de4ea930fb897655479091e17c7
                           .group:0000000000000000 wm4.fsl_device_registers.h.32.0bd0fc1949c4d5ee8778d13f693b6d67
                           .group:0000000000000000 wm4.MKL25Z4.h.103.6fa60f7365436a291410ac7ae38d8851
                           .group:0000000000000000 wm4.core_cm0plus.h.42.7e68c73109133db28e6113a0ee252d6f
                           .group:0000000000000000 wm4.cmsis_gcc.h.36.5bb14fd68ce7855540fcfe2d9305ae16
                           .group:0000000000000000 wm4.core_cm0plus.h.175.8e2cbb335a2ae70828db295817e11b6e
                           .group:0000000000000000 wm4.system_MKL25Z4.h.107.b43986f939b1bf0ee0f9aa04879788f4
                           .group:0000000000000000 wm4.MKL25Z4.h.379.376a3f36380a1b2f1e4cdc95287bb342
                           .group:0000000000000000 wm4.MKL25Z4_features.h.84.30fd6c6f11c9d2ffea2189829de10275
                           .group:0000000000000000 wm4.fsl_common.h.55.f0a989f874fed9062f996a5c92215a0e
                           .group:0000000000000000 wm4.fsl_clock.h.61.86ace3515ab77fa85db71e2d42e7d189
                           .group:0000000000000000 wm4.fsl_common.h.162.37daaf5dee6e1f72e10ac988afa1643d
                           .group:0000000000000000 wm4.fsl_flash.h.62.4d8dab7244e2be99ca8192680b574bed

UNDEFINED SYMBOLS
__aeabi_uidivmod
__aeabi_uidiv
memset
memcpy
